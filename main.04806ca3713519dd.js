(self.webpackChunkbluerays_alpha=self.webpackChunkbluerays_alpha||[]).push([[179],{7452:Kt=>{function st(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function F(ce){return"function"==typeof ce}function y(ce){return"object"==typeof ce&&null!==ce}function re(ce){return void 0===ce}Kt.exports=st,st.prototype._events=void 0,st.prototype._maxListeners=void 0,st.defaultMaxListeners=10,st.prototype.setMaxListeners=function(ce){if(!function a(ce){return"number"==typeof ce}(ce)||ce<0||isNaN(ce))throw TypeError("n must be a positive number");return this._maxListeners=ce,this},st.prototype.emit=function(ce){var Ie,ae,Pe,Ne,Le,Ee;if(this._events||(this._events={}),"error"===ce&&(!this._events.error||y(this._events.error)&&!this._events.error.length)){if((Ie=arguments[1])instanceof Error)throw Ie;var fe=new Error('Uncaught, unspecified "error" event. ('+Ie+")");throw fe.context=Ie,fe}if(re(ae=this._events[ce]))return!1;if(F(ae))switch(arguments.length){case 1:ae.call(this);break;case 2:ae.call(this,arguments[1]);break;case 3:ae.call(this,arguments[1],arguments[2]);break;default:Ne=Array.prototype.slice.call(arguments,1),ae.apply(this,Ne)}else if(y(ae))for(Ne=Array.prototype.slice.call(arguments,1),Pe=(Ee=ae.slice()).length,Le=0;Le<Pe;Le++)Ee[Le].apply(this,Ne);return!0},st.prototype.on=st.prototype.addListener=function(ce,Ie){var ae;if(!F(Ie))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",ce,F(Ie.listener)?Ie.listener:Ie),this._events[ce]?y(this._events[ce])?this._events[ce].push(Ie):this._events[ce]=[this._events[ce],Ie]:this._events[ce]=Ie,y(this._events[ce])&&!this._events[ce].warned&&(ae=re(this._maxListeners)?st.defaultMaxListeners:this._maxListeners)&&ae>0&&this._events[ce].length>ae&&(this._events[ce].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[ce].length),"function"==typeof console.trace&&console.trace()),this},st.prototype.once=function(ce,Ie){if(!F(Ie))throw TypeError("listener must be a function");var ae=!1;function Pe(){this.removeListener(ce,Pe),ae||(ae=!0,Ie.apply(this,arguments))}return Pe.listener=Ie,this.on(ce,Pe),this},st.prototype.removeListener=function(ce,Ie){var ae,Pe,Ne,Le;if(!F(Ie))throw TypeError("listener must be a function");if(!this._events||!this._events[ce])return this;if(Ne=(ae=this._events[ce]).length,Pe=-1,ae===Ie||F(ae.listener)&&ae.listener===Ie)delete this._events[ce],this._events.removeListener&&this.emit("removeListener",ce,Ie);else if(y(ae)){for(Le=Ne;Le-- >0;)if(ae[Le]===Ie||ae[Le].listener&&ae[Le].listener===Ie){Pe=Le;break}if(Pe<0)return this;1===ae.length?(ae.length=0,delete this._events[ce]):ae.splice(Pe,1),this._events.removeListener&&this.emit("removeListener",ce,Ie)}return this},st.prototype.removeAllListeners=function(ce){var Ie,ae;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[ce]&&delete this._events[ce],this;if(0===arguments.length){for(Ie in this._events)"removeListener"!==Ie&&this.removeAllListeners(Ie);return this.removeAllListeners("removeListener"),this._events={},this}if(F(ae=this._events[ce]))this.removeListener(ce,ae);else if(ae)for(;ae.length;)this.removeListener(ce,ae[ae.length-1]);return delete this._events[ce],this},st.prototype.listeners=function(ce){return this._events&&this._events[ce]?F(this._events[ce])?[this._events[ce]]:this._events[ce].slice():[]},st.prototype.listenerCount=function(ce){if(this._events){var Ie=this._events[ce];if(F(Ie))return 1;if(Ie)return Ie.length}return 0},st.listenerCount=function(ce,Ie){return ce.listenerCount(Ie)}},284:(Kt,st,F)=>{"use strict";F.d(st,{nm:()=>Fr});var a=F(7937);F(5e3),F(5867);var Ze=F(5861),tt=F(9206);const pt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,Q){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ge=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Be=[];for(let We=0;We<oe.length;We+=3){const Yt=oe[We],Gn=We+1<oe.length,qr=Gn?oe[We+1]:0,Cr=We+2<oe.length,Ti=Cr?oe[We+2]:0;let bo=(15&qr)<<2|Ti>>6,wo=63&Ti;Cr||(wo=64,Gn||(bo=64)),Be.push(ge[Yt>>2],ge[(3&Yt)<<4|qr>>4],ge[bo],ge[wo])}return Be.join("")},encodeString(oe,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(oe):this.encodeByteArray(function(oe){const Q=[];let ge=0;for(let Be=0;Be<oe.length;Be++){let We=oe.charCodeAt(Be);We<128?Q[ge++]=We:We<2048?(Q[ge++]=We>>6|192,Q[ge++]=63&We|128):55296==(64512&We)&&Be+1<oe.length&&56320==(64512&oe.charCodeAt(Be+1))?(We=65536+((1023&We)<<10)+(1023&oe.charCodeAt(++Be)),Q[ge++]=We>>18|240,Q[ge++]=We>>12&63|128,Q[ge++]=We>>6&63|128,Q[ge++]=63&We|128):(Q[ge++]=We>>12|224,Q[ge++]=We>>6&63|128,Q[ge++]=63&We|128)}return Q}(oe),Q)},decodeString(oe,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(oe):function(oe){const Q=[];let ge=0,Be=0;for(;ge<oe.length;){const We=oe[ge++];if(We<128)Q[Be++]=String.fromCharCode(We);else if(We>191&&We<224){const Yt=oe[ge++];Q[Be++]=String.fromCharCode((31&We)<<6|63&Yt)}else if(We>239&&We<365){const Cr=((7&We)<<18|(63&oe[ge++])<<12|(63&oe[ge++])<<6|63&oe[ge++])-65536;Q[Be++]=String.fromCharCode(55296+(Cr>>10)),Q[Be++]=String.fromCharCode(56320+(1023&Cr))}else{const Yt=oe[ge++],Gn=oe[ge++];Q[Be++]=String.fromCharCode((15&We)<<12|(63&Yt)<<6|63&Gn)}}return Q.join("")}(this.decodeStringToByteArray(oe,Q))},decodeStringToByteArray(oe,Q){this.init_();const ge=Q?this.charToByteMapWebSafe_:this.charToByteMap_,Be=[];for(let We=0;We<oe.length;){const Yt=ge[oe.charAt(We++)],qr=We<oe.length?ge[oe.charAt(We)]:0;++We;const Ti=We<oe.length?ge[oe.charAt(We)]:64;++We;const mi=We<oe.length?ge[oe.charAt(We)]:64;if(++We,null==Yt||null==qr||null==Ti||null==mi)throw Error();Be.push(Yt<<2|qr>>4),64!==Ti&&(Be.push(qr<<4&240|Ti>>2),64!==mi&&Be.push(Ti<<6&192|mi))}return Be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}};class kt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,ge)=>{this.resolve=Q,this.reject=ge})}wrapCallback(Q){return(ge,Be)=>{ge?this.reject(ge):this.resolve(Be),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(ge):Q(ge,Be))}}}class er extends Error{constructor(Q,ge,Be){super(ge),this.code=Q,this.customData=Be,this.name="FirebaseError",Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wr.prototype.create)}}class wr{constructor(Q,ge,Be){this.service=Q,this.serviceName=ge,this.errors=Be}create(Q,...ge){const Be=ge[0]||{},We=`${this.service}/${Q}`,Yt=this.errors[Q],Gn=Yt?function vr(oe,Q){return oe.replace(xr,(ge,Be)=>{const We=Q[Be];return null!=We?String(We):`<${Be}?>`})}(Yt,Be):"Error";return new er(We,`${this.serviceName}: ${Gn} (${We}).`,Be)}}const xr=/\{\$([^}]+)}/g;class _i{constructor(Q,ge,Be){this.name=Q,this.instanceFactory=ge,this.type=Be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const ye=[];var ke=(()=>{return(oe=ke||(ke={}))[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",ke;var oe})();const Ke={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},Ye=ke.INFO,rn={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},kn=(oe,Q,...ge)=>{if(Q<oe.logLevel)return;const Be=(new Date).toISOString(),We=rn[Q];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);console[We](`[${Be}]  ${oe.name}:`,...ge)},dt=new Map,ir={activated:!1,tokenObservers:[]},On={initialized:!1,enabled:!1};function qn(oe){return dt.get(oe)||ir}function kr(oe,Q){dt.set(oe,Q)}function os(){return On}class rt{constructor(Q,ge,Be,We,Yt){if(this.operation=Q,this.retryPolicy=ge,this.getWaitDuration=Be,this.lowerBound=We,this.upperBound=Yt,this.pending=null,this.nextErrorWaitInterval=We,We>Yt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Q){var ge=this;return(0,Ze.Z)(function*(){ge.stop();try{ge.pending=new kt,yield function Lt(oe){return new Promise(Q=>{setTimeout(Q,oe)})}(ge.getNextRun(Q)),ge.pending.resolve(),yield ge.pending.promise,ge.pending=new kt,yield ge.operation(),ge.pending.resolve(),yield ge.pending.promise,ge.process(!0).catch(()=>{})}catch(Be){ge.retryPolicy(Be)?ge.process(!1).catch(()=>{}):ge.stop()}})()}getNextRun(Q){if(Q)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ge=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ge}}}const yn=new wr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Un(oe){if(!qn(oe).activated)throw yn.create("use-before-activation",{appName:oe.name})}function Si(oe,Q){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,Ze.Z)(function*({url:oe,body:Q},ge){const Be={"Content-Type":"application/json"},We=ge.getImmediate({optional:!0});We&&(Be["X-Firebase-Client"]=We.getPlatformInfoString());const Yt={method:"POST",body:JSON.stringify(Q),headers:Be};let Gn,qr;try{Gn=yield fetch(oe,Yt)}catch(mi){throw yn.create("fetch-network-error",{originalErrorMessage:mi.message})}if(200!==Gn.status)throw yn.create("fetch-status-error",{httpStatus:Gn.status});try{qr=yield Gn.json()}catch(mi){throw yn.create("fetch-parse-error",{originalErrorMessage:mi.message})}const Cr=qr.ttl.match(/^([\d.]+)(s)$/);if(!Cr||!Cr[2]||isNaN(Number(Cr[1])))throw yn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${qr.ttl}`});const Ti=1e3*Number(Cr[1]),rs=Date.now();return{token:qr.attestationToken,expireTimeMillis:rs+Ti,issuedAtTimeMillis:rs}})).apply(this,arguments)}function Is(oe,Q){const{projectId:ge,appId:Be,apiKey:We}=oe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${ge}/apps/${Be}:exchangeDebugToken?key=${We}`,body:{debug_token:Q}}}const $i="firebase-app-check-store";let io=null;function Lo(){return io||(io=new Promise((oe,Q)=>{try{const ge=indexedDB.open("firebase-app-check-database",1);ge.onsuccess=Be=>{oe(Be.target.result)},ge.onerror=Be=>{var We;Q(yn.create("storage-open",{originalErrorMessage:null===(We=Be.target.error)||void 0===We?void 0:We.message}))},ge.onupgradeneeded=Be=>{0===Be.oldVersion&&Be.target.result.createObjectStore($i,{keyPath:"compositeKey"})}}catch(ge){Q(yn.create("storage-open",{originalErrorMessage:ge.message}))}}),io)}function Nn(){return(Nn=(0,Ze.Z)(function*(oe,Q){const Be=(yield Lo()).transaction($i,"readwrite"),Yt=Be.objectStore($i).put({compositeKey:oe,value:Q});return new Promise((Gn,qr)=>{Yt.onsuccess=Cr=>{Gn()},Be.onerror=Cr=>{var Ti;qr(yn.create("storage-set",{originalErrorMessage:null===(Ti=Cr.target.error)||void 0===Ti?void 0:Ti.message}))}})})).apply(this,arguments)}const Ri=new class zr{constructor(Q){this.name=Q,this._logLevel=Ye,this._logHandler=kn,this._userLogHandler=null,ye.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in ke))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"==typeof Q?Ke[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(...Q){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...Q),this._logHandler(this,ke.DEBUG,...Q)}log(...Q){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...Q),this._logHandler(this,ke.VERBOSE,...Q)}info(...Q){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...Q),this._logHandler(this,ke.INFO,...Q)}warn(...Q){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...Q),this._logHandler(this,ke.WARN,...Q)}error(...Q){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...Q),this._logHandler(this,ke.ERROR,...Q)}}("@firebase/app-check");function hi(oe,Q){return function Vr(){return"object"==typeof indexedDB}()?function pe(oe,Q){return function vt(oe,Q){return Nn.apply(this,arguments)}(function Jr(oe){return`${oe.options.appId}-${oe.name}`}(oe),Q)}(oe,Q).catch(ge=>{Ri.warn(`Failed to write token to IndexedDB. Error: ${ge}`)}):Promise.resolve()}function Uo(){return os().enabled}function Co(){return mo.apply(this,arguments)}function mo(){return(mo=(0,Ze.Z)(function*(){const oe=os();if(oe.enabled&&oe.token)return oe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Rs={error:"UNKNOWN_ERROR"};function as(oe){return pt.encodeString(JSON.stringify(oe),!1)}function Mi(oe){return gs.apply(this,arguments)}function gs(){return(gs=(0,Ze.Z)(function*(oe,Q=!1){const ge=oe.app;Un(ge);const Be=qn(ge);let Yt,We=Be.token;if(!We){const Cr=yield Be.cachedTokenPromise;Cr&&so(Cr)&&(We=Cr)}if(!Q&&We&&so(We))return{token:We.token};let qr,Gn=!1;if(Uo()){Be.exchangeTokenPromise||(Be.exchangeTokenPromise=Si(Is(ge,yield Co()),oe.platformLoggerProvider).then(Ti=>(Be.exchangeTokenPromise=void 0,Ti)),Gn=!0);const Cr=yield Be.exchangeTokenPromise;return yield hi(ge,Cr),kr(ge,Object.assign(Object.assign({},Be),{token:Cr})),{token:Cr.token}}try{Be.exchangeTokenPromise||(Be.exchangeTokenPromise=Be.provider.getToken().then(Cr=>(Be.exchangeTokenPromise=void 0,Cr)),Gn=!0),We=yield Be.exchangeTokenPromise}catch(Cr){"appCheck/throttled"===Cr.code?Ri.warn(Cr.message):Ri.error(Cr),Yt=Cr}return We?(qr={token:We.token},kr(ge,Object.assign(Object.assign({},Be),{token:We})),yield hi(ge,We)):qr=To(Yt),Gn&&ns(ge,qr),qr})).apply(this,arguments)}function jo(oe,Q){const ge=qn(oe),Be=ge.tokenObservers.filter(We=>We.next!==Q);0===Be.length&&ge.tokenRefresher&&ge.tokenRefresher.isRunning()&&ge.tokenRefresher.stop(),kr(oe,Object.assign(Object.assign({},ge),{tokenObservers:Be}))}function yo(oe){const{app:Q}=oe,ge=qn(Q);let Be=ge.tokenRefresher;Be||(Be=function Js(oe){const{app:Q}=oe;return new rt((0,Ze.Z)(function*(){let Be;if(Be=qn(Q).token?yield Mi(oe,!0):yield Mi(oe),Be.error)throw Be.error}),()=>!0,()=>{const ge=qn(Q);if(ge.token){let Be=ge.token.issuedAtTimeMillis+.5*(ge.token.expireTimeMillis-ge.token.issuedAtTimeMillis)+3e5;return Be=Math.min(Be,ge.token.expireTimeMillis-3e5),Math.max(0,Be-Date.now())}return 0},3e4,96e4)}(oe),kr(Q,Object.assign(Object.assign({},ge),{tokenRefresher:Be}))),!Be.isRunning()&&ge.isTokenAutoRefreshEnabled&&Be.start()}function ns(oe,Q){const ge=qn(oe).tokenObservers;for(const Be of ge)try{"EXTERNAL"===Be.type&&null!=Q.error?Be.error(Q.error):Be.next(Q)}catch(We){}}function so(oe){return oe.expireTimeMillis-Date.now()>0}function To(oe){return{token:as(Rs),error:oe}}class As{constructor(Q,ge){this.app=Q,this.platformLoggerProvider=ge}_delete(){const{tokenObservers:Q}=qn(this.app);for(const ge of Q)jo(this.app,ge.next);return Promise.resolve()}}const V="app-check-internal";!function J(){(0,tt._registerComponent)(new _i("app-check",oe=>function ms(oe,Q){return new As(oe,Q)}(oe.getProvider("app").getImmediate(),oe.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((oe,Q,ge)=>{oe.getProvider(V).initialize()})),(0,tt._registerComponent)(new _i(V,oe=>function Wi(oe){return{getToken:Q=>Mi(oe,Q),addTokenListener:Q=>function Ui(oe,Q,ge,Be){const{app:We}=oe,Yt=qn(We),Gn={next:ge,error:Be,type:Q};if(kr(We,Object.assign(Object.assign({},Yt),{tokenObservers:[...Yt.tokenObservers,Gn]})),Yt.token&&so(Yt.token)){const qr=Yt.token;Promise.resolve().then(()=>{ge({token:qr.token}),yo(oe)}).catch(()=>{})}Yt.cachedTokenPromise.then(()=>yo(oe))}(oe,"INTERNAL",Q),removeTokenListener:Q=>jo(oe.app,Q)}}(oe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,tt.registerVersion)("@firebase/app-check","0.5.3")}();class Fr{constructor(){return(0,a.vb)("app-check")}}"undefined"!=typeof window&&window},1205:(Kt,st,F)=>{"use strict";F.d(st,{zQ:()=>bt,ww:()=>Qn,rT:()=>pt,f7:()=>Et,L6:()=>Jt,_Q:()=>ze,lh:()=>Dt,Qv:()=>Tt,nw:()=>tn});var a=F(5e3),y=F(7579),re=F(9646),ce=F(8306),Ie=F(8996),ae=F(6451),Pe=F(6063);class Ne extends y.x{constructor(kt=1/0,zt=1/0,Rt=Pe.l){super(),this._bufferSize=kt,this._windowTime=zt,this._timestampProvider=Rt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=zt===1/0,this._bufferSize=Math.max(1,kt),this._windowTime=Math.max(1,zt)}next(kt){const{isStopped:zt,_buffer:Rt,_infiniteTimeWindow:Dn,_timestampProvider:In,_windowTime:It}=this;zt||(Rt.push(kt),!Dn&&Rt.push(In.now()+It)),this._trimBuffer(),super.next(kt)}_subscribe(kt){this._throwIfClosed(),this._trimBuffer();const zt=this._innerSubscribe(kt),{_infiniteTimeWindow:Rt,_buffer:Dn}=this,In=Dn.slice();for(let It=0;It<In.length&&!kt.closed;It+=Rt?1:2)kt.next(In[It]);return this._checkFinalizedStatuses(kt),zt}_trimBuffer(){const{_bufferSize:kt,_timestampProvider:zt,_buffer:Rt,_infiniteTimeWindow:Dn}=this,In=(Dn?1:2)*kt;if(kt<1/0&&In<Rt.length&&Rt.splice(0,Rt.length-In),!Dn){const It=zt.now();let At=0;for(let Ut=1;Ut<Rt.length&&Rt[Ut]<=It;Ut+=2)At=Ut;At&&Rt.splice(0,At+1)}}}var Le=F(3099);function Ee(qt,kt,zt){let Rt,Dn=!1;return qt&&"object"==typeof qt?({bufferSize:Rt=1/0,windowTime:kt=1/0,refCount:Dn=!1,scheduler:zt}=qt):Rt=null!=qt?qt:1/0,(0,Le.B)({connector:()=>new Ne(Rt,kt,zt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Dn})}var fe=F(3900),Ae=F(576);function Ce(qt,kt){return(0,Ae.m)(kt)?(0,fe.w)(()=>qt,kt):(0,fe.w)(()=>qt)}var ne=F(5363),ee=F(4004),Se=F(590),ue=F(9468),Re=F(9300),we=F(7937),it=F(2011),Ze=F(9808),tt=F(284),_t=F(127);const Tt=new a.OlP("angularfire2.auth.use-emulator"),Jt=new a.OlP("angularfire2.auth.settings"),ze=new a.OlP("angularfire2.auth.tenant-id"),pt=new a.OlP("angularfire2.auth.langugage-code"),Dt=new a.OlP("angularfire2.auth.use-device-language"),Et=new a.OlP("angularfire.auth.persistence"),tn=(qt,kt,zt,Rt,Dn,In,It,At)=>(0,it.cc)(`${qt.name}.auth`,"AngularFireAuth",qt.name,()=>{const Ut=kt.runOutsideAngular(()=>qt.auth());if(zt&&Ut.useEmulator(...zt),Rt&&(Ut.tenantId=Rt),Ut.languageCode=Dn,In&&Ut.useDeviceLanguage(),It)for(const[an,Sn]of Object.entries(It))Ut.settings[an]=Sn;return At&&Ut.setPersistence(At),Ut},[zt,Rt,Dn,In,It,At]);let bt=(()=>{class qt{constructor(zt,Rt,Dn,In,It,At,Ut,an,Sn,Zn,$n,ar){const Vr=new y.x,Zr=(0,re.of)(void 0).pipe((0,ne.Q)(It.outsideAngular),(0,fe.w)(()=>In.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,8963)))),(0,ee.U)(()=>(0,it.on)(zt,In,Rt)),(0,ee.U)(Pr=>tn(Pr,In,At,an,Sn,Zn,Ut,$n)),Ee({bufferSize:1,refCount:!1}));if((0,Ze.PM)(Dn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,re.of)(null);else{Zr.pipe((0,Se.P)()).subscribe();const Gr=Zr.pipe((0,fe.w)(wr=>wr.getRedirectResult().then(vr=>vr,()=>null)),we.iC,Ee({bufferSize:1,refCount:!1})),ti=Zr.pipe((0,fe.w)(wr=>new ce.y(vr=>({unsubscribe:In.runOutsideAngular(()=>wr.onAuthStateChanged(xr=>vr.next(xr),xr=>vr.error(xr),()=>vr.complete()))})))),er=Zr.pipe((0,fe.w)(wr=>new ce.y(vr=>({unsubscribe:In.runOutsideAngular(()=>wr.onIdTokenChanged(xr=>vr.next(xr),xr=>vr.error(xr),()=>vr.complete()))}))));this.authState=Gr.pipe(Ce(ti),(0,ue.R)(It.outsideAngular),(0,ne.Q)(It.insideAngular)),this.user=Gr.pipe(Ce(er),(0,ue.R)(It.outsideAngular),(0,ne.Q)(It.insideAngular)),this.idToken=this.user.pipe((0,fe.w)(wr=>wr?(0,Ie.D)(wr.getIdToken()):(0,re.of)(null))),this.idTokenResult=this.user.pipe((0,fe.w)(wr=>wr?(0,Ie.D)(wr.getIdTokenResult()):(0,re.of)(null))),this.credential=(0,ae.T)(Gr,Vr,this.authState.pipe((0,Re.h)(wr=>!wr))).pipe((0,ee.U)(wr=>(null==wr?void 0:wr.user)?wr:null),(0,ue.R)(It.outsideAngular),(0,ne.Q)(It.insideAngular))}return(0,it.pX)(this,Zr,In,{spy:{apply:(Pr,Gr,ti)=>{(Pr.startsWith("signIn")||Pr.startsWith("createUser"))&&ti.then(er=>Vr.next(er))}}})}}return qt.\u0275fac=function(zt){return new(zt||qt)(a.LFG(it.Dh),a.LFG(it.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(we.HU),a.LFG(Tt,8),a.LFG(Jt,8),a.LFG(ze,8),a.LFG(pt,8),a.LFG(Dt,8),a.LFG(Et,8),a.LFG(tt.nm,8))},qt.\u0275prov=a.Yz7({token:qt,factory:qt.\u0275fac,providedIn:"any"}),qt})(),Qn=(()=>{class qt{constructor(){_t.Z.registerVersion("angularfire",we.q4.full,"auth-compat")}}return qt.\u0275fac=function(zt){return new(zt||qt)},qt.\u0275mod=a.oAB({type:qt}),qt.\u0275inj=a.cJS({providers:[bt]}),qt})()},2297:(Kt,st,F)=>{"use strict";F.d(st,{ST:()=>l_,yb:()=>yy});var a=F(5e3),y=F(4986),re=F(8306),ce=F(8996),Ie=F(9646),ae=F(7937),Pe=F(4482),Ne=F(5403);function Le(){return(0,Pe.e)((n,e)=>{let t,s=!1;n.subscribe((0,Ne.x)(e,c=>{const w=t;t=c,s&&e.next([w,c]),s=!0}))})}var Ee=F(8675),fe=F(4004),Ae=F(5026),Ce=F(1884),ne=F(9300),ee=F(2011),Se=F(9808),Re=(F(8963),F(8001)),we=F(5861),it=F(9206);const Ve=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let c=n.charCodeAt(s);c<128?e[t++]=c:c<2048?(e[t++]=c>>6|192,e[t++]=63&c|128):55296==(64512&c)&&s+1<n.length&&56320==(64512&n.charCodeAt(s+1))?(c=65536+((1023&c)<<10)+(1023&n.charCodeAt(++s)),e[t++]=c>>18|240,e[t++]=c>>12&63|128,e[t++]=c>>6&63|128,e[t++]=63&c|128):(e[t++]=c>>12|224,e[t++]=c>>6&63|128,e[t++]=63&c|128)}return e},Jt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let c=0;c<n.length;c+=3){const w=n[c],C=c+1<n.length,j=C?n[c+1]:0,te=c+2<n.length,le=te?n[c+2]:0;let Wt=(15&j)<<2|le>>6,bn=63&le;te||(bn=64,C||(Wt=64)),s.push(t[w>>2],t[(3&w)<<4|j>>4],t[Wt],t[bn])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ve(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,s=0;for(;t<n.length;){const c=n[t++];if(c<128)e[s++]=String.fromCharCode(c);else if(c>191&&c<224){const w=n[t++];e[s++]=String.fromCharCode((31&c)<<6|63&w)}else if(c>239&&c<365){const te=((7&c)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[s++]=String.fromCharCode(55296+(te>>10)),e[s++]=String.fromCharCode(56320+(1023&te))}else{const w=n[t++],C=n[t++];e[s++]=String.fromCharCode((15&c)<<12|(63&w)<<6|63&C)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let c=0;c<n.length;){const w=t[n.charAt(c++)],j=c<n.length?t[n.charAt(c)]:0;++c;const le=c<n.length?t[n.charAt(c)]:64;++c;const Ge=c<n.length?t[n.charAt(c)]:64;if(++c,null==w||null==j||null==le||null==Ge)throw Error();s.push(w<<2|j>>4),64!==le&&(s.push(j<<4&240|le>>2),64!==Ge&&s.push(le<<6&192|Ge))}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},pt=function(n){return function(n){const e=Ve(n);return Jt.encodeByteArray(e,!0)}(n).replace(/\./g,"")};function kt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Gr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name="FirebaseError",Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ti.prototype.create)}}class ti{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},c=`${this.service}/${e}`,w=this.errors[e],C=w?function er(n,e){return n.replace(wr,(t,s)=>{const c=e[s];return null!=c?String(c):`<${s}?>`})}(w,s):"Error";return new Gr(c,`${this.serviceName}: ${C} (${c}).`,s)}}const wr=/\{\$([^}]+)}/g;function Qt(n){return n&&n._delegate?n._delegate:n}class Yn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ii=[];var Oe=(()=>{return(n=Oe||(Oe={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Oe;var n})();const ye={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},ke=Oe.INFO,Ke={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Ye=(n,e,...t)=>{if(e<n.logLevel)return;const s=(new Date).toISOString(),c=Ke[e];if(!c)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[c](`[${s}]  ${n.name}:`,...t)};var dt,Er="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},yr={},ir=ir||{},On=Er||self;function qn(){}function kr(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function os(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Hi="closure_uid_"+(1e9*Math.random()>>>0),Ii=0;function Yr(n,e,t){return n.call.apply(n.bind,arguments)}function Es(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),n.apply(e,c)}}return function(){return n.apply(e,arguments)}}function $r(n,e,t){return($r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yr:Es).apply(null,arguments)}function rt(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function Lt(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(s,c,w){for(var C=Array(arguments.length-2),j=2;j<arguments.length;j++)C[j-2]=arguments[j];return e.prototype[c].apply(s,C)}}function Ft(){this.s=this.s,this.o=this.o}var Cn={};Ft.prototype.s=!1,Ft.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function ro(n){return Object.prototype.hasOwnProperty.call(n,Hi)&&n[Hi]||(n[Hi]=++Ii)}(this);delete Cn[n]}},Ft.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Un=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Wn=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const s=n.length,c="string"==typeof n?n.split(""):n;for(let w=0;w<s;w++)w in c&&e.call(t,c[w],w,n)};function Ir(n){return Array.prototype.concat.apply([],arguments)}function Si(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function Rr(n){return/^[\s\xa0]*$/.test(n)}var Oi,Ci=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Tr(n,e){return-1!=n.indexOf(e)}function Is(n,e){return n<e?-1:n>e?1:0}e:{var Mo=On.navigator;if(Mo){var $i=Mo.userAgent;if($i){Oi=$i;break e}}Oi=""}function Os(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function io(n){const e={};for(const t in n)e[t]=n[t];return e}var Lo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $e(n,e){let t,s;for(let c=1;c<arguments.length;c++){for(t in s=arguments[c],s)n[t]=s[t];for(let w=0;w<Lo.length;w++)t=Lo[w],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function pe(n){return pe[" "](n),n}pe[" "]=qn;var Ls,n,Ot=Tr(Oi,"Opera"),vt=Tr(Oi,"Trident")||Tr(Oi,"MSIE"),Nn=Tr(Oi,"Edge"),rr=Nn||vt,pr=Tr(Oi,"Gecko")&&!(Tr(Oi.toLowerCase(),"webkit")&&!Tr(Oi,"Edge"))&&!(Tr(Oi,"Trident")||Tr(Oi,"MSIE"))&&!Tr(Oi,"Edge"),Jr=Tr(Oi.toLowerCase(),"webkit")&&!Tr(Oi,"Edge");function Ri(){var n=On.document;return n?n.documentMode:void 0}e:{var li="",hi=(n=Oi,pr?/rv:([^\);]+)(\)|;)/.exec(n):Nn?/Edge\/([\d\.]+)/.exec(n):vt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Jr?/WebKit\/(\S+)/.exec(n):Ot?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(hi&&(li=hi?hi[1]:""),vt){var Ss=Ri();if(null!=Ss&&Ss>parseFloat(li)){Ls=String(Ss);break e}}Ls=li}var go={};var Us=On.document&&vt&&(Ri()||parseInt(Ls,10))||void 0,Rs=function(){if(!On.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{On.addEventListener("test",qn,e),On.removeEventListener("test",qn,e)}catch(t){}return n}();function as(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Mi(n,e){if(as.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(pr){e:{try{pe(e.nodeName);var c=!0;break e}catch(w){}c=!1}c||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:gs[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Mi.Z.h.call(this)}}as.prototype.h=function(){this.defaultPrevented=!0},Lt(Mi,as);var gs={2:"touch",3:"pen",4:"mouse"};Mi.prototype.h=function(){Mi.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ui="closure_listenable_"+(1e6*Math.random()|0),jo=0;function yo(n,e,t,s,c){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=c,this.key=++jo,this.ca=this.fa=!1}function Js(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function ns(n){this.src=n,this.g={},this.h=0}function so(n,e){var t=e.type;if(t in n.g){var w,s=n.g[t],c=Un(s,e);(w=0<=c)&&Array.prototype.splice.call(s,c,1),w&&(Js(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function To(n,e,t,s){for(var c=0;c<n.length;++c){var w=n[c];if(!w.ca&&w.listener==e&&w.capture==!!t&&w.ia==s)return c}return-1}ns.prototype.add=function(n,e,t,s,c){var w=n.toString();(n=this.g[w])||(n=this.g[w]=[],this.h++);var C=To(n,e,s,c);return-1<C?(e=n[C],t||(e.fa=!1)):((e=new yo(e,this.src,w,!!s,c)).fa=t,n.push(e)),e};var As="closure_lm_"+(1e6*Math.random()|0),ms={};function Wi(n,e,t,s,c){if(s&&s.once)return de(n,e,t,s,c);if(Array.isArray(e)){for(var w=0;w<e.length;w++)Wi(n,e[w],t,s,c);return null}return t=di(t),n&&n[Ui]?n.N(e,t,os(s)?!!s.capture:!!s,c):bi(n,e,t,!1,s,c)}function bi(n,e,t,s,c,w){if(!e)throw Error("Invalid event type");var C=os(c)?!!c.capture:!!c,j=hn(n);if(j||(n[As]=j=new ns(n)),(t=j.add(e,t,s,C,w)).proxy)return t;if(s=function q(){var e=Gt;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)Rs||(c=C),void 0===c&&(c=!1),n.addEventListener(e.toString(),s,c);else if(n.attachEvent)n.attachEvent(nt(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function de(n,e,t,s,c){if(Array.isArray(e)){for(var w=0;w<e.length;w++)de(n,e[w],t,s,c);return null}return t=di(t),n&&n[Ui]?n.O(e,t,os(s)?!!s.capture:!!s,c):bi(n,e,t,!0,s,c)}function W(n,e,t,s,c){if(Array.isArray(e))for(var w=0;w<e.length;w++)W(n,e[w],t,s,c);else s=os(s)?!!s.capture:!!s,t=di(t),n&&n[Ui]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=To(w=n.g[e],t,s,c))&&(Js(w[t]),Array.prototype.splice.call(w,t,1),0==w.length&&(delete n.g[e],n.h--))):n&&(n=hn(n))&&(e=n.g[e.toString()],n=-1,e&&(n=To(e,t,s,c)),(t=-1<n?e[n]:null)&&ve(t))}function ve(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ui])so(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(nt(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=hn(e))?(so(t,n),0==t.h&&(t.src=null,e[As]=null)):Js(n)}}}function nt(n){return n in ms?ms[n]:ms[n]="on"+n}function Gt(n,e){if(n.ca)n=!0;else{e=new Mi(e,this);var t=n.listener,s=n.ia||n.src;n.fa&&ve(n),n=t.call(s,e)}return n}function hn(n){return(n=n[As])instanceof ns?n:null}var dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function di(n){return"function"==typeof n?n:(n[dr]||(n[dr]=function(e){return n.handleEvent(e)}),n[dr])}function Nr(){Ft.call(this),this.i=new ns(this),this.P=this,this.I=null}function Kn(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new as(e,n);else if(e instanceof as)e.target=e.target||n;else{var c=e;$e(e=new as(s,n),c)}if(c=!0,t)for(var w=t.length-1;0<=w;w--){var C=e.g=t[w];c=Xr(C,s,!0,e)&&c}if(c=Xr(C=e.g=n,s,!0,e)&&c,c=Xr(C,s,!1,e)&&c,t)for(w=0;w<t.length;w++)c=Xr(C=e.g=t[w],s,!1,e)&&c}function Xr(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,w=0;w<e.length;++w){var C=e[w];if(C&&!C.ca&&C.capture==t){var j=C.listener,te=C.ia||C.src;C.fa&&so(n.i,C),c=!1!==j.call(te,s)&&c}}return c&&!s.defaultPrevented}Lt(Nr,Ft),Nr.prototype[Ui]=!0,Nr.prototype.removeEventListener=function(n,e,t,s){W(this,n,e,t,s)},Nr.prototype.M=function(){if(Nr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)Js(t[s]);delete n.g[e],n.h--}}this.I=null},Nr.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},Nr.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var Pi=On.JSON.stringify;function wi(){var n=Y;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ia,oo=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ao,n=>n.reset());class ao{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Sr(n){On.setTimeout(()=>{throw n},0)}function vo(n,e){Ia||function Cs(){var n=On.Promise.resolve(void 0);Ia=function(){n.then(H)}}(),co||(Ia(),co=!0),Y.add(n,e)}var co=!1,Y=new class Fi{constructor(){this.h=this.g=null}add(e,t){const s=oo.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function H(){for(var n;n=wi();){try{n.h.call(n.g)}catch(t){Sr(t)}var e=oo;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}co=!1}function V(n,e){Nr.call(this),this.h=n||1,this.g=e||On,this.j=$r(this.kb,this),this.l=Date.now()}function J(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Mt(n,e,t){if("function"==typeof n)t&&(n=$r(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=$r(n.handleEvent,n)}return 2147483647<Number(e)?-1:On.setTimeout(n,e||0)}function Bn(n){n.g=Mt(()=>{n.g=null,n.i&&(n.i=!1,Bn(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Lt(V,Nr),(dt=V.prototype).da=!1,dt.S=null,dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kn(this,"tick"),this.da&&(J(this),this.start()))}},dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){V.Z.M.call(this),J(this),delete this.g};class Fr extends Ft{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Bn(this)}M(){super.M(),this.g&&(On.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(n){Ft.call(this),this.h=n,this.g={}}Lt(cs,Ft);var Ms=[];function Gi(n,e,t,s){Array.isArray(t)||(t&&(Ms[0]=t.toString()),t=Ms);for(var c=0;c<t.length;c++){var w=Wi(e,t[c],s||n.handleEvent,!1,n.h||n);if(!w)break;n.g[w.key]=w}}function Go(n){Os(n.g,function(e,t){this.g.hasOwnProperty(t)&&ve(e)},n),n.g={}}function Hr(){this.g=!0}function _o(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Xs(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var w=c[0];if("noop"!=w&&"stop"!=w&&"close"!=w)for(var C=1;C<c.length;C++)c[C]=""}}}return Pi(t)}catch(j){return e}}(n,t)+(s?" "+s:"")})}cs.prototype.M=function(){cs.Z.M.call(this),Go(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hr.prototype.Aa=function(){this.g=!1},Hr.prototype.info=function(){};var js={},ca=null;function fi(){return ca=ca||new Nr}function zs(n){as.call(this,js.Ma,n)}function Ko(n){const e=fi();Kn(e,new zs(e,n))}function oe(n,e){as.call(this,js.STAT_EVENT,n),this.stat=e}function Q(n){const e=fi();Kn(e,new oe(e,n))}function ge(n,e){as.call(this,js.Na,n),this.size=e}function Be(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return On.setTimeout(function(){n()},e)}js.Ma="serverreachability",Lt(zs,as),js.STAT_EVENT="statevent",Lt(oe,as),js.Na="timingevent",Lt(ge,as);var We={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Yt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Gn(){}function Cr(){}Gn.prototype.h=null;var bo,Ti={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function rs(){as.call(this,"d")}function mi(){as.call(this,"c")}function wo(){}function Xa(n,e,t,s){this.l=n,this.j=e,this.m=t,this.X=s||1,this.V=new cs(this),this.P=Sa,this.W=new V(n=rr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Vc}function Vc(){this.i=null,this.g="",this.h=!1}Lt(rs,as),Lt(mi,as),Lt(wo,Gn),wo.prototype.g=function(){return new XMLHttpRequest},wo.prototype.i=function(){return{}},bo=new wo;var Sa=45e3,ys={},Zs={};function is(n,e,t){n.K=1,n.v=Yo(la(e)),n.s=t,n.U=!0,Iu(n,null)}function Iu(n,e){n.F=Date.now(),$c(n),n.A=la(n.v);var t=n.A,s=n.X;Array.isArray(s)||(s=[String(s)]),Bu(t.h,"t",s),n.C=0,t=n.l.H,n.h=new Vc,n.g=zu(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Fr($r(n.Ia,n,n.g),n.O)),Gi(n.V,n.g,"readystatechange",n.gb),e=n.H?io(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ko(1),function Eu(n,e,t,s,c,w){n.info(function(){if(n.g)if(w)for(var C="",j=w.split("&"),te=0;te<j.length;te++){var le=j[te].split("=");if(1<le.length){var He=le[0];le=le[1];var Ge=He.split("_");C=2<=Ge.length&&"type"==Ge[1]?C+(He+"=")+le+"&":C+(He+"=redacted&")}}else C=null;else C=w;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+"\n"+t+"\n"+C})}(n.j,n.u,n.A,n.m,n.X,n.s)}function fc(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function ua(n,e,t){let c,s=!0;for(;!n.I&&n.C<t.length;){if(c=Hc(n,t),c==Zs){4==e&&(n.o=4,Q(14),s=!1),_o(n.j,n.m,null,"[Incomplete Response]");break}if(c==ys){n.o=4,Q(15),_o(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}_o(n.j,n.m,c,null),uo(n,c)}fc(n)&&c!=Zs&&c!=ys&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Q(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Gl(e),e.L=!0,Q(11))):(_o(n.j,n.m,t,"[Invalid Chunked Response]"),Ki(n),Aa(n))}function Hc(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?Zs:(t=Number(e.substring(t,s)),isNaN(t)?ys:(s+=1)+t>e.length?Zs:(e=e.substr(s,t),n.C=s+t,e))}function $c(n){n.Y=Date.now()+n.P,ou(n,n.P)}function ou(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Be($r(n.eb,n),e)}function Tc(n){n.B&&(On.clearTimeout(n.B),n.B=null)}function Aa(n){0==n.l.G||n.I||$u(n.l,n)}function Ki(n){Tc(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,J(n.W),Go(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function uo(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||me(t.i,n)))if(t.I=n.N,!n.J&&me(t.i,n)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(le){s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0])e:if(t.u)t.ta=c[1],0<t.ta-t.U&&37500>c[2]&&t.N&&0==t.A&&!t.v&&(t.v=Be($r(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Vo(t),ga(t)}Gc(t),Q(18)}if(1>=X(t.i)&&t.ka){try{t.ka()}catch(le){}t.ka=void 0}}else uu(t,11)}else if((n.J||t.g==n)&&Vo(t),!Rr(e))for(c=t.Ca.g.parse(e),e=0;e<c.length;e++){let le=c[e];if(t.U=le[0],le=le[1],2==t.G)if("c"==le[0]){t.J=le[1],t.la=le[2];const He=le[3];null!=He&&(t.ma=He,t.h.info("VER="+t.ma));const Ge=le[4];null!=Ge&&(t.za=Ge,t.h.info("SVER="+t.za));const Wt=le[5];null!=Wt&&"number"==typeof Wt&&0<Wt&&(t.K=s=1.5*Wt,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const bn=n.g;if(bn){const Ln=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ln){var w=s.i;!w.g&&(Tr(Ln,"spdy")||Tr(Ln,"quic")||Tr(Ln,"h2"))&&(w.j=w.l,w.g=new Set,w.h&&(Fe(w,w.h),w.h=null))}if(s.D){const jr=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;jr&&(s.sa=jr,ji(s.F,s.D,jr))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var C=n;if((s=t).oa=Wu(s,s.H?s.la:null,s.W),C.J){ot(s.i,C);var j=C,te=s.K;te&&j.setTimeout(te),j.B&&(Tc(j),$c(j)),s.g=C}else sc(s);0<t.l.length&&ic(t)}else"stop"!=le[0]&&"close"!=le[0]||uu(t,7);else 3==t.G&&("stop"==le[0]||"close"==le[0]?"stop"==le[0]?uu(t,7):Fd(t):"noop"!=le[0]&&t.j&&t.j.wa(le),t.A=0)}Ko(4)}catch(le){}}function ju(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(kr(n)||"string"==typeof n)Wn(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(kr(n)||"string"==typeof n){t=[];for(var s=n.length,c=0;c<s;c++)t.push(c)}else for(c in t=[],s=0,n)t[s++]=c;s=function vs(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(kr(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n),c=s.length;for(var w=0;w<c;w++)e.call(void 0,s[w],t&&t[w],n)}}function qs(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(n)if(n instanceof qs)for(t=n.T(),s=0;s<t.length;s++)this.set(t[s],n.get(t[s]));else for(s in n)this.set(s,n[s])}function Bo(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var s=n.g[e];Qo(n.h,s)&&(n.g[t++]=s),e++}n.g.length=t}if(n.i!=n.g.length){var c={};for(t=e=0;e<n.g.length;)Qo(c,s=n.g[e])||(n.g[t++]=s,c[s]=1),e++;n.g.length=t}}function Qo(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(dt=Xa.prototype).setTimeout=function(n){this.P=n},dt.gb=function(n){n=n.target;const e=this.L;e&&3==Ts(n)?e.l():this.Ia(n)},dt.Ia=function(n){try{if(n==this.g)e:{const He=Ts(this.g);var e=this.g.Da();const Ge=this.g.ba();if(!(3>He)&&(3!=He||rr||this.g&&(this.h.h||this.g.ga()||gc(this.g)))){this.I||4!=He||7==e||Ko(8==e||0>=Ge?3:2),Tc(this);var t=this.g.ba();this.N=t;t:if(fc(this)){var s=gc(this.g);n="";var c=s.length,w=4==Ts(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ki(this),Aa(this);var C="";break t}this.h.i=new On.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:w&&e==c-1});s.splice(0,c),this.h.g+=n,this.C=0,C=this.h.g}else C=this.g.ga();if(this.i=200==t,function su(n,e,t,s,c,w,C){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+w+" "+C})}(this.j,this.u,this.A,this.m,this.X,He,t),this.i){if(this.$&&!this.J){t:{if(this.g){var j,te=this.g;if((j=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rr(j)){var le=j;break t}}le=null}if(!(t=le)){this.i=!1,this.o=3,Q(12),Ki(this),Aa(this);break e}_o(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,uo(this,t)}this.U?(ua(this,He,C),rr&&this.i&&3==He&&(Gi(this.V,this.W,"tick",this.fb),this.W.start())):(_o(this.j,this.m,C,null),uo(this,C)),4==He&&Ki(this),this.i&&!this.I&&(4==He?$u(this.l,this):(this.i=!1,$c(this)))}else 400==t&&0<C.indexOf("Unknown SID")?(this.o=3,Q(12)):(this.o=0,Q(13)),Ki(this),Aa(this)}}}catch(He){}},dt.fb=function(){if(this.g){var n=Ts(this.g),e=this.g.ga();this.C<e.length&&(Tc(this),ua(this,n,e),this.i&&4!=n&&$c(this))}},dt.cancel=function(){this.I=!0,Ki(this)},dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function La(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ko(3),Q(17)),Ki(this),this.o=2,Aa(this)):ou(this,this.Y-n)},(dt=qs.prototype).R=function(){Bo(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},dt.T=function(){return Bo(this),this.g.concat()},dt.get=function(n,e){return Qo(this.h,n)?this.h[n]:e},dt.set=function(n,e){Qo(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},dt.forEach=function(n,e){for(var t=this.T(),s=0;s<t.length;s++){var c=t[s],w=this.get(c);n.call(e,w,c,this)}};var ec=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Po(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Po){this.g=void 0!==e?e:n.g,Wc(this,n.j),this.s=n.s,tc(this,n.i),pc(this,n.m),this.l=n.l,e=n.h;var t=new xc;t.i=e.i,e.g&&(t.g=new qs(e.g),t.h=e.h),Di(this,t),this.o=n.o}else n&&(t=String(n).match(ec))?(this.g=!!e,Wc(this,t[1]||"",!0),this.s=Ua(t[2]||""),tc(this,t[3]||"",!0),pc(this,t[4]),this.l=Ua(t[5]||"",!0),Di(this,t[6]||"",!0),this.o=Ua(t[7]||"")):(this.g=!!e,this.h=new xc(null,this.g))}function la(n){return new Po(n)}function Wc(n,e,t){n.j=t?Ua(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function tc(n,e,t){n.i=t?Ua(e,!0):e}function pc(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Di(n,e,t){e instanceof xc?(n.h=e,function au(n,e){e&&!n.j&&(Jo(n),n.i=null,n.g.forEach(function(t,s){var c=s.toLowerCase();s!=c&&(Su(this,s),Bu(this,c,t))},n)),n.j=e}(n.h,n.g)):(t||(e=da(e,$l)),n.h=new xc(e,n.g))}function ji(n,e,t){n.h.set(e,t)}function Yo(n){return ji(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ua(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function da(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ml),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ml(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Po.prototype.toString=function(){var n=[],e=this.j;e&&n.push(da(e,nc,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(da(e,nc,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(da(t,"/"==t.charAt(0)?Eo:Ta,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",da(t,Wl)),n.join("")};var nc=/[#\/\?@]/g,Ta=/[#\?:]/g,Eo=/[#\?]/g,$l=/[#\?@]/g,Wl=/#/g;function xc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Jo(n){n.g||(n.g=new qs,n.h=0,n.i&&function Dc(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),c=null;if(0<=s){var w=n[t].substring(0,s);c=n[t].substring(s+1)}else w=n[t];e(w,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Su(n,e){Jo(n),e=ja(n,e),Qo(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Qo((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Bo(n)))}function Io(n,e){return Jo(n),e=ja(n,e),Qo(n.g.h,e)}function Bu(n,e,t){Su(n,e),0<t.length&&(n.i=null,n.g.set(ja(n,e),Si(t)),n.h+=t.length)}function ja(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function P(n){this.l=n||M,n=On.PerformanceNavigationTiming?0<(n=On.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(On.g&&On.g.Ea&&On.g.Ea()&&On.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=xc.prototype).add=function(n,e){Jo(this),this.i=null,n=ja(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){Jo(this),this.g.forEach(function(t,s){Wn(t,function(c){n.call(e,c,s,this)},this)},this)},dt.T=function(){Jo(this);for(var n=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var c=n[s],w=0;w<c.length;w++)t.push(e[s]);return t},dt.R=function(n){Jo(this);var e=[];if("string"==typeof n)Io(this,n)&&(e=Ir(e,this.g.get(ja(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Ir(e,n[t])}return e},dt.set=function(n,e){return Jo(this),this.i=null,Io(this,n=ja(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],c=encodeURIComponent(String(s));s=this.R(s);for(var w=0;w<s.length;w++){var C=c;""!==s[w]&&(C+="="+encodeURIComponent(String(s[w]))),n.push(C)}}return this.i=n.join("&")};var M=10;function $(n){return!!n.h||!!n.g&&n.g.size>=n.j}function X(n){return n.h?1:n.g?n.g.size:0}function me(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Fe(n,e){n.g?n.g.add(e):n.h=e}function ot(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function nn(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Si(n.i)}function sr(){}function pi(){this.g=new sr}function br(n,e,t){const s=t||"";try{ju(n,function(c,w){let C=c;os(c)&&(C=Pi(c)),e.push(s+w+"="+encodeURIComponent(C))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function Ei(n,e,t,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch(w){}}function So(n){this.l=n.$b||null,this.j=n.ib||!1}function Xo(n,e){Nr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ha,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}P.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},sr.prototype.stringify=function(n){return On.JSON.stringify(n,void 0)},sr.prototype.parse=function(n){return On.JSON.parse(n,void 0)},Lt(So,Gn),So.prototype.g=function(){return new Xo(this.l,this.j)},So.prototype.i=function(n){return function(){return n}}({}),Lt(Xo,Nr);var ha=0;function Ba(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function No(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fa(n)}function fa(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=Xo.prototype).open=function(n,e){if(this.readyState!=ha)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,fa(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||On).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,No(this)),this.readyState=ha},dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fa(this)),this.g&&(this.readyState=3,fa(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==On.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ba(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?No(this):fa(this),3==this.readyState&&Ba(this)}},dt.Ua=function(n){this.g&&(this.response=this.responseText=n,No(this))},dt.Ta=function(n){this.g&&(this.response=n,No(this))},dt.ha=function(){this.g&&No(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Xo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Oc=On.JSON.parse;function Gs(n){Nr.call(this),this.headers=new qs,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pa,this.K=this.L=!1}Lt(Gs,Nr);var pa="",yf=/^https?$/i,zl=["POST","PUT"];function Pd(n){return"content-type"==n.toLowerCase()}function Nd(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,yl(n),cu(n)}function yl(n){n.D||(n.D=!0,Kn(n,"complete"),Kn(n,"error"))}function ah(n){if(n.h&&void 0!==ir&&(!n.C[1]||4!=Ts(n)||2!=n.ba()))if(n.v&&4==Ts(n))Mt(n.Fa,0,n);else if(Kn(n,"readystatechange"),4==Ts(n)){n.h=!1;try{const j=n.ba();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===j){var c=String(n.H).match(ec)[1]||null;if(!c&&On.self&&On.self.location){var w=On.self.location.protocol;c=w.substr(0,w.length-1)}s=!yf.test(c?c.toLowerCase():"")}t=s}if(t)Kn(n,"complete"),Kn(n,"success");else{n.m=6;try{var C=2<Ts(n)?n.g.statusText:""}catch(te){C=""}n.j=C+" ["+n.ba()+"]",yl(n)}}finally{cu(n)}}}function cu(n,e){if(n.g){Zl(n);const t=n.g,s=n.C[0]?qn:null;n.g=null,n.C=null,e||Kn(n,"ready");try{t.onreadystatechange=s}catch(c){}}}function Zl(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(On.clearTimeout(n.A),n.A=null)}function Ts(n){return n.g?n.g.readyState:0}function gc(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case pa:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ks(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function kd(n){let e="";return Os(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ji(n,e,t))}function Zc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Vu(n){this.za=0,this.l=[],this.h=new Hr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zc("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zc("baseRetryDelayMs",5e3,n),this.$a=Zc("retryDelaySeedMs",1e4,n),this.Ya=Zc("forwardChannelMaxRetries",2,n),this.ra=Zc("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new P(n&&n.concurrentRequestLimit),this.Ca=new pi,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Fd(n){if(rc(n),3==n.G){var e=n.V++,t=la(n.F);ji(t,"SID",n.J),ji(t,"RID",e),ji(t,"TYPE","terminate"),qc(n,t),(e=new Xa(n,n.h,e,void 0)).K=2,e.v=Yo(la(t)),t=!1,On.navigator&&On.navigator.sendBeacon&&(t=On.navigator.sendBeacon(e.v.toString(),"")),!t&&On.Image&&((new Image).src=e.v,t=!0),t||(e.g=zu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),$c(e)}Ud(n)}function ga(n){n.g&&(Gl(n),n.g.cancel(),n.g=null)}function rc(n){ga(n),n.u&&(On.clearTimeout(n.u),n.u=null),Vo(n),n.i.cancel(),n.m&&("number"==typeof n.m&&On.clearTimeout(n.m),n.m=null)}function Ji(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&ic(n)}function ic(n){$(n.i)||n.m||(n.m=!0,vo(n.Ha,n),n.C=0)}function Hu(n,e){var t;t=e?e.m:n.V++;const s=la(n.F);ji(s,"SID",n.J),ji(s,"RID",t),ji(s,"AID",n.U),qc(n,s),n.o&&n.s&&Ks(s,n.o,n.s),t=new Xa(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=ql(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Fe(n.i,t),is(t,s,e)}function qc(n,e){n.j&&ju({},function(t,s){ji(e,s,t)})}function ql(n,e,t){t=Math.min(n.l.length,t);var s=n.j?$r(n.j.Oa,n.j,n):null;e:{var c=n.l;let w=-1;for(;;){const C=["count="+t];-1==w?0<t?(w=c[0].h,C.push("ofs="+w)):w=0:C.push("ofs="+w);let j=!0;for(let te=0;te<t;te++){let le=c[te].h;const He=c[te].g;if(le-=w,0>le)w=Math.max(0,c[te].h-100),j=!1;else try{br(He,C,"req"+le+"_")}catch(Ge){s&&s(He)}}if(j){s=C.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,s}function sc(n){n.g||n.u||(n.Y=1,vo(n.Ga,n),n.A=0)}function Gc(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Be($r(n.Ga,n),Kc(n,n.A)),n.A++,0))}function Gl(n){null!=n.B&&(On.clearTimeout(n.B),n.B=null)}function Va(n){n.g=new Xa(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=la(n.oa);ji(e,"RID","rpc"),ji(e,"SID",n.J),ji(e,"CI",n.N?"0":"1"),ji(e,"AID",n.U),qc(n,e),ji(e,"TYPE","xmlhttp"),n.o&&n.s&&Ks(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Yo(la(e)),t.s=null,t.U=!0,Iu(t,n)}function Vo(n){null!=n.v&&(On.clearTimeout(n.v),n.v=null)}function $u(n,e){var t=null;if(n.g==e){Vo(n),Gl(n),n.g=null;var s=2}else{if(!me(n.i,e))return;t=e.D,ot(n.i,e),s=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var c=n.C;Kn(s=fi(),new ge(s,t,e,c)),ic(n)}else sc(n);else if(3==(c=e.o)||0==c&&0<n.I||!(1==s&&function Ld(n,e){return!(X(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Be($r(n.Ha,n,e),Kc(n,n.C)),n.C++,0)))}(n,e)||2==s&&Gc(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),c){case 1:uu(n,5);break;case 4:uu(n,10);break;case 3:uu(n,6);break;default:uu(n,2)}}function Kc(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function uu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var s=$r(n.jb,n);t||(t=new Po("//www.google.com/images/cleardot.gif"),On.location&&"http"==On.location.protocol||Wc(t,"https"),Yo(t)),function zi(n,e){const t=new Hr;if(On.Image){const s=new Image;s.onload=rt(Ei,t,s,"TestLoadImage: loaded",!0,e),s.onerror=rt(Ei,t,s,"TestLoadImage: error",!1,e),s.onabort=rt(Ei,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=rt(Ei,t,s,"TestLoadImage: timeout",!1,e),On.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else Q(2);n.G=0,n.j&&n.j.va(e),Ud(n),rc(n)}function Ud(n){n.G=0,n.I=-1,n.j&&((0!=nn(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Si(n.l),n.l.length=0),n.j.ua())}function Wu(n,e,t){let s=function zc(n){return n instanceof Po?la(n):new Po(n,void 0)}(t);if(""!=s.i)e&&tc(s,e+"."+s.i),pc(s,s.m);else{const c=On.location;s=function Ca(n,e,t,s){var c=new Po(null,void 0);return n&&Wc(c,n),e&&tc(c,e),t&&pc(c,t),s&&(c.l=s),c}(c.protocol,e?e+"."+c.hostname:c.hostname,+c.port,t)}return n.aa&&Os(n.aa,function(c,w){ji(s,w,c)}),t=n.sa,(e=n.D)&&t&&ji(s,e,t),ji(s,"VER",n.ma),qc(n,s),s}function zu(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Gs(t&&n.Ba&&!n.qa?new So({ib:!0}):n.qa)).L=n.H,e}function Kl(){}function vl(){if(vt&&!(10<=Number(Us)))throw Error("Environmental error: no available transport.")}function Da(n,e){Nr.call(this),this.g=new Vu(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Rr(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rr(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ea(this)}function Zu(n){rs.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Ha(){mi.call(this),this.status=1}function ea(n){this.g=n}(dt=Gs.prototype).ea=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bo.g(),this.C=function qr(n){return n.h||(n.h=n.i())}(this.u?this.u:bo),this.g.onreadystatechange=$r(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(w){return void Nd(this,w)}n=t||"";const c=new qs(this.headers);s&&ju(s,function(w,C){c.set(C,w)}),s=function ui(n){e:{var e=Pd;const t=n.length,s="string"==typeof n?n.split(""):n;for(let c=0;c<t;c++)if(c in s&&e.call(void 0,s[c],c,n)){e=c;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(c.T()),t=On.FormData&&n instanceof On.FormData,!(0<=Un(zl,e))||s||t||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(w,C){this.g.setRequestHeader(C,w)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zl(this),0<this.B&&((this.K=function Bs(n){return vt&&function Uo(){return function qe(n){var e=go;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Ci(String(Ls)).split("."),t=Ci("9").split("."),s=Math.max(e.length,t.length);for(let C=0;0==n&&C<s;C++){var c=e[C]||"",w=t[C]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],0==c[0].length&&0==w[0].length)break;n=Is(0==c[1].length?0:parseInt(c[1],10),0==w[1].length?0:parseInt(w[1],10))||Is(0==c[2].length,0==w[2].length)||Is(c[2],w[2]),c=c[3],w=w[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$r(this.pa,this)):this.A=Mt(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(w){Nd(this,w)}},dt.pa=function(){void 0!==ir&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kn(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Kn(this,"complete"),Kn(this,"abort"),cu(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cu(this,!0)),Gs.Z.M.call(this)},dt.Fa=function(){this.s||(this.F||this.v||this.l?ah(this):this.cb())},dt.cb=function(){ah(this)},dt.ba=function(){try{return 2<Ts(this)?this.g.status:-1}catch(n){return-1}},dt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},dt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Oc(e)}},dt.Da=function(){return this.m},dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=Vu.prototype).ma=8,dt.G=1,dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const c=new Xa(this,this.h,n,void 0);let w=this.s;if(this.P&&(w?(w=io(w),$e(w,this.P)):w=this.P),null===this.o&&(c.H=w),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ql(this,c,e),ji(t=la(this.F),"RID",n),ji(t,"CVER",22),this.D&&ji(t,"X-HTTP-Session-Id",this.D),qc(this,t),this.o&&w&&Ks(t,this.o,w),Fe(this.i,c),this.Ra&&ji(t,"TYPE","init"),this.ja?(ji(t,"$req",e),ji(t,"SID","null"),c.$=!0,is(c,t,null)):is(c,t,e),this.G=2}}else 3==this.G&&(n?Hu(this,n):0==this.l.length||$(this.i)||Hu(this))},dt.Ga=function(){if(this.u=null,Va(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Be($r(this.bb,this),n)}},dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Q(10),ga(this),Va(this))},dt.ab=function(){null!=this.v&&(this.v=null,ga(this),Gc(this),Q(19))},dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Q(2)):(this.h.info("Failed to ping google.com"),Q(1))},(dt=Kl.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Oa=function(){},vl.prototype.g=function(n,e){return new Da(n,e)},Lt(Da,Nr),Da.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),vo($r(n.hb,n,e))),Q(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Wu(n,null,n.W),ic(n)},Da.prototype.close=function(){Fd(this.g)},Da.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Ji(this.g,e)}else this.v?((e={}).__data__=Pi(n),Ji(this.g,e)):Ji(this.g,n)},Da.prototype.M=function(){this.g.j=null,delete this.j,Fd(this.g),delete this.g,Da.Z.M.call(this)},Lt(Zu,rs),Lt(Ha,mi),Lt(ea,Kl),ea.prototype.xa=function(){Kn(this.g,"a")},ea.prototype.wa=function(n){Kn(this.g,new Zu(n))},ea.prototype.va=function(n){Kn(this.g,new Ha(n))},ea.prototype.ua=function(){Kn(this.g,"b")},vl.prototype.createWebChannel=vl.prototype.g,Da.prototype.send=Da.prototype.u,Da.prototype.open=Da.prototype.m,Da.prototype.close=Da.prototype.close,We.NO_ERROR=0,We.TIMEOUT=8,We.HTTP_ERROR=6,Yt.COMPLETE="complete",Cr.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",Nr.prototype.listen=Nr.prototype.N,Gs.prototype.listenOnce=Gs.prototype.O,Gs.prototype.getLastError=Gs.prototype.La,Gs.prototype.getLastErrorCode=Gs.prototype.Da,Gs.prototype.getStatus=Gs.prototype.ba,Gs.prototype.getResponseJson=Gs.prototype.Qa,Gs.prototype.getResponseText=Gs.prototype.ga,Gs.prototype.send=Gs.prototype.ea;var lu=yr.createWebChannelTransport=function(){return new vl},Rc=yr.getStatEventTarget=function(){return fi()},_l=yr.ErrorCode=We,$a=yr.EventType=Yt,vf=yr.Event=js,Ao=yr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jd=yr.FetchXmlHttpFactory=So,R=yr.WebChannel=Cr,A=yr.XhrIo=Gs;const k="@firebase/firestore";class z{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}z.UNAUTHENTICATED=new z(null),z.GOOGLE_CREDENTIALS=new z("google-credentials-uid"),z.FIRST_PARTY=new z("first-party-uid"),z.MOCK_USER=new z("mock-user");let G="9.6.7";const De=new class rn{constructor(e){this.name=e,this._logLevel=ke,this._logHandler=Ye,this._userLogHandler=null,ii.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ye[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}("@firebase/firestore");function Ct(){return De.logLevel}function xt(n,...e){if(De.logLevel<=Oe.DEBUG){const t=e.map(Xn);De.debug(`Firestore (${G}): ${n}`,...t)}}function Pn(n,...e){if(De.logLevel<=Oe.ERROR){const t=e.map(Xn);De.error(`Firestore (${G}): ${n}`,...t)}}function Dr(n,...e){if(De.logLevel<=Oe.WARN){const t=e.map(Xn);De.warn(`Firestore (${G}): ${n}`,...t)}}function Xn(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function An(n="Unexpected state"){const e=`FIRESTORE (${G}) INTERNAL ASSERTION FAILED: `+n;throw Pn(e),new Error(e)}function Hn(n,e){n||An()}function jn(n,e){return n}const $t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _n extends Gr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ss{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class lo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Do{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(z.UNAUTHENTICATED))}shutdown(){}}class oc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qu{constructor(e){this.t=e,this.currentUser=z.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let c=this.i;const w=le=>this.i!==c?(c=this.i,t(le)):Promise.resolve();let C=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new ss,e.enqueueRetryable(()=>w(this.currentUser))};const j=()=>{const le=C;e.enqueueRetryable((0,we.Z)(function*(){yield le.promise,yield w(s.currentUser)}))},te=le=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=le,this.auth.addAuthTokenListener(this.o),j()};this.t.onInit(le=>te(le)),setTimeout(()=>{if(!this.auth){const le=this.t.getImmediate({optional:!0});le?te(le):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new ss)}},0),j()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Hn("string"==typeof s.accessToken),new lo(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Hn(null===e||"string"==typeof e),new z(e)}}class bl{constructor(e,t,s){this.type="FirstParty",this.user=z.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const c=e.auth.getAuthHeaderValueForFirstParty([]);c&&this.headers.set("Authorization",c),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class ta{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new bl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(z.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rh{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const s=w=>{null!=w.error&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${w.error.message}`);const C=w.token!==this.p;return this.p=w.token,xt("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?t(w.token):Promise.resolve()};this.o=w=>{e.enqueueRetryable(()=>s(w))};const c=w=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=w,this.appCheck.addTokenListener(this.o)};this.g.onInit(w=>c(w)),setTimeout(()=>{if(!this.appCheck){const w=this.g.getImmediate({optional:!0});w?c(w):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Hn("string"==typeof t.token),this.p=t.token,new xa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Wa{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.I(s),this.T=s=>t.writeSequenceNumber(s))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function _f(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}Wa.A=-1;class Bf{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const c=_f(40);for(let w=0;w<c.length;++w)s.length<20&&c[w]<t&&(s+=e.charAt(c[w]%e.length))}return s}}function yi(n,e){return n<e?-1:n>e?1:0}function mc(n,e,t){return n.length===e.length&&n.every((s,c)=>t(s,e[c]))}function Mh(n){return n+"\0"}class Vs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _n($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _n($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _n($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _n($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vs.fromMillis(Date.now())}static fromDate(e){return Vs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Vs(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yi(this.nanoseconds,e.nanoseconds):yi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lr(e)}static min(){return new Lr(new Vs(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Gu(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ql(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class wl{constructor(e,t,s){void 0===t?t=0:t>e.length&&An(),void 0===s?s=e.length-t:s>e.length-t&&An(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===wl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let c=0;c<s;c++){const w=e.get(c),C=t.get(c);if(w<C)return-1;if(w>C)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ni extends wl{construct(e,t,s){return new Ni(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new _n($t.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(c=>c.length>0))}return new Ni(t)}static emptyPath(){return new Ni([])}}const Yl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xo extends wl{construct(e,t,s){return new xo(e,t,s)}static isValidIdentifier(e){return Yl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xo(["__name__"])}static fromServerFormat(e){const t=[];let s="",c=0;const w=()=>{if(0===s.length)throw new _n($t.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let C=!1;for(;c<e.length;){const j=e[c];if("\\"===j){if(c+1===e.length)throw new _n($t.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const te=e[c+1];if("\\"!==te&&"."!==te&&"`"!==te)throw new _n($t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=te,c+=2}else"`"===j?(C=!C,c++):"."!==j||C?(s+=j,c++):(w(),c++)}if(w(),C)throw new _n($t.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xo(t)}static emptyPath(){return new xo([])}}class du{constructor(e){this.fields=e,e.sort(xo.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Ps{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ps(t)}static fromUint8Array(e){const t=function(s){let c="";for(let w=0;w<s.length;++w)c+=String.fromCharCode(s[w]);return c}(e);return new Ps(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ps.EMPTY_BYTE_STRING=new Ps("");const hu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ho(n){if(Hn(!!n),"string"==typeof n){let e=0;const t=hu.exec(n);if(Hn(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:eo(n.seconds),nanos:eo(n.nanos)}}function eo(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function yc(n){return"string"==typeof n?Ps.fromBase64String(n):Ps.fromUint8Array(n)}function uh(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function za(n){const e=n.mapValue.fields.__previous_value__;return uh(e)?za(e):e}function ac(n){const e=Ho(n.mapValue.fields.__local_write_time__.timestampValue);return new Vs(e.seconds,e.nanos)}class El{constructor(e,t,s,c,w,C,j,te){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=c,this.ssl=w,this.forceLongPolling=C,this.autoDetectLongPolling=j,this.useFetchStreams=te}}class Ku{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ku("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}function fu(n){return null==n}function Yc(n){return 0===n&&1/n==-1/0}function na(n){return"number"==typeof n&&Number.isInteger(n)&&!Yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class hr{constructor(e){this.path=e}static fromPath(e){return new hr(Ni.fromString(e))}static fromName(e){return new hr(Ni.fromString(e).popFirst(5))}static empty(){return new hr(Ni.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ni.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ni.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new hr(new Ni(e.slice()))}}const Jl={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function pu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uh(n)?4:10:An()}function cc(n,e){if(n===e)return!0;const t=pu(n);if(t!==pu(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ac(n).isEqual(ac(e));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const w=Ho(s.timestampValue),C=Ho(c.timestampValue);return w.seconds===C.seconds&&w.nanos===C.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,yc(n.bytesValue).isEqual(yc(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,c){return eo(s.geoPointValue.latitude)===eo(c.geoPointValue.latitude)&&eo(s.geoPointValue.longitude)===eo(c.geoPointValue.longitude)}(n,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return eo(s.integerValue)===eo(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const w=eo(s.doubleValue),C=eo(c.doubleValue);return w===C?Yc(w)===Yc(C):isNaN(w)&&isNaN(C)}return!1}(n,e);case 9:return mc(n.arrayValue.values||[],e.arrayValue.values||[],cc);case 10:return function(s,c){const w=s.mapValue.fields||{},C=c.mapValue.fields||{};if(Gu(w)!==Gu(C))return!1;for(const j in w)if(w.hasOwnProperty(j)&&(void 0===C[j]||!cc(w[j],C[j])))return!1;return!0}(n,e);default:return An()}var c}function Jc(n,e){return void 0!==(n.values||[]).find(t=>cc(t,e))}function gu(n,e){if(n===e)return 0;const t=pu(n),s=pu(e);if(t!==s)return yi(t,s);switch(t){case 0:return 0;case 1:return yi(n.booleanValue,e.booleanValue);case 2:return function(c,w){const C=eo(c.integerValue||c.doubleValue),j=eo(w.integerValue||w.doubleValue);return C<j?-1:C>j?1:C===j?0:isNaN(C)?isNaN(j)?0:-1:1}(n,e);case 3:return Ph(n.timestampValue,e.timestampValue);case 4:return Ph(ac(n),ac(e));case 5:return yi(n.stringValue,e.stringValue);case 6:return function(c,w){const C=yc(c),j=yc(w);return C.compareTo(j)}(n.bytesValue,e.bytesValue);case 7:return function(c,w){const C=c.split("/"),j=w.split("/");for(let te=0;te<C.length&&te<j.length;te++){const le=yi(C[te],j[te]);if(0!==le)return le}return yi(C.length,j.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,w){const C=yi(eo(c.latitude),eo(w.latitude));return 0!==C?C:yi(eo(c.longitude),eo(w.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,w){const C=c.values||[],j=w.values||[];for(let te=0;te<C.length&&te<j.length;++te){const le=gu(C[te],j[te]);if(le)return le}return yi(C.length,j.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,w){const C=c.fields||{},j=Object.keys(C),te=w.fields||{},le=Object.keys(te);j.sort(),le.sort();for(let He=0;He<j.length&&He<le.length;++He){const Ge=yi(j[He],le[He]);if(0!==Ge)return Ge;const Wt=gu(C[j[He]],te[le[He]]);if(0!==Wt)return Wt}return yi(j.length,le.length)}(n.mapValue,e.mapValue);default:throw An()}}function Ph(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return yi(n,e);const t=Ho(n),s=Ho(e),c=yi(t.seconds,s.seconds);return 0!==c?c:yi(t.nanos,s.nanos)}function Au(n){return vc(n)}function vc(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const c=Ho(s);return`time(${c.seconds},${c.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?yc(n.bytesValue).toBase64():"referenceValue"in n?hr.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let c="[",w=!0;for(const C of s.values||[])w?w=!1:c+=",",c+=vc(C);return c+"]"}(n.arrayValue):"mapValue"in n?function(s){const c=Object.keys(s.fields||{}).sort();let w="{",C=!0;for(const j of c)C?C=!1:w+=",",w+=`${j}:${vc(s.fields[j])}`;return w+"}"}(n.mapValue):An();var e}function Cu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function us(n){return!!n&&"integerValue"in n}function Qu(n){return!!n&&"arrayValue"in n}function Yu(n){return!!n&&"nullValue"in n}function Il(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Tu(n){return!!n&&"mapValue"in n}function ma(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qc(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ma(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ma(n.arrayValue.values[t]);return e}return Object.assign({},n)}class ra{constructor(e){this.value=e}static empty(){return new ra({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Tu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ma(t)}setAll(e){let t=xo.emptyPath(),s={},c=[];e.forEach((C,j)=>{if(!t.isImmediateParentOf(j)){const te=this.getFieldsMap(t);this.applyChanges(te,s,c),s={},c=[],t=j.popLast()}C?s[j.lastSegment()]=ma(C):c.push(j.lastSegment())});const w=this.getFieldsMap(t);this.applyChanges(w,s,c)}delete(e){const t=this.field(e.popLast());Tu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=t.mapValue.fields[e.get(s)];Tu(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,s){Qc(t,(c,w)=>e[c]=w);for(const c of s)delete e[c]}clone(){return new ra(ma(this.value))}}function lh(n){const e=[];return Qc(n.fields,(t,s)=>{const c=new xo([t]);if(Tu(s)){const w=lh(s.mapValue).fields;if(0===w.length)e.push(c);else for(const C of w)e.push(c.child(C))}else e.push(c)}),new du(e)}class ls{constructor(e,t,s,c,w,C){this.key=e,this.documentType=t,this.version=s,this.readTime=c,this.data=w,this.documentState=C}static newInvalidDocument(e){return new ls(e,0,Lr.min(),Lr.min(),ra.empty(),0)}static newFoundDocument(e,t,s){return new ls(e,1,t,Lr.min(),s,0)}static newNoDocument(e,t){return new ls(e,2,t,Lr.min(),ra.empty(),0)}static newUnknownDocument(e,t){return new ls(e,3,t,Lr.min(),ra.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ra.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ra.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ls&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ls(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let mu=(()=>{class n{constructor(t,s,c,w){this.indexId=t,this.collectionGroup=s,this.fields=c,this.indexState=w}}return n.UNKNOWN_ID=-1,n})();class uc{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xl(0,Ju.min())}}class Ju{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ju(Lr.min(),hr.empty(),-1)}}class Xu{constructor(e,t=null,s=[],c=[],w=null,C=null,j=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=c,this.limit=w,this.startAt=C,this.endAt=j,this.P=null}}function dh(n,e=null,t=[],s=[],c=null,w=null,C=null){return new Xu(n,e,t,s,c,w,C)}function el(n){const e=jn(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(c=s).field.canonicalString()+c.op.toString()+Au(c.value);var c}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),fu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Au(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Au(s)).join(",")),e.P=t}return e.P}function Sl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let c=0;c<n.orderBy.length;c++)if(!$d(n.orderBy[c],e.orderBy[c]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let c=0;c<n.filters.length;c++)if((t=n.filters[c]).op!==(s=e.filters[c]).op||!t.field.isEqual(s.field)||!cc(t.value,s.value))return!1;var t,s;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zd(n.startAt,e.startAt)&&zd(n.endAt,e.endAt)}function tl(n){return hr.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ds extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,s):new Nh(e,t,s):"array-contains"===t?new ed(e,s):"in"===t?new Vd(e,s):"not-in"===t?new td(e,s):"array-contains-any"===t?new Hd(e,s):new ds(e,t,s)}static v(e,t,s){return"in"===t?new Al(e,s):new hh(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(gu(t,this.value)):null!==t&&pu(this.value)===pu(t)&&this.V(gu(t,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return An()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Nh extends ds{constructor(e,t,s){super(e,t,s),this.key=hr.fromName(s.referenceValue)}matches(e){const t=hr.comparator(e.key,this.key);return this.V(t)}}class Al extends ds{constructor(e,t){super(e,"in",t),this.keys=es(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hh extends ds{constructor(e,t){super(e,"not-in",t),this.keys=es(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function es(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>hr.fromName(s.referenceValue))}class ed extends ds{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qu(t)&&Jc(t.arrayValue,this.value)}}class Vd extends ds{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Jc(this.value.arrayValue,t)}}class td extends ds{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Jc(this.value.arrayValue,t)}}class Hd extends ds{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Jc(this.value.arrayValue,s))}}class _c{constructor(e,t){this.position=e,this.inclusive=t}}class nl{constructor(e,t="asc"){this.field=e,this.dir=t}}function $d(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Wd(n,e,t){let s=0;for(let c=0;c<n.position.length;c++){const w=e[c],C=n.position[c];if(s=w.field.isKeyField()?hr.comparator(hr.fromName(C.referenceValue),t.key):gu(C,t.data.field(w.field)),"desc"===w.dir&&(s*=-1),0!==s)break}return s}function zd(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cc(n.position[t],e.position[t]))return!1;return!0}class Xc{constructor(e,t=null,s=[],c=[],w=null,C="F",j=null,te=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=c,this.limit=w,this.limitType=C,this.startAt=j,this.endAt=te,this.D=null,this.C=null}}function nd(n,e,t,s,c,w,C,j){return new Xc(n,e,t,s,c,w,C,j)}function Oa(n){return new Xc(n)}function $o(n){return!fu(n.limit)&&"F"===n.limitType}function Du(n){return!fu(n.limit)&&"L"===n.limitType}function Cl(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function xu(n){for(const e of n.filters)if(e.S())return e.field;return null}function Wo(n){return null!==n.collectionGroup}function Za(n){const e=jn(n);if(null===e.D){e.D=[];const t=xu(e),s=Cl(e);if(null!==t&&null===s)t.isKeyField()||e.D.push(new nl(t)),e.D.push(new nl(xo.keyField(),"asc"));else{let c=!1;for(const w of e.explicitOrderBy)e.D.push(w),w.field.isKeyField()&&(c=!0);if(!c){const w=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new nl(xo.keyField(),w))}}}return e.D}function Ra(n){const e=jn(n);if(!e.C)if("F"===e.limitType)e.C=dh(e.path,e.collectionGroup,Za(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const w of Za(e))t.push(new nl(w.field,"desc"===w.dir?"asc":"desc"));const s=e.endAt?new _c(e.endAt.position,!e.endAt.inclusive):null,c=e.startAt?new _c(e.startAt.position,!e.startAt.inclusive):null;e.C=dh(e.path,e.collectionGroup,t,e.filters,e.limit,s,c)}return e.C}function kh(n,e,t){return new Xc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bi(n,e){return Sl(Ra(n),Ra(e))&&n.limitType===e.limitType}function Zd(n){return`${el(Ra(n))}|lt:${n.limitType}`}function rl(n){return`Query(target=${function Bd(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${Au(s.value)}`;var s}).join(", ")}]`),fu(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Au(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Au(t)).join(",")),`Target(${e})`}(Ra(n))}; limitType=${n.limitType})`}function Ds(n,e){return e.isFoundDocument()&&function(t,s){const c=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):hr.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(n,e)&&function(t,s){for(const c of t.explicitOrderBy)if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(n,e)&&function(t,s){for(const c of t.filters)if(!c.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!function(c,w,C){const j=Wd(c,w,C);return c.inclusive?j<=0:j<0}(t.startAt,Za(t),s)||t.endAt&&!function(c,w,C){const j=Wd(c,w,C);return c.inclusive?j>=0:j>0}(t.endAt,Za(t),s)));var t,s}function bc(n){return(e,t)=>{let s=!1;for(const c of Za(n)){const w=Fh(c,e,t);if(0!==w)return w;s=s||c.field.isKeyField()}return 0}}function Fh(n,e,t){const s=n.field.isKeyField()?hr.comparator(e.key,t.key):function(c,w,C){const j=w.data.field(c),te=C.data.field(c);return null!==j&&null!==te?gu(j,te):An()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return An()}}function fh(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function qd(n){return{integerValue:""+n}}function Gd(n,e){return na(e)?qd(e):fh(n,e)}class Ou{constructor(){this._=void 0}}function bf(n,e,t){return n instanceof Ru?function(s,c){const w={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&(w.fields.__previous_value__=c),{mapValue:w}}(t,e):n instanceof eu?Kd(n,e):n instanceof yu?Qi(n,e):function(s,c){const w=wf(s,c),C=Ef(w)+Ef(s.k);return us(w)&&us(s.k)?qd(C):fh(s.O,C)}(n,e)}function Lh(n,e,t){return n instanceof eu?Kd(n,e):n instanceof yu?Qi(n,e):t}function wf(n,e){return n instanceof Tl?us(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Ru extends Ou{}class eu extends Ou{constructor(e){super(),this.elements=e}}function Kd(n,e){const t=Ma(e);for(const s of n.elements)t.some(c=>cc(c,s))||t.push(s);return{arrayValue:{values:t}}}class yu extends Ou{constructor(e){super(),this.elements=e}}function Qi(n,e){let t=Ma(e);for(const s of n.elements)t=t.filter(c=>!cc(c,s));return{arrayValue:{values:t}}}class Tl extends Ou{constructor(e,t){super(),this.O=e,this.k=t}}function Ef(n){return eo(n.integerValue||n.doubleValue)}function Ma(n){return Qu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rd{constructor(e,t){this.field=e,this.transform=t}}class If{constructor(e,t){this.version=e,this.transformResults=t}}class Oo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Oo}static exists(e){return new Oo(void 0,e)}static updateTime(e){return new Oo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mu(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Dl{}function Uh(n,e,t){n instanceof sd?function(s,c,w){const C=s.value.clone(),j=Ec(s.fieldTransforms,c,w.transformResults);C.setAll(j),c.convertToFoundDocument(w.version,C).setHasCommittedMutations()}(n,e,t):n instanceof Pu?function(s,c,w){if(!Mu(s.precondition,c))return void c.convertToUnknownDocument(w.version);const C=Ec(s.fieldTransforms,c,w.transformResults),j=c.data;j.setAll(xl(s)),j.setAll(C),c.convertToFoundDocument(w.version,j).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function id(n,e,t){var c;n instanceof sd?function(s,c,w){if(!Mu(s.precondition,c))return;const C=s.value.clone(),j=Qd(s.fieldTransforms,w,c);C.setAll(j),c.convertToFoundDocument(Sf(c),C).setHasLocalMutations()}(n,e,t):n instanceof Pu?function(s,c,w){if(!Mu(s.precondition,c))return;const C=Qd(s.fieldTransforms,w,c),j=c.data;j.setAll(xl(s)),j.setAll(C),c.convertToFoundDocument(Sf(c),j).setHasLocalMutations()}(n,e,t):Mu(n.precondition,c=e)&&c.convertToNoDocument(Lr.min())}function qa(n,e){let t=null;for(const s of n.fieldTransforms){const c=e.data.field(s.field),w=wf(s.transform,c||null);null!=w&&(null==t&&(t=ra.empty()),t.set(s.field,w))}return t||null}function wc(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&mc(t,s,(c,w)=>function ph(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof eu&&s instanceof eu||t instanceof yu&&s instanceof yu?mc(t.elements,s.elements,cc):t instanceof Tl&&s instanceof Tl?cc(t.k,s.k):t instanceof Ru&&s instanceof Ru);var t,s}(c,w))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}function Sf(n){return n.isFoundDocument()?n.version:Lr.min()}class sd extends Dl{constructor(e,t,s,c=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=c,this.type=0}}class Pu extends Dl{constructor(e,t,s,c,w=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=c,this.fieldTransforms=w,this.type=1}}function xl(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function Ec(n,e,t){const s=new Map;Hn(n.length===t.length);for(let c=0;c<t.length;c++){const w=n[c],C=w.transform,j=e.data.field(w.field);s.set(w.field,Lh(C,j,t[c]))}return s}function Qd(n,e,t){const s=new Map;for(const c of n){const w=c.transform,C=t.data.field(c.field);s.set(c.field,bf(w,C,e))}return s}class Nu extends Dl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class jh extends Dl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class il{constructor(e){this.count=e}}var to,Li;function Yd(n){switch(n){default:return An();case $t.CANCELLED:case $t.UNKNOWN:case $t.DEADLINE_EXCEEDED:case $t.RESOURCE_EXHAUSTED:case $t.INTERNAL:case $t.UNAVAILABLE:case $t.UNAUTHENTICATED:return!1;case $t.INVALID_ARGUMENT:case $t.NOT_FOUND:case $t.ALREADY_EXISTS:case $t.PERMISSION_DENIED:case $t.FAILED_PRECONDITION:case $t.ABORTED:case $t.OUT_OF_RANGE:case $t.UNIMPLEMENTED:case $t.DATA_LOSS:return!0}}function od(n){if(void 0===n)return Pn("GRPC error has no .code"),$t.UNKNOWN;switch(n){case to.OK:return $t.OK;case to.CANCELLED:return $t.CANCELLED;case to.UNKNOWN:return $t.UNKNOWN;case to.DEADLINE_EXCEEDED:return $t.DEADLINE_EXCEEDED;case to.RESOURCE_EXHAUSTED:return $t.RESOURCE_EXHAUSTED;case to.INTERNAL:return $t.INTERNAL;case to.UNAVAILABLE:return $t.UNAVAILABLE;case to.UNAUTHENTICATED:return $t.UNAUTHENTICATED;case to.INVALID_ARGUMENT:return $t.INVALID_ARGUMENT;case to.NOT_FOUND:return $t.NOT_FOUND;case to.ALREADY_EXISTS:return $t.ALREADY_EXISTS;case to.PERMISSION_DENIED:return $t.PERMISSION_DENIED;case to.FAILED_PRECONDITION:return $t.FAILED_PRECONDITION;case to.ABORTED:return $t.ABORTED;case to.OUT_OF_RANGE:return $t.OUT_OF_RANGE;case to.UNIMPLEMENTED:return $t.UNIMPLEMENTED;case to.DATA_LOSS:return $t.DATA_LOSS;default:return An()}}(Li=to||(to={}))[Li.OK=0]="OK",Li[Li.CANCELLED=1]="CANCELLED",Li[Li.UNKNOWN=2]="UNKNOWN",Li[Li.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Li[Li.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Li[Li.NOT_FOUND=5]="NOT_FOUND",Li[Li.ALREADY_EXISTS=6]="ALREADY_EXISTS",Li[Li.PERMISSION_DENIED=7]="PERMISSION_DENIED",Li[Li.UNAUTHENTICATED=16]="UNAUTHENTICATED",Li[Li.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Li[Li.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Li[Li.ABORTED=10]="ABORTED",Li[Li.OUT_OF_RANGE=11]="OUT_OF_RANGE",Li[Li.UNIMPLEMENTED=12]="UNIMPLEMENTED",Li[Li.INTERNAL=13]="INTERNAL",Li[Li.UNAVAILABLE=14]="UNAVAILABLE",Li[Li.DATA_LOSS=15]="DATA_LOSS";class ho{constructor(e,t){this.comparator=e,this.root=t||Pa.EMPTY}insert(e,t){return new ho(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pa.BLACK,null,null))}remove(e){return new ho(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return t+s.left.size;c<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ol(this.root,e,this.comparator,!0)}}class Ol{constructor(e,t,s,c){this.isReverse=c,this.nodeStack=[];let w=1;for(;!e.isEmpty();)if(w=t?s(e.key,t):1,c&&(w*=-1),w<0)e=this.isReverse?e.left:e.right;else{if(0===w){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pa{constructor(e,t,s,c,w){this.key=e,this.value=t,this.color=null!=s?s:Pa.RED,this.left=null!=c?c:Pa.EMPTY,this.right=null!=w?w:Pa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,c,w){return new Pa(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=c?c:this.left,null!=w?w:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let c=this;const w=s(e,c.key);return c=w<0?c.copy(null,null,null,c.left.insert(e,t,s),null):0===w?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Pa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return Pa.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw An();const e=this.left.check();if(e!==this.right.check())throw An();return e+(this.isRed()?0:1)}}Pa.EMPTY=null,Pa.RED=!0,Pa.BLACK=!1,Pa.EMPTY=new class{constructor(){this.size=0}get key(){throw An()}get value(){throw An()}get color(){throw An()}get left(){throw An()}get right(){throw An()}copy(n,e,t,s,c){return this}insert(n,e,t){return new Pa(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _s{constructor(e){this.comparator=e,this.data=new ho(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gh(this.data.getIterator())}getIteratorFrom(e){return new gh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof _s)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,w=s.getNext().key;if(0!==this.comparator(c,w))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _s(this.comparator);return t.data=e,t}}class gh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Rl(n){return n.hasNext()?n.getNext():void 0}const Bh=new ho(hr.comparator);function ya(){return Bh}const Jd=new ho(hr.comparator);function Vh(){return Jd}const Af=new ho(hr.comparator),Ml=new _s(hr.comparator);function Zi(...n){let e=Ml;for(const t of n)e=e.add(t);return e}const Cf=new _s(yi);function ad(){return Cf}class Mc{constructor(e,t,s,c,w){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=w}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,cd.createSynthesizedTargetChangeForCurrentChange(e,t)),new Mc(Lr.min(),s,ad(),ya(),Zi())}}class cd{constructor(e,t,s,c,w){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=w}static createSynthesizedTargetChangeForCurrentChange(e,t){return new cd(Ps.EMPTY_BYTE_STRING,t,Zi(),Zi(),Zi())}}class vu{constructor(e,t,s,c){this.M=e,this.removedTargetIds=t,this.key=s,this.$=c}}class Tf{constructor(e,t){this.targetId=e,this.F=t}}class Hh{constructor(e,t,s=Ps.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=c}}class $h{constructor(){this.B=0,this.L=Wh(),this.U=Ps.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Zi(),t=Zi(),s=Zi();return this.L.forEach((c,w)=>{switch(w){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:s=s.add(c);break;default:An()}}),new cd(this.U,this.q,e,t,s)}J(){this.K=!1,this.L=Wh()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class mh{constructor(e){this.nt=e,this.st=new Map,this.it=ya(),this.rt=sl(),this.ot=new _s(yi)}ct(e){for(const t of e.M)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const s=this.lt(t);switch(e.state){case 0:this.ft(t)&&s.W(e.resumeToken);break;case 1:s.tt(),s.G||s.J(),s.W(e.resumeToken);break;case 2:s.tt(),s.G||this.removeTarget(t);break;case 3:this.ft(t)&&(s.et(),s.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),s.W(e.resumeToken));break;default:An()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((s,c)=>{this.ft(c)&&t(c)})}_t(e){const t=e.targetId,s=e.F.count,c=this.wt(t);if(c){const w=c.target;if(tl(w))if(0===s){const C=new hr(w.path);this.at(t,C,ls.newNoDocument(C,Lr.min()))}else Hn(1===s);else this.gt(t)!==s&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((w,C)=>{const j=this.wt(C);if(j){if(w.current&&tl(j.target)){const te=new hr(j.target.path);null!==this.it.get(te)||this.It(C,te)||this.at(C,te,ls.newNoDocument(te,e))}w.j&&(t.set(C,w.H()),w.J())}});let s=Zi();this.rt.forEach((w,C)=>{let j=!0;C.forEachWhile(te=>{const le=this.wt(te);return!le||2===le.purpose||(j=!1,!1)}),j&&(s=s.add(w))}),this.it.forEach((w,C)=>C.setReadTime(e));const c=new Mc(e,t,this.ot,this.it,s);return this.it=ya(),this.rt=sl(),this.ot=new _s(yi),c}ut(e,t){if(!this.ft(e))return;const s=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,s),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}at(e,t,s){if(!this.ft(e))return;const c=this.lt(e);this.It(e,t)?c.Y(t,1):c.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),s&&(this.it=this.it.insert(t,s))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new $h,this.st.set(e,t)),t}Et(e){let t=this.rt.get(e);return t||(t=new _s(yi),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||xt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new $h),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function sl(){return new ho(hr.comparator)}function Wh(){return new ho(hr.comparator)}const zh={asc:"ASCENDING",desc:"DESCENDING"},Vf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ud{constructor(e,t){this.databaseId=e,this.N=t}}function Pl(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yh(n,e){return n.N?e.toBase64():e.toUint8Array()}function Zh(n,e){return Pl(n,e.toTimestamp())}function ia(n){return Hn(!!n),Lr.fromTimestamp(function(e){const t=Ho(e);return new Vs(t.seconds,t.nanos)}(n))}function ld(n,e){return(t=n,new Ni(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function qh(n){const e=Ni.fromString(n);return Hn(kl(e)),e}function ol(n,e){return ld(n.databaseId,e.path)}function Pc(n,e){const t=qh(e);if(t.get(1)!==n.databaseId.projectId)throw new _n($t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _n($t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new hr(hd(t))}function tu(n,e){return ld(n.databaseId,e)}function dd(n){const e=qh(n);return 4===e.length?Ni.emptyPath():hd(e)}function al(n){return new Ni(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hd(n){return Hn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function fd(n,e,t){return{name:ol(n,e),fields:t.value.mapValue.fields}}function Gh(n,e,t){const s=Pc(n,e.name),c=ia(e.updateTime),w=new ra({mapValue:{fields:e.fields}}),C=ls.newFoundDocument(s,c,w);return t&&C.setHasCommittedMutations(),t?C.setHasCommittedMutations():C}function vh(n,e){let t;if(e instanceof sd)t={update:fd(n,e.key,e.value)};else if(e instanceof Nu)t={delete:ol(n,e.key)};else if(e instanceof Pu)t={update:fd(n,e.key,e.data),updateMask:Yh(e.fieldMask)};else{if(!(e instanceof jh))return An();t={verify:ol(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(c,w){const C=w.transform;if(C instanceof Ru)return{fieldPath:w.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof eu)return{fieldPath:w.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof yu)return{fieldPath:w.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof Tl)return{fieldPath:w.field.canonicalString(),increment:C.k};throw An()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Zh(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:An()),t;var c}function Nl(n,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Oo.updateTime(ia(c.updateTime)):void 0!==c.exists?Oo.exists(c.exists):Oo.none():Oo.none(),s=e.updateTransforms?e.updateTransforms.map(c=>function(w,C){let j=null;"setToServerValue"in C?(Hn("REQUEST_TIME"===C.setToServerValue),j=new Ru):"appendMissingElements"in C?j=new eu(C.appendMissingElements.values||[]):"removeAllFromArray"in C?j=new yu(C.removeAllFromArray.values||[]):"increment"in C?j=new Tl(w,C.increment):An();const te=xo.fromServerFormat(C.fieldPath);return new rd(te,j)}(n,c)):[];var c;if(e.update){const c=Pc(n,e.update.name),w=new ra({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new du((e.updateMask.fieldPaths||[]).map(le=>xo.fromServerFormat(le)));return new Pu(c,w,C,t,s)}return new sd(c,w,t,s)}if(e.delete){const c=Pc(n,e.delete);return new Nu(c,t)}if(e.verify){const c=Pc(n,e.verify);return new jh(c,t)}return An()}function ki(n,e){return{documents:[tu(n,e.path)]}}function wp(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=tu(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=tu(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const c=function(te){if(0===te.length)return;const le=te.map(He=>function(Ge){if("=="===Ge.op){if(Il(Ge.value))return{unaryFilter:{field:ci(Ge.field),op:"IS_NAN"}};if(Yu(Ge.value))return{unaryFilter:{field:ci(Ge.field),op:"IS_NULL"}}}else if("!="===Ge.op){if(Il(Ge.value))return{unaryFilter:{field:ci(Ge.field),op:"IS_NOT_NAN"}};if(Yu(Ge.value))return{unaryFilter:{field:ci(Ge.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ci(Ge.field),op:Df(Ge.op),value:Ge.value}}}(He));return 1===le.length?le[0]:{compositeFilter:{op:"AND",filters:le}}}(e.filters);c&&(t.structuredQuery.where=c);const w=function(te){if(0!==te.length)return te.map(le=>{return{field:ci((He=le).field),direction:nu(He.dir)};var He})}(e.orderBy);w&&(t.structuredQuery.orderBy=w);const C=(le=e.limit,n.N||fu(le)?le:{value:le});var le,j,te;return null!==C&&(t.structuredQuery.limit=C),e.startAt&&(t.structuredQuery.startAt={before:(j=e.startAt).inclusive,values:j.position}),e.endAt&&(t.structuredQuery.endAt={before:!(te=e.endAt).inclusive,values:te.position}),t}function pd(n){let e=dd(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let c=null;if(s>0){Hn(1===s);const He=t.from[0];He.allDescendants?c=He.collectionId:e=e.child(He.collectionId)}let w=[];t.where&&(w=Hs(t.where));let C=[];t.orderBy&&(C=t.orderBy.map(He=>{return new nl(bs((Ge=He).field),function(Wt){switch(Wt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ge.direction));var Ge}));let j=null;t.limit&&(j=function(He){let Ge;return Ge="object"==typeof He?He.value:He,fu(Ge)?null:Ge}(t.limit));let te=null;var He;t.startAt&&(te=new _c((He=t.startAt).values||[],!!He.before));let le=null;return t.endAt&&(le=function(He){return new _c(He.values||[],!He.before)}(t.endAt)),nd(e,c,C,w,j,"F",te,le)}function Hs(n){return n?void 0!==n.unaryFilter?[Qh(n)]:void 0!==n.fieldFilter?[Kh(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Hs(e)).reduce((e,t)=>e.concat(t)):An():[]}function nu(n){return zh[n]}function Df(n){return Vf[n]}function ci(n){return{fieldPath:n.canonicalString()}}function bs(n){return xo.fromServerFormat(n.fieldPath)}function Kh(n){return ds.create(bs(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return An()}}(n.fieldFilter.op),n.fieldFilter.value)}function Qh(n){switch(n.unaryFilter.op){case"IS_NAN":const e=bs(n.unaryFilter.field);return ds.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=bs(n.unaryFilter.field);return ds.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bs(n.unaryFilter.field);return ds.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=bs(n.unaryFilter.field);return ds.create(c,"!=",{nullValue:"NULL_VALUE"});default:return An()}}function Yh(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kl(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function sa(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zf(e)),e=_h(n.get(t),e);return zf(e)}function _h(n,e){let t=e;const s=n.length;for(let c=0;c<s;c++){const w=n.charAt(c);switch(w){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=w}}return t}function zf(n){return n+"\x01\x01"}function _u(n){const e=n.length;if(Hn(e>=2),2===e)return Hn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Ni.emptyPath();const t=e-2,s=[];let c="";for(let w=0;w<e;){const C=n.indexOf("\x01",w);switch((C<0||C>t)&&An(),n.charAt(C+1)){case"\x01":const j=n.substring(w,C);let te;0===c.length?te=j:(c+=j,te=c,c=""),s.push(te);break;case"\x10":c+=n.substring(w,C),c+="\0";break;case"\x11":c+=n.substring(w,C+1);break;default:An()}w=C+2}return new Ni(s)}class bh{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class gr{constructor(e,t,s){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=s}}gr.store="owner",gr.key="owner";class Nc{constructor(e,t,s){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=s}}Nc.store="mutationQueues",Nc.keyPath="userId";class hs{constructor(e,t,s,c,w){this.userId=e,this.batchId=t,this.localWriteTimeMs=s,this.baseMutations=c,this.mutations=w}}hs.store="mutations",hs.keyPath="batchId",hs.userMutationsIndex="userMutationsIndex",hs.userMutationsKeyPath=["userId","batchId"];class no{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,sa(t)]}static key(e,t,s){return[e,sa(t),s]}}no.store="documentMutations",no.PLACEHOLDER=new no;class wh{constructor(e,t){this.path=e,this.readTime=t}}class Ga{constructor(e,t){this.path=e,this.version=t}}class Qs{constructor(e,t,s,c,w,C){this.unknownDocument=e,this.noDocument=t,this.document=s,this.hasCommittedMutations=c,this.readTime=w,this.parentPath=C}}Qs.store="remoteDocuments",Qs.readTimeIndex="readTimeIndex",Qs.readTimeIndexPath="readTime",Qs.collectionReadTimeIndex="collectionReadTimeIndex",Qs.collectionReadTimeIndexPath=["parentPath","readTime"];class kc{constructor(e){this.byteSize=e}}kc.store="remoteDocumentGlobal",kc.key="remoteDocumentGlobalKey";class oa{constructor(e,t,s,c,w,C,j){this.targetId=e,this.canonicalId=t,this.readTime=s,this.resumeToken=c,this.lastListenSequenceNumber=w,this.lastLimboFreeSnapshotVersion=C,this.query=j}}oa.store="targets",oa.keyPath="targetId",oa.queryTargetsIndexName="queryTargetsIndex",oa.queryTargetsKeyPath=["canonicalId","targetId"];class ws{constructor(e,t,s){this.targetId=e,this.path=t,this.sequenceNumber=s}}ws.store="targetDocuments",ws.keyPath=["targetId","path"],ws.documentTargetsIndex="documentTargetsIndex",ws.documentTargetsKeyPath=["path","targetId"];class Ka{constructor(e,t,s,c){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=s,this.targetCount=c}}Ka.key="targetGlobalKey",Ka.store="targetGlobal";class ru{constructor(e,t){this.collectionId=e,this.parent=t}}ru.store="collectionParents",ru.keyPath=["collectionId","parent"];class $s{constructor(e,t,s,c){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=s,this.inForeground=c}}$s.store="clientMetadata",$s.keyPath="clientId";class Fl{constructor(e,t,s){this.bundleId=e,this.createTime=t,this.version=s}}Fl.store="bundles",Fl.keyPath="bundleId";class ku{constructor(e,t,s){this.name=e,this.readTime=t,this.bundledQuery=s}}ku.store="namedQueries",ku.keyPath="name";class lc{constructor(e,t,s){this.indexId=e,this.collectionGroup=t,this.fields=s}}lc.store="indexConfiguration",lc.keyPath="indexId",lc.collectionGroupIndex="collectionGroupIndex",lc.collectionGroupIndexPath="collectionGroup";class Qa{constructor(e,t,s,c,w,C){this.indexId=e,this.uid=t,this.sequenceNumber=s,this.readTime=c,this.documentKey=w,this.largestBatchId=C}}Qa.store="indexState",Qa.keyPath=["indexId","uid"],Qa.sequenceNumberIndex="sequenceNumberIndex",Qa.sequenceNumberIndexPath=["uid","sequenceNumber"];class _a{constructor(e,t,s,c,w){this.indexId=e,this.uid=t,this.arrayValue=s,this.directionalValue=c,this.documentKey=w}}_a.store="indexEntries",_a.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],_a.documentKeyIndex="documentKeyIndex",_a.documentKeyIndexPath=["indexId","uid","documentKey"];class ko{constructor(e,t,s,c,w,C){this.userId=e,this.collectionPath=t,this.documentId=s,this.collectionGroup=c,this.largestBatchId=w,this.overlayMutation=C}}ko.store="documentOverlays",ko.keyPath=["userId","collectionPath","documentId"],ko.collectionPathOverlayIndex="collectionPathOverlayIndex",ko.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],ko.collectionGroupOverlayIndex="collectionGroupOverlayIndex",ko.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const gd=[Nc.store,hs.store,no.store,Qs.store,oa.store,gr.store,Ka.store,ws.store,$s.store,kc.store,ru.store,Fl.store,ku.store],Ll=[...gd,ko.store],Jh=[...Ll,lc.store,Qa.store,_a.store],md="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Eh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class cn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&An(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new cn((s,c)=>{this.nextCallback=w=>{this.wrapSuccess(e,w).next(s,c)},this.catchCallback=w=>{this.wrapFailure(t,w).next(s,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof cn?t:cn.resolve(t)}catch(t){return cn.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):cn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):cn.reject(t)}static resolve(e){return new cn((t,s)=>{t(e)})}static reject(e){return new cn((t,s)=>{s(e)})}static waitFor(e){return new cn((t,s)=>{let c=0,w=0,C=!1;e.forEach(j=>{++c,j.next(()=>{++w,C&&w===c&&t()},te=>s(te))}),C=!0,w===c&&t()})}static or(e){let t=cn.resolve(!1);for(const s of e)t=t.next(c=>c?cn.resolve(c):s());return t}static forEach(e,t){const s=[];return e.forEach((c,w)=>{s.push(t.call(this,c,w))}),this.waitFor(s)}}class Xh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new ss,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new bu(e,t.error)):this.At.resolve()},this.transaction.onerror=s=>{const c=Xd(s.target.error);this.At.reject(new bu(e,c))}}static open(e,t,s,c){try{return new Xh(t,e.transaction(c,s))}catch(w){throw new bu(t,w)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(xt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ul(t)}}class Ya{constructor(e,t,s){this.name=e,this.version=t,this.bt=s,12.2===Ya.vt(kt())&&Pn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return xt("SimpleDb","Removing database:",e),cl(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!function $n(){return"object"==typeof indexedDB}())return!1;if(Ya.St())return!0;const e=kt(),t=Ya.vt(e),s=0<t&&t<10,c=Ya.Dt(e),w=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||w)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,t){return e.store(t)}static vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}xt(e){var t=this;return(0,we.Z)(function*(){return t.db||(xt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,c)=>{const w=indexedDB.open(t.name,t.version);w.onsuccess=C=>{s(C.target.result)},w.onblocked=()=>{c(new bu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},w.onerror=C=>{const j=C.target.error;c("VersionError"===j.name?new _n($t.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===j.name?new _n($t.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+j):new bu(e,j))},w.onupgradeneeded=C=>{xt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',C.oldVersion),t.bt.kt(C.target.result,w.transaction,C.oldVersion,t.version).next(()=>{xt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Ot&&(t.db.onversionchange=s=>t.Ot(s)),t.db})()}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,c){var w=this;return(0,we.Z)(function*(){const C="readonly"===t;let j=0;for(;;){++j;try{w.db=yield w.xt(e);const te=Xh.open(w.db,e,C?"readonly":"readwrite",s),le=c(te).next(He=>(te.Pt(),He)).catch(He=>(te.abort(He),cn.reject(He))).toPromise();return le.catch(()=>{}),yield te.Rt,le}catch(te){const le="FirebaseError"!==te.name&&j<3;if(xt("SimpleDb","Transaction failed with error:",te.message,"Retrying:",le),w.close(),!le)return Promise.reject(te)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ep{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return cl(this.$t.delete())}}class bu extends _n{constructor(e,t){super($t.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Fc(n){return"IndexedDbTransactionError"===n.name}class Ul{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(xt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(xt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),cl(s)}add(e){return xt("SimpleDb","ADD",this.store.name,e,e),cl(this.store.add(e))}get(e){return cl(this.store.get(e)).next(t=>(void 0===t&&(t=null),xt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return xt("SimpleDb","DELETE",this.store.name,e),cl(this.store.delete(e))}count(){return xt("SimpleDb","COUNT",this.store.name),cl(this.store.count())}qt(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const c=this.cursor(s),w=[];return this.Kt(c,(C,j)=>{w.push(j)}).next(()=>w)}{const c=this.store.getAll(s.range);return new cn((w,C)=>{c.onerror=j=>{C(j.target.error)},c.onsuccess=j=>{w(j.target.result)}})}}Gt(e,t){xt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.jt=!1;const c=this.cursor(s);return this.Kt(c,(w,C,j)=>j.delete())}Qt(e,t){let s;t?s=e:(s={},t=e);const c=this.cursor(s);return this.Kt(c,t)}Wt(e){const t=this.cursor({});return new cn((s,c)=>{t.onerror=w=>{const C=Xd(w.target.error);c(C)},t.onsuccess=w=>{const C=w.target.result;C?e(C.primaryKey,C.value).next(j=>{j?C.continue():s()}):s()}})}Kt(e,t){const s=[];return new cn((c,w)=>{e.onerror=C=>{w(C.target.error)},e.onsuccess=C=>{const j=C.target.result;if(!j)return void c();const te=new Ep(j),le=t(j.primaryKey,j.value,te);if(le instanceof cn){const He=le.catch(Ge=>(te.done(),cn.reject(Ge)));s.push(He)}te.isDone?c():null===te.Lt?j.continue():j.continue(te.Lt)}}).next(()=>cn.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.jt?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function cl(n){return new cn((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const c=Xd(s.target.error);t(c)}})}let Ic=!1;function Xd(n){const e=Ya.vt(kt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new _n("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ic||(Ic=!0,setTimeout(()=>{throw s},0)),s}}return n}class eh extends Eh{constructor(e,t){super(),this.zt=e,this.currentSequenceNumber=t}}function Ro(n,e){const t=jn(n);return Ya.Nt(t.zt,e)}class yd{constructor(e,t,s,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const w=this.mutations[c];w.key.isEqual(e.key)&&Uh(w,e,s[c])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&id(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&id(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const s=e.get(t.key),c=s;this.applyToLocalView(c),s.isValidDocument()||c.convertToNoDocument(Lr.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zi())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,(t,s)=>wc(t,s))&&mc(this.baseMutations,e.baseMutations,(t,s)=>wc(t,s))}}class vd{constructor(e,t,s,c){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=c}static from(e,t,s){Hn(e.mutations.length===s.length);let c=Af;const w=e.mutations;for(let C=0;C<w.length;C++)c=c.insert(w[C].key,s[C].version);return new vd(e,t,s,c)}}class Fu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wu{constructor(e,t,s,c,w=Lr.min(),C=Lr.min(),j=Ps.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=w,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=j}withSequenceNumber(e){return new wu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ef{constructor(e){this.Ht=e}}function Zf(n,e){let t;if(e.document)t=Gh(n.Ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=hr.fromSegments(e.noDocument.path),c=Uc(e.noDocument.readTime);t=ls.newNoDocument(s,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return An();{const s=hr.fromSegments(e.unknownDocument.path),c=Uc(e.unknownDocument.version);t=ls.newUnknownDocument(s,c)}}return e.readTime&&t.setReadTime(Na(e.readTime)),t}function Ih(n,e){const t=xf(e.readTime),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){const c={name:ol(C=n.Ht,(j=e).key),fields:j.data.value.mapValue.fields,updateTime:Pl(C,j.version.toTimestamp())};return new Qs(null,null,c,e.hasCommittedMutations,t,s)}var C,j;if(e.isNoDocument()){const c=e.key.path.toArray(),w=Lc(e.version),C=e.hasCommittedMutations;return new Qs(null,new wh(c,w),null,C,t,s)}if(e.isUnknownDocument()){const c=e.key.path.toArray(),w=Lc(e.version);return new Qs(new Ga(c,w),null,null,!0,t,s)}return An()}function xf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Na(n){const e=new Vs(n[0],n[1]);return Lr.fromTimestamp(e)}function Lc(n){const e=n.toTimestamp();return new bh(e.seconds,e.nanoseconds)}function Uc(n){const e=new Vs(n.seconds,n.nanoseconds);return Lr.fromTimestamp(e)}function ul(n,e){const t=(e.baseMutations||[]).map(w=>Nl(n.Ht,w));for(let w=0;w<e.mutations.length-1;++w){const C=e.mutations[w];w+1<e.mutations.length&&void 0!==e.mutations[w+1].transform&&(C.updateTransforms=e.mutations[w+1].transform.fieldTransforms,e.mutations.splice(w+1,1),++w)}const s=e.mutations.map(w=>Nl(n.Ht,w)),c=Vs.fromMillis(e.localWriteTimeMs);return new yd(e.batchId,c,t,s)}function Lu(n){const e=Uc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Uc(n.lastLimboFreeSnapshotVersion):Lr.min();let s;var c;return void 0!==n.query.documents?(Hn(1===(c=n.query).documents.length),s=Ra(Oa(dd(c.documents[0])))):s=Ra(pd(n.query)),new wu(s,n.targetId,0,n.lastListenSequenceNumber,e,t,Ps.fromBase64String(n.resumeToken))}function _d(n,e){const t=Lc(e.snapshotVersion),s=Lc(e.lastLimboFreeSnapshotVersion);let c;c=tl(e.target)?ki(n.Ht,e.target):wp(n.Ht,e.target);const w=e.resumeToken.toBase64();return new oa(e.targetId,el(e.target),t,w,e.sequenceNumber,s,c)}function ll(n){const e=pd({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?kh(e,e.limit,"L"):e}function ka(n,e){return new Fu(e.largestBatchId,Nl(n.Ht,e.overlayMutation))}function d(n,e){const t=e.path.lastSegment();return[n,sa(e.path.popLast()),t]}class _{getBundleMetadata(e,t){return h(e).get(t).next(s=>{if(s)return{id:(c=s).bundleId,createTime:Uc(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return h(e).put({bundleId:(s=t).id,createTime:Lc(ia(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return b(e).get(t).next(s=>{if(s)return{name:(c=s).name,query:ll(c.bundledQuery),readTime:Uc(c.readTime)};var c})}saveNamedQuery(e,t){return b(e).put({name:(s=t).name,readTime:Lc(ia(s.readTime)),bundledQuery:s.bundledQuery});var s}}function h(n){return Ro(n,Fl.store)}function b(n){return Ro(n,ku.store)}class L{constructor(e,t){this.O=e,this.userId=t}static Jt(e,t){return new L(e,t.uid||"")}getOverlay(e,t){return Z(e).get(d(this.userId,t)).next(s=>s?ka(this.O,s):null)}saveOverlays(e,t,s){const c=[];return s.forEach(w=>{const C=new Fu(t,w);c.push(this.Yt(e,C))}),cn.waitFor(c)}removeOverlaysForBatchId(e,t,s){const c=new Set;t.forEach(C=>c.add(sa(C.getCollectionPath())));const w=[];return c.forEach(C=>{const j=IDBKeyRange.bound([this.userId,C,s],[this.userId,C,s+1],!1,!0);w.push(Z(e).Gt(ko.collectionPathOverlayIndex,j))}),cn.waitFor(w)}getOverlaysForCollection(e,t,s){const c=new Map,w=sa(t),C=IDBKeyRange.bound([this.userId,w,s],[this.userId,w,Number.POSITIVE_INFINITY],!0);return Z(e).qt(ko.collectionPathOverlayIndex,C).next(j=>{for(const te of j){const le=ka(this.O,te);c.set(le.getKey(),le)}return c})}getOverlaysForCollectionGroup(e,t,s,c){const w=new Map;let C;const j=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Z(e).Qt({index:ko.collectionGroupOverlayIndex,range:j},(te,le,He)=>{const Ge=ka(this.O,le);w.size<c||Ge.largestBatchId===C?(w.set(Ge.getKey(),Ge),C=Ge.largestBatchId):He.done()}).next(()=>w)}Yt(e,t){return Z(e).put(function(s,c,w){const[C,j,te]=d(c,w.mutation.key);return new ko(c,j,te,w.mutation.key.getCollectionGroup(),w.largestBatchId,vh(s.Ht,w.mutation))}(this.O,this.userId,t))}}function Z(n){return Ro(n,ko.store)}class _e{constructor(){}Xt(e,t){this.Zt(e,t),t.te()}Zt(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(eo(e.integerValue));else if("doubleValue"in e){const s=eo(e.doubleValue);isNaN(s)?this.ee(t,13):(this.ee(t,15),Yc(s)?t.ne(0):t.ne(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ee(t,20),"string"==typeof s?t.se(s):(t.se(`${s.seconds||""}`),t.ne(s.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(yc(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ee(t,45),t.ne(s.latitude||0),t.ne(s.longitude||0)}else"mapValue"in e?cc(e,Jl)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):An()}ie(e,t){this.ee(t,25),this.he(e,t)}he(e,t){t.se(e)}ue(e,t){const s=e.fields||{};this.ee(t,55);for(const c of Object.keys(s))this.ie(c,t),this.Zt(s[c],t)}ae(e,t){const s=e.values||[];this.ee(t,50);for(const c of s)this.Zt(c,t)}ce(e,t){this.ee(t,37),hr.fromName(e).path.forEach(s=>{this.ee(t,60),this.he(s,t)})}ee(e,t){e.ne(t)}re(e){e.ne(2)}}function Me(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Xe(n){const e=64-function(t){let s=0;for(let c=0;c<8;++c){const w=Me(255&t[c]);if(s+=w,8!==w)break}return s}(n);return Math.ceil(e/8)}_e.le=new _e;class Qe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.de(s.value),s=t.next();this._e()}we(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.me(s.value),s=t.next();this.ge()}ye(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.de(s);else if(s<2048)this.de(960|s>>>6),this.de(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.de(480|s>>>12),this.de(128|63&s>>>6),this.de(128|63&s);else{const c=t.codePointAt(0);this.de(240|c>>>18),this.de(128|63&c>>>12),this.de(128|63&c>>>6),this.de(128|63&c)}}this._e()}pe(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.me(s);else if(s<2048)this.me(960|s>>>6),this.me(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.me(480|s>>>12),this.me(128|63&s>>>6),this.me(128|63&s);else{const c=t.codePointAt(0);this.me(240|c>>>18),this.me(128|63&c>>>12),this.me(128|63&c>>>6),this.me(128|63&c)}}this.ge()}Ie(e){const t=this.Ee(e),s=Xe(t);this.Te(1+s),this.buffer[this.position++]=255&s;for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=255&t[c]}Ae(e){const t=this.Ee(e),s=Xe(t);this.Te(1+s),this.buffer[this.position++]=~(255&s);for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(c){const w=new DataView(new ArrayBuffer(8));return w.setFloat64(0,c,!1),new Uint8Array(w.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let c=1;c<t.length;++c)t[c]^=s?255:0;return t}de(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}me(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class gt{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class ft{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class ut{constructor(){this.Se=new Qe,this.De=new gt(this.Se),this.Ce=new ft(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class lt{constructor(e,t,s,c){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=c}}function ht(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=hr.comparator(n.documentKey,e.documentKey),0!==t?t:(t=et(n.arrayValue,e.arrayValue),0!==t?t:et(n.directionalValue,e.directionalValue)))}function et(n,e){for(let t=0;t<n.length&&t<e.length;++t){const s=n[t]-e[t];if(0!==s)return s}return n.length-e.length}class wt{constructor(){this.xe=new Pt}addToCollectionParentIndex(e,t){return this.xe.add(t),cn.resolve()}getCollectionParents(e,t){return cn.resolve(this.xe.getEntries(t))}addFieldIndex(e,t){return cn.resolve()}deleteFieldIndex(e,t){return cn.resolve()}getDocumentsMatchingTarget(e,t,s){return cn.resolve(Zi())}getFieldIndex(e,t){return cn.resolve(null)}getFieldIndexes(e,t){return cn.resolve([])}getNextCollectionGroupToUpdate(e){return cn.resolve(null)}updateCollectionGroup(e,t,s){return cn.resolve()}updateIndexEntries(e,t){return cn.resolve()}}class Pt{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t]||new _s(Ni.comparator),w=!c.has(s);return this.index[t]=c.add(s),w}has(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t];return c&&c.has(s)}getEntries(e){return(this.index[e]||new _s(Ni.comparator)).toArray()}}class en{constructor(e){this.user=e,this.ke=new Pt,this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.ke.has(t)){const s=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.ke.add(t)});const w={collectionId:s,parent:sa(c)};return sn(e).put(w)}return cn.resolve()}getCollectionParents(e,t){const s=[],c=IDBKeyRange.bound([t,""],[Mh(t),""],!1,!0);return sn(e).qt(c).next(w=>{for(const C of w){if(C.collectionId!==t)break;s.push(_u(C.parent))}return s})}addFieldIndex(e,t){const s=un(e),c=new lc((w=t).indexId,w.collectionGroup,w.fields.map(C=>[C.fieldPath.canonicalString(),C.kind]));var w;return delete c.indexId,s.add(c).next()}deleteFieldIndex(e,t){const s=un(e),c=fn(e),w=Zt(e);return s.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>w.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t,s){return cn.resolve(Zi())}getFieldIndex(e,t){return cn.resolve(null)}Oe(e,t){const s=new ut;for(const c of e.fields.filter(C=>2!==C.kind)){const w=t.data.field(c.fieldPath);if(null==w)return null;const C=s.Ne(c.kind);_e.le.Xt(w,C)}return s.Ve()}Me(e){const t=new ut;return _e.le.Xt(e,t.Ne(0)),t.Ve()}getFieldIndexes(e,t){const s=un(e),c=fn(e);return(t?s.qt(lc.collectionGroupIndex,IDBKeyRange.bound(t,t)):s.qt()).next(w=>{const C=[];return cn.forEach(w,j=>c.get([j.indexId,this.uid]).next(te=>{C.push(function(le,He){const Ge=He?new Xl(He.sequenceNumber,new Ju(Uc(He.readTime),new hr(_u(He.documentKey)),He.largestBatchId)):Xl.empty(),Wt=le.fields.map(([bn,Ln])=>new uc(xo.fromServerFormat(bn),Ln));return new mu(le.indexId,le.collectionGroup,Wt,Ge)}(j,te))})).next(()=>C)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,c)=>s.indexState.sequenceNumber-c.indexState.sequenceNumber),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const c=un(e),w=fn(e);return this.$e(e).next(C=>c.qt(lc.collectionGroupIndex,IDBKeyRange.bound(t,t)).next(j=>cn.forEach(j,te=>{return w.put(new Qa(te.indexId,this.user.uid||"",C,Lc((Wt=s).readTime),sa(Wt.documentKey.path),Wt.largestBatchId));var Wt})))}updateIndexEntries(e,t){const s=new Map;return cn.forEach(t,(c,w)=>{const C=s.get(c.collectionGroup);return(C?cn.resolve(C):this.getFieldIndexes(e,c.collectionGroup)).next(j=>(s.set(c.collectionGroup,j),cn.forEach(j,te=>this.Fe(e,c,te).next(le=>{const He=this.Be(w,te);return le.isEqual(He)?cn.resolve():this.Le(e,w,le,He)}))))})}Ue(e,t,s){return Zt(e).put(new _a(s.indexId,this.uid,s.arrayValue,s.directionalValue,sa(t.key.path)))}qe(e,t,s){return Zt(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,sa(t.key.path)])}Fe(e,t,s){const c=Zt(e);let w=new _s(ht);return c.Qt({index:_a.documentKeyIndex,range:IDBKeyRange.only([s.indexId,this.uid,sa(t.path)])},(C,j)=>{w=w.add(new lt(s.indexId,t,j.arrayValue,j.directionalValue))}).next(()=>w)}Be(e,t){let s=new _s(ht);const c=this.Oe(t,e);if(null==c)return s;const w=t.fields.find(j=>2===j.kind);if(null!=w){const C=e.data.field(w.fieldPath);if(Qu(C))for(const j of C.arrayValue.values||[])s=s.add(new lt(t.indexId,e.key,this.Me(j),c))}else s=s.add(new lt(t.indexId,e.key,new Uint8Array,c));return s}Le(e,t,s,c){xt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const w=[];return function(C,j,te,le,He){const Ge=C.getIterator(),Wt=j.getIterator();let bn=Rl(Ge),Ln=Rl(Wt);for(;bn||Ln;){let jr=!1,Ai=!1;if(bn&&Ln){const aa=te(bn,Ln);aa<0?Ai=!0:aa>0&&(jr=!0)}else null!=bn?Ai=!0:jr=!0;jr?(le(Ln),Ln=Rl(Wt)):Ai?(He(bn),bn=Rl(Ge)):(bn=Rl(Ge),Ln=Rl(Wt))}}(s,c,ht,C=>{w.push(this.Ue(e,t,C))},C=>{w.push(this.qe(e,t,C))}),cn.waitFor(w)}$e(e){let t=1;return fn(e).Qt({index:Qa.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,w)=>{w.done(),t=c.sequenceNumber+1}).next(()=>t)}}function sn(n){return Ro(n,ru.store)}function Zt(n){return Ro(n,_a.store)}function un(n){return Ro(n,lc.store)}function fn(n){return Ro(n,Qa.store)}const mn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Rn{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ur(n,e,t){const s=n.store(hs.store),c=n.store(no.store),w=[],C=IDBKeyRange.only(t.batchId);let j=0;const te=s.Qt({range:C},(He,Ge,Wt)=>(j++,Wt.delete()));w.push(te.next(()=>{Hn(1===j)}));const le=[];for(const He of t.mutations){const Ge=no.key(e,He.key.path,t.batchId);w.push(c.delete(Ge)),le.push(He.key)}return cn.waitFor(w).next(()=>le)}function Or(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw An();e=n.noDocument}return JSON.stringify(e).length}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(41943040,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class Wr{constructor(e,t,s,c){this.userId=e,this.O=t,this.indexManager=s,this.referenceDelegate=c,this.Ke={}}static Jt(e,t,s,c){Hn(""!==e.uid);const w=e.isAuthenticated()?e.uid:"";return new Wr(w,t,s,c)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return u(e).Qt({index:hs.userMutationsIndex,range:s},(c,w,C)=>{t=!1,C.done()}).next(()=>t)}addMutationBatch(e,t,s,c){const w=p(e),C=u(e);return C.add({}).next(j=>{Hn("number"==typeof j);const te=new yd(j,t,s,c),le=function(Wt,bn,Ln){const jr=Ln.baseMutations.map(aa=>vh(Wt.Ht,aa)),Ai=Ln.mutations.map(aa=>vh(Wt.Ht,aa));return new hs(bn,Ln.batchId,Ln.localWriteTime.toMillis(),jr,Ai)}(this.O,this.userId,te),He=[];let Ge=new _s((Wt,bn)=>yi(Wt.canonicalString(),bn.canonicalString()));for(const Wt of c){const bn=no.key(this.userId,Wt.key.path,j);Ge=Ge.add(Wt.key.path.popLast()),He.push(C.put(le)),He.push(w.put(bn,no.PLACEHOLDER))}return Ge.forEach(Wt=>{He.push(this.indexManager.addToCollectionParentIndex(e,Wt))}),e.addOnCommittedListener(()=>{this.Ke[j]=te.keys()}),cn.waitFor(He).next(()=>te)})}lookupMutationBatch(e,t){return u(e).get(t).next(s=>s?(Hn(s.userId===this.userId),ul(this.O,s)):null)}Ge(e,t){return this.Ke[t]?cn.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const c=s.keys();return this.Ke[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,c=IDBKeyRange.lowerBound([this.userId,s]);let w=null;return u(e).Qt({index:hs.userMutationsIndex,range:c},(C,j,te)=>{j.userId===this.userId&&(Hn(j.batchId>=s),w=ul(this.O,j)),te.done()}).next(()=>w)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return u(e).Qt({index:hs.userMutationsIndex,range:t,reverse:!0},(c,w,C)=>{s=w.batchId,C.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return u(e).qt(hs.userMutationsIndex,t).next(s=>s.map(c=>ul(this.O,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=no.prefixForPath(this.userId,t.path),c=IDBKeyRange.lowerBound(s),w=[];return p(e).Qt({range:c},(C,j,te)=>{const[le,He,Ge]=C,Wt=_u(He);if(le===this.userId&&t.path.isEqual(Wt))return u(e).get(Ge).next(bn=>{if(!bn)throw An();Hn(bn.userId===this.userId),w.push(ul(this.O,bn))});te.done()}).next(()=>w)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new _s(yi);const c=[];return t.forEach(w=>{const C=no.prefixForPath(this.userId,w.path),j=IDBKeyRange.lowerBound(C),te=p(e).Qt({range:j},(le,He,Ge)=>{const[Wt,bn,Ln]=le,jr=_u(bn);Wt===this.userId&&w.path.isEqual(jr)?s=s.add(Ln):Ge.done()});c.push(te)}),cn.waitFor(c).next(()=>this.je(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1,w=no.prefixForPath(this.userId,s),C=IDBKeyRange.lowerBound(w);let j=new _s(yi);return p(e).Qt({range:C},(te,le,He)=>{const[Ge,Wt,bn]=te,Ln=_u(Wt);Ge===this.userId&&s.isPrefixOf(Ln)?Ln.length===c&&(j=j.add(bn)):He.done()}).next(()=>this.je(e,j))}je(e,t){const s=[],c=[];return t.forEach(w=>{c.push(u(e).get(w).next(C=>{if(null===C)throw An();Hn(C.userId===this.userId),s.push(ul(this.O,C))}))}),cn.waitFor(c).next(()=>s)}removeMutationBatch(e,t){return ur(e.zt,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Qe(t.batchId)}),cn.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return cn.resolve();const s=IDBKeyRange.lowerBound(no.prefixForUser(this.userId)),c=[];return p(e).Qt({range:s},(w,C,j)=>{if(w[0]===this.userId){const te=_u(w[1]);c.push(te)}else j.done()}).next(()=>{Hn(0===c.length)})})}containsKey(e,t){return v(e,this.userId,t)}We(e){return S(e).get(this.userId).next(t=>t||new Nc(this.userId,-1,""))}}function v(n,e,t){const s=no.prefixForPath(e,t.path),c=s[1],w=IDBKeyRange.lowerBound(s);let C=!1;return p(n).Qt({range:w,jt:!0},(j,te,le)=>{const[He,Ge,Wt]=j;He===e&&Ge===c&&(C=!0),le.done()}).next(()=>C)}function u(n){return Ro(n,hs.store)}function p(n){return Ro(n,no.store)}function S(n){return Ro(n,Nc.store)}class x{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new x(0)}static Je(){return new x(-1)}}class K{constructor(e,t){this.referenceDelegate=e,this.O=t}allocateTargetId(e){return this.Ye(e).next(t=>{const s=new x(t.highestTargetId);return t.highestTargetId=s.next(),this.Xe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(t=>Lr.fromTimestamp(new Vs(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Ye(e).next(c=>(c.highestListenSequenceNumber=t,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.Xe(e,c)))}addTargetData(e,t){return this.Ze(e,t).next(()=>this.Ye(e).next(s=>(s.targetCount+=1,this.tn(t,s),this.Xe(e,s))))}updateTargetData(e,t){return this.Ze(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>be(e).delete(t.targetId)).next(()=>this.Ye(e)).next(s=>(Hn(s.targetCount>0),s.targetCount-=1,this.Xe(e,s)))}removeTargets(e,t,s){let c=0;const w=[];return be(e).Qt((C,j)=>{const te=Lu(j);te.sequenceNumber<=t&&null===s.get(te.targetId)&&(c++,w.push(this.removeTargetData(e,te)))}).next(()=>cn.waitFor(w)).next(()=>c)}forEachTarget(e,t){return be(e).Qt((s,c)=>{const w=Lu(c);t(w)})}Ye(e){return ct(e).get(Ka.key).next(t=>(Hn(null!==t),t))}Xe(e,t){return ct(e).put(Ka.key,t)}Ze(e,t){return be(e).put(_d(this.O,t))}tn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Ye(e).next(t=>t.targetCount)}getTargetData(e,t){const s=el(t),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let w=null;return be(e).Qt({range:c,index:oa.queryTargetsIndexName},(C,j,te)=>{const le=Lu(j);Sl(t,le.target)&&(w=le,te.done())}).next(()=>w)}addMatchingKeys(e,t,s){const c=[],w=jt(e);return t.forEach(C=>{const j=sa(C.path);c.push(w.put(new ws(s,j))),c.push(this.referenceDelegate.addReference(e,s,C))}),cn.waitFor(c)}removeMatchingKeys(e,t,s){const c=jt(e);return cn.forEach(t,w=>{const C=sa(w.path);return cn.waitFor([c.delete([s,C]),this.referenceDelegate.removeReference(e,s,w)])})}removeMatchingKeysForTargetId(e,t){const s=jt(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),c=jt(e);let w=Zi();return c.Qt({range:s,jt:!0},(C,j,te)=>{const le=_u(C[1]),He=new hr(le);w=w.add(He)}).next(()=>w)}containsKey(e,t){const s=sa(t.path),c=IDBKeyRange.bound([s],[Mh(s)],!1,!0);let w=0;return jt(e).Qt({index:ws.documentTargetsIndex,jt:!0,range:c},([C,j],te,le)=>{0!==C&&(w++,le.done())}).next(()=>w>0)}Tt(e,t){return be(e).get(t).next(s=>s?Lu(s):null)}}function be(n){return Ro(n,oa.store)}function ct(n){return Ro(n,Ka.store)}function jt(n){return Ro(n,ws.store)}function gn(n){return Fn.apply(this,arguments)}function Fn(){return Fn=(0,we.Z)(function*(n){if(n.code!==$t.FAILED_PRECONDITION||n.message!==md)throw n;xt("LocalStore","Unexpectedly lost primary lease")}),Fn.apply(this,arguments)}function Xt([n,e],[t,s]){const c=yi(n,t);return 0===c?yi(e,s):c}class Mr{constructor(e){this.en=e,this.buffer=new _s(Xt),this.nn=0}sn(){return++this.nn}rn(e){const t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Xt(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xi{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){var t=this;const s=this.on?3e5:6e4;xt("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,we.Z)(function*(){t.cn=null,t.on=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(c){Fc(c)?xt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield gn(c)}yield t.un(e)}))}}class xs{constructor(e,t){this.an=e,this.params=t}calculateTargetCount(e,t){return this.an.hn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return cn.resolve(Wa.A);const s=new Mr(t);return this.an.forEachTarget(e,c=>s.rn(c.sequenceNumber)).next(()=>this.an.ln(e,c=>s.rn(c))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.an.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.an.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(xt("LruGarbageCollector","Garbage collection skipped; disabled"),cn.resolve(mn)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mn):this.fn(e,t))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,t){let s,c,w,C,j,te,le;const He=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ge=>(Ge>this.params.maximumSequenceNumbersToCollect?(xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ge}`),c=this.params.maximumSequenceNumbersToCollect):c=Ge,C=Date.now(),this.nthSequenceNumber(e,c))).next(Ge=>(s=Ge,j=Date.now(),this.removeTargets(e,s,t))).next(Ge=>(w=Ge,te=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ge=>(le=Date.now(),Ct()<=Oe.DEBUG&&xt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-He}ms\n\tDetermined least recently used ${c} in `+(j-C)+`ms\n\tRemoved ${w} targets in `+(te-j)+`ms\n\tRemoved ${Ge} documents in `+(le-te)+`ms\nTotal Duration: ${le-He}ms`),cn.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:w,documentsRemoved:Ge})))}}class Fa{constructor(e,t){this.db=e,this.garbageCollector=new xs(this,t)}hn(e){const t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(c=>s+c))}dn(e){let t=0;return this.ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ln(e,t){return this._n(e,(s,c)=>t(c))}addReference(e,t,s){return zo(e,s)}removeReference(e,t,s){return zo(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return zo(e,t)}wn(e,t){return function(s,c){let w=!1;return S(s).Wt(C=>v(s,C,c).next(j=>(j&&(w=!0),cn.resolve(!j)))).next(()=>w)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let w=0;return this._n(e,(C,j)=>{if(j<=t){const te=this.wn(e,C).next(le=>{if(!le)return w++,s.getEntry(e,C).next(()=>(s.removeEntry(C,Lr.min()),jt(e).delete([0,sa(C.path)])))});c.push(te)}}).next(()=>cn.waitFor(c)).next(()=>s.apply(e)).next(()=>w)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return zo(e,t)}_n(e,t){const s=jt(e);let c,w=Wa.A;return s.Qt({index:ws.documentTargetsIndex},([C,j],{path:te,sequenceNumber:le})=>{0===C?(w!==Wa.A&&t(new hr(_u(c)),w),w=le,c=te):w=Wa.A}).next(()=>{w!==Wa.A&&t(new hr(_u(c)),w)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zo(n,e){return jt(n).put((s=n.currentSequenceNumber,new ws(0,sa(e.path),s)));var s}class Fo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[c,w]of s)if(this.equalsFn(c,e))return w}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0!==c){for(let w=0;w<c.length;w++)if(this.equalsFn(c[w][0],e))return void(c[w]=[e,t]);c.push([e,t])}else this.inner[s]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[t]:s.splice(c,1),!0;return!1}forEach(e){Qc(this.inner,(t,s)=>{for(const[c,w]of s)e(c,w)})}isEmpty(){return Ql(this.inner)}}class dc{constructor(){this.changes=new Fo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ls.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?cn.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dl{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return f(e).put(I(t),s)}removeEntry(e,t){const s=f(e),c=I(t);return s.delete(c)}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.mn(e,s)))}getEntry(e,t){return f(e).get(I(t)).next(s=>this.gn(t,s))}yn(e,t){return f(e).get(I(t)).next(s=>({document:this.gn(t,s),size:Or(s)}))}getEntries(e,t){let s=ya();return this.pn(e,t,(c,w)=>{const C=this.gn(c,w);s=s.insert(c,C)}).next(()=>s)}In(e,t){let s=ya(),c=new ho(hr.comparator);return this.pn(e,t,(w,C)=>{const j=this.gn(w,C);s=s.insert(w,j),c=c.insert(w,Or(C))}).next(()=>({documents:s,En:c}))}pn(e,t,s){if(t.isEmpty())return cn.resolve();const c=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),w=t.getIterator();let C=w.getNext();return f(e).Qt({range:c},(j,te,le)=>{const He=hr.fromSegments(j);for(;C&&hr.comparator(C,He)<0;)s(C,null),C=w.getNext();C&&C.isEqual(He)&&(s(C,te),C=w.hasNext()?w.getNext():null),C?le.Ut(C.path.toArray()):le.done()}).next(()=>{for(;C;)s(C,null),C=w.hasNext()?w.getNext():null})}getAll(e,t,s){let c=ya();const w=t.length+1,C={};if(s.isEqual(Lr.min())){const j=t.toArray();C.range=IDBKeyRange.lowerBound(j)}else{const j=t.toArray(),te=xf(s);C.range=IDBKeyRange.lowerBound([j,te],!0),C.index=Qs.collectionReadTimeIndex}return f(e).Qt(C,(j,te,le)=>{if(j.length!==w)return;const He=this.gn(hr.fromSegments(j),te);t.isPrefixOf(He.key.path)?c=c.insert(He.key,He):le.done()}).next(()=>c)}newChangeBuffer(e){return new tf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return m(e).get(kc.key).next(t=>(Hn(!!t),t))}mn(e,t){return m(e).put(kc.key,t)}gn(e,t){if(t){const s=Zf(this.O,t);if(!s.isNoDocument()||!s.version.isEqual(Lr.min()))return s}return ls.newInvalidDocument(e)}}class tf extends dc{constructor(e,t){super(),this.Tn=e,this.trackRemovals=t,this.An=new Fo(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(e){const t=[];let s=0,c=new _s((w,C)=>yi(w.canonicalString(),C.canonicalString()));return this.changes.forEach((w,C)=>{const j=this.An.get(w);if(C.isValidDocument()){const te=Ih(this.Tn.O,C);c=c.add(w.path.popLast()),s+=Or(te)-j,t.push(this.Tn.addEntry(e,w,te))}else if(s-=j,this.trackRemovals){const te=Ih(this.Tn.O,C.convertToNoDocument(Lr.min()));t.push(this.Tn.addEntry(e,w,te))}else t.push(this.Tn.removeEntry(e,w))}),c.forEach(w=>{t.push(this.Tn.indexManager.addToCollectionParentIndex(e,w))}),t.push(this.Tn.updateMetadata(e,s)),cn.waitFor(t)}getFromCache(e,t){return this.Tn.yn(e,t).next(s=>(this.An.set(t,s.size),s.document))}getAllFromCache(e,t){return this.Tn.In(e,t).next(({documents:s,En:c})=>(c.forEach((w,C)=>{this.An.set(w,C)}),s))}}function m(n){return Ro(n,kc.store)}function f(n){return Ro(n,Qs.store)}function I(n){return n.path.toArray()}class O{constructor(e){this.O=e}kt(e,t,s,c){const w=new Xh("createOrUpgrade",t);var j;s<1&&c>=1&&(e.createObjectStore(gr.store),(j=e).createObjectStore(Nc.store,{keyPath:Nc.keyPath}),j.createObjectStore(hs.store,{keyPath:hs.keyPath,autoIncrement:!0}).createIndex(hs.userMutationsIndex,hs.userMutationsKeyPath,{unique:!0}),j.createObjectStore(no.store),D(e),function(j){j.createObjectStore(Qs.store)}(e));let C=cn.resolve();return s<3&&c>=3&&(0!==s&&(function(j){j.deleteObjectStore(ws.store),j.deleteObjectStore(oa.store),j.deleteObjectStore(Ka.store)}(e),D(e)),C=C.next(()=>function(j){const te=j.store(Ka.store),le=new Ka(0,0,Lr.min().toTimestamp(),0);return te.put(Ka.key,le)}(w))),s<4&&c>=4&&(0!==s&&(C=C.next(()=>function(j,te){return te.store(hs.store).qt().next(le=>{j.deleteObjectStore(hs.store),j.createObjectStore(hs.store,{keyPath:hs.keyPath,autoIncrement:!0}).createIndex(hs.userMutationsIndex,hs.userMutationsKeyPath,{unique:!0});const He=te.store(hs.store),Ge=le.map(Wt=>He.put(Wt));return cn.waitFor(Ge)})}(e,w))),C=C.next(()=>{!function(j){j.createObjectStore($s.store,{keyPath:$s.keyPath})}(e)})),s<5&&c>=5&&(C=C.next(()=>this.Rn(w))),s<6&&c>=6&&(C=C.next(()=>(function(j){j.createObjectStore(kc.store)}(e),this.Pn(w)))),s<7&&c>=7&&(C=C.next(()=>this.bn(w))),s<8&&c>=8&&(C=C.next(()=>this.vn(e,w))),s<9&&c>=9&&(C=C.next(()=>{(function(j){j.objectStoreNames.contains("remoteDocumentChanges")&&j.deleteObjectStore("remoteDocumentChanges")})(e),function(j){const te=j.objectStore(Qs.store);te.createIndex(Qs.readTimeIndex,Qs.readTimeIndexPath,{unique:!1}),te.createIndex(Qs.collectionReadTimeIndex,Qs.collectionReadTimeIndexPath,{unique:!1})}(t)})),s<10&&c>=10&&(C=C.next(()=>this.Vn(w))),s<11&&c>=11&&(C=C.next(()=>{(function(j){j.createObjectStore(Fl.store,{keyPath:Fl.keyPath})})(e),function(j){j.createObjectStore(ku.store,{keyPath:ku.keyPath})}(e)})),s<12&&c>=12&&(C=C.next(()=>{!function(j){const te=j.createObjectStore(ko.store,{keyPath:ko.keyPath});te.createIndex(ko.collectionPathOverlayIndex,ko.collectionPathOverlayIndexPath,{unique:!1}),te.createIndex(ko.collectionGroupOverlayIndex,ko.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),s<13&&c>=13&&(C=C.next(()=>{!function(j){j.createObjectStore(lc.store,{keyPath:lc.keyPath,autoIncrement:!0}).createIndex(lc.collectionGroupIndex,lc.collectionGroupIndexPath,{unique:!1}),j.createObjectStore(Qa.store,{keyPath:Qa.keyPath}).createIndex(Qa.sequenceNumberIndex,Qa.sequenceNumberIndexPath,{unique:!1}),j.createObjectStore(_a.store,{keyPath:_a.keyPath}).createIndex(_a.documentKeyIndex,_a.documentKeyIndexPath,{unique:!1})}(e)})),C}Pn(e){let t=0;return e.store(Qs.store).Qt((s,c)=>{t+=Or(c)}).next(()=>{const s=new kc(t);return e.store(kc.store).put(kc.key,s)})}Rn(e){const t=e.store(Nc.store),s=e.store(hs.store);return t.qt().next(c=>cn.forEach(c,w=>{const C=IDBKeyRange.bound([w.userId,-1],[w.userId,w.lastAcknowledgedBatchId]);return s.qt(hs.userMutationsIndex,C).next(j=>cn.forEach(j,te=>{Hn(te.userId===w.userId);const le=ul(this.O,te);return ur(e,w.userId,le).next(()=>{})}))}))}bn(e){const t=e.store(ws.store),s=e.store(Qs.store);return e.store(Ka.store).get(Ka.key).next(c=>{const w=[];return s.Qt((C,j)=>{const te=new Ni(C),le=[0,sa(te)];w.push(t.get(le).next(He=>He?cn.resolve():t.put(new ws(0,sa(te),c.highestListenSequenceNumber))))}).next(()=>cn.waitFor(w))})}vn(e,t){e.createObjectStore(ru.store,{keyPath:ru.keyPath});const s=t.store(ru.store),c=new Pt,w=C=>{if(c.add(C)){const j=C.lastSegment(),te=C.popLast();return s.put({collectionId:j,parent:sa(te)})}};return t.store(Qs.store).Qt({jt:!0},(C,j)=>{const te=new Ni(C);return w(te.popLast())}).next(()=>t.store(no.store).Qt({jt:!0},([C,j,te],le)=>{const He=_u(j);return w(He.popLast())}))}Vn(e){const t=e.store(oa.store);return t.Qt((s,c)=>{const w=Lu(c),C=_d(this.O,w);return t.put(C)})}}function D(n){n.createObjectStore(ws.store,{keyPath:ws.keyPath}).createIndex(ws.documentTargetsIndex,ws.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(oa.store,{keyPath:oa.keyPath}).createIndex(oa.queryTargetsIndexName,oa.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Ka.store)}const se="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class je{constructor(e,t,s,c,w,C,j,te,le,He,Ge=12){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Sn=w,this.window=C,this.document=j,this.Dn=le,this.Cn=He,this.schemaVersion=Ge,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=Wt=>Promise.resolve(),!je.Vt())throw new _n($t.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fa(this,c),this.Bn=t+"main",this.O=new ef(te),this.Ln=new Ya(this.Bn,this.schemaVersion,new O(this.O)),this.Un=new K(this.referenceDelegate,this.O),this.qn=new dl(this.O),this.Kn=new _,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===He&&Pn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _n($t.FAILED_PRECONDITION,se);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new Wa(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){var t=this;return this.Fn=function(){var s=(0,we.Z)(function*(c){if(t.started)return e(c)});return function(c){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(function(){var t=(0,we.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>on(e).put(new $s(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(t=>{t||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(t=>this.isPrimary&&!t?this.Xn(e).next(()=>!1):!!t&&this.Zn(e).next(()=>!0))).catch(e=>{if(Fc(e))return xt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return xt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return Bt(e).get(gr.key).next(t=>cn.resolve(this.ts(t)))}es(e){return on(e).delete(this.clientId)}ns(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.ss(e.$n,18e5)){e.$n=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=Ro(s,$s.store);return c.qt().next(w=>{const C=e.rs(w,18e5),j=w.filter(te=>-1===C.indexOf(te));return cn.forEach(j,te=>c.delete(te.clientId)).next(()=>j)})}).catch(()=>[]);if(e.Gn)for(const s of t)e.Gn.removeItem(e.os(s.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?cn.resolve(!0):Bt(e).get(gr.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new _n($t.FAILED_PRECONDITION,se);return!1}}return!(!this.networkEnabled||!this.inForeground)||on(e).qt().next(s=>void 0===this.rs(s,5e3).find(c=>{if(this.clientId!==c.clientId){const C=!this.inForeground&&c.inForeground,j=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||C&&j)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&xt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.xn=!1,e.us(),e.Mn&&(e.Mn.cancel(),e.Mn=null),e.hs(),e.ls(),yield e.Ln.runTransaction("shutdown","readwrite",[gr.store,$s.store],t=>{const s=new eh(t,Wa.A);return e.Xn(s).next(()=>e.es(s))}),e.Ln.close(),e.fs()})()}rs(e,t){return e.filter(s=>this.ss(s.updateTimeMs,t)&&!this.cs(s.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>on(e).qt().next(t=>this.rs(t,18e5).map(s=>s.clientId)))}get started(){return this.xn}getMutationQueue(e,t){return Wr.Jt(e,this.O,t,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new en(e)}getDocumentOverlayCache(e){return L.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,t,s){xt("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",w=13===(C=this.schemaVersion)?Jh:12===C?Ll:11===C?gd:void An();var C;let j;return this.Ln.runTransaction(e,c,w,te=>(j=new eh(te,this.Nn?this.Nn.next():Wa.A),"readwrite-primary"===t?this.Jn(j).next(le=>!!le||this.Yn(j)).next(le=>{if(!le)throw Pn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new _n($t.FAILED_PRECONDITION,md);return s(j)}).next(le=>this.Zn(j).next(()=>le)):this._s(j).next(()=>s(j)))).then(te=>(j.raiseOnCommittedEvent(),te))}_s(e){return Bt(e).get(gr.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Cn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new _n($t.FAILED_PRECONDITION,se)})}Zn(e){const t=new gr(this.clientId,this.allowTabSynchronization,Date.now());return Bt(e).put(gr.key,t)}static Vt(){return Ya.Vt()}Xn(e){const t=Bt(e);return t.get(gr.key).next(s=>this.ts(s)?(xt("IndexedDbPersistence","Releasing primary lease."),t.delete(gr.key)):cn.resolve())}ss(e,t){const s=Date.now();return!(e<s-t||e>s&&(Pn(`Detected an update time that is in the future: ${e} > ${s}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),function Zn(){return!function Rt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(n){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var t;try{const s=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return xt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Pn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(e){Pn("Failed to set zombie client id.",e)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(e){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Bt(n){return Ro(n,gr.store)}function on(n){return Ro(n,$s.store)}function zn(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Ur{constructor(e,t){this.progress=e,this.ws=t}}class ln{constructor(e,t,s){this.qn=e,this.gs=t,this.indexManager=s}ys(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next(s=>this.ps(e,t,s))}ps(e,t,s){return this.qn.getEntry(e,t).next(c=>{for(const w of s)w.applyToLocalView(c);return c})}Is(e,t){e.forEach((s,c)=>{for(const w of t)w.applyToLocalView(c)})}Es(e,t){return this.qn.getEntries(e,t).next(s=>this.Ts(e,s).next(()=>s))}Ts(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>this.Is(t,s))}As(e,t,s){return hr.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.Rs(e,t.path):Wo(t)?this.Ps(e,t,s):this.bs(e,t,s);var c}Rs(e,t){return this.ys(e,new hr(t)).next(s=>{let c=Vh();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}Ps(e,t,s){const c=t.collectionGroup;let w=Vh();return this.indexManager.getCollectionParents(e,c).next(C=>cn.forEach(C,j=>{const te=(le=t,He=j.child(c),new Xc(He,null,le.explicitOrderBy.slice(),le.filters.slice(),le.limit,le.limitType,le.startAt,le.endAt));var le,He;return this.bs(e,te,s).next(le=>{le.forEach((He,Ge)=>{w=w.insert(He,Ge)})})}).next(()=>w))}bs(e,t,s){let c;return this.qn.getAll(e,t.path,s).next(w=>(c=w,this.gs.getAllMutationBatchesAffectingQuery(e,t))).next(w=>{for(const C of w)for(const j of C.mutations){const te=j.key;let le=c.get(te);null==le&&(le=ls.newInvalidDocument(te),c=c.insert(te,le)),id(j,le,C.localWriteTime),le.isFoundDocument()||(c=c.remove(te))}}).next(()=>(c.forEach((w,C)=>{Ds(t,C)||(c=c.remove(w))}),c))}}class ei{constructor(e,t,s,c){this.targetId=e,this.fromCache=t,this.vs=s,this.Vs=c}static Ss(e,t){let s=Zi(),c=Zi();for(const w of t.docChanges)switch(w.type){case 0:s=s.add(w.doc.key);break;case 1:c=c.add(w.doc.key)}return new ei(e,t.fromCache,s,c)}}class Vi{Ds(e){this.Cs=e}As(e,t,s,c){return 0===(w=t).filters.length&&null===w.limit&&null==w.startAt&&null==w.endAt&&(0===w.explicitOrderBy.length||1===w.explicitOrderBy.length&&w.explicitOrderBy[0].field.isKeyField())||s.isEqual(Lr.min())?this.Ns(e,t):this.Cs.Es(e,c).next(w=>{const C=this.xs(t,w);return($o(t)||Du(t))&&this.ks(t.limitType,C,c,s)?this.Ns(e,t):(Ct()<=Oe.DEBUG&&xt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),rl(t)),this.Cs.As(e,t,s).next(j=>(C.forEach(te=>{j=j.insert(te.key,te)}),j)))});var w}xs(e,t){let s=new _s(bc(e));return t.forEach((c,w)=>{Ds(e,w)&&(s=s.add(w))}),s}ks(e,t,s,c){if(s.size!==t.size)return!0;const w="F"===e?t.last():t.first();return!!w&&(w.hasPendingWrites||w.version.compareTo(c)>0)}Ns(e,t){return Ct()<=Oe.DEBUG&&xt("QueryEngine","Using full collection scan to execute query:",rl(t)),this.Cs.As(e,t,Lr.min())}}class jc{constructor(e,t,s,c){this.persistence=e,this.Os=t,this.O=c,this.Ms=new ho(yi),this.$s=new Fo(w=>el(w),Sl),this.Fs=Lr.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(s)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new ln(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function nf(n,e,t,s){return new jc(n,e,t,s)}function rf(n,e){return hl.apply(this,arguments)}function hl(){return hl=(0,we.Z)(function*(n,e){const t=jn(n);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let c;return t.gs.getAllMutationBatches(s).next(w=>(c=w,t.Ls(e),t.gs.getAllMutationBatches(s))).next(w=>{const C=[],j=[];let te=Zi();for(const le of c){C.push(le.batchId);for(const He of le.mutations)te=te.add(He.key)}for(const le of w){j.push(le.batchId);for(const He of le.mutations)te=te.add(He.key)}return t.Us.Es(s,te).next(le=>({qs:le,removedBatchIds:C,addedBatchIds:j}))})})}),hl.apply(this,arguments)}function th(n,e){const t=jn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),w=t.Bs.newChangeBuffer({trackRemovals:!0});return function(C,j,te,le){const He=te.batch,Ge=He.keys();let Wt=cn.resolve();return Ge.forEach(bn=>{Wt=Wt.next(()=>le.getEntry(j,bn)).next(Ln=>{const jr=te.docVersions.get(bn);Hn(null!==jr),Ln.version.compareTo(jr)<0&&(He.applyToRemoteDocument(Ln,te),Ln.isValidDocument()&&(Ln.setReadTime(te.commitVersion),le.addEntry(Ln)))})}),Wt.next(()=>C.gs.removeMutationBatch(j,He))}(t,s,e,w).next(()=>w.apply(s)).next(()=>t.gs.performConsistencyCheck(s)).next(()=>t.Us.Es(s,c))})}function qf(n){const e=jn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Un.getLastRemoteSnapshotVersion(t))}function m_(n,e){const t=jn(n),s=e.snapshotVersion;let c=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",w=>{const C=t.Bs.newChangeBuffer({trackRemovals:!0});c=t.Ms;const j=[];e.targetChanges.forEach((le,He)=>{const Ge=c.get(He);if(!Ge)return;j.push(t.Un.removeMatchingKeys(w,le.removedDocuments,He).next(()=>t.Un.addMatchingKeys(w,le.addedDocuments,He)));let Wt=Ge.withSequenceNumber(w.currentSequenceNumber);var bn,Ln,jr;e.targetMismatches.has(He)?Wt=Wt.withResumeToken(Ps.EMPTY_BYTE_STRING,Lr.min()).withLastLimboFreeSnapshotVersion(Lr.min()):le.resumeToken.approximateByteSize()>0&&(Wt=Wt.withResumeToken(le.resumeToken,s)),c=c.insert(He,Wt),Ln=Wt,jr=le,(0===(bn=Ge).resumeToken.approximateByteSize()||Ln.snapshotVersion.toMicroseconds()-bn.snapshotVersion.toMicroseconds()>=3e8||jr.addedDocuments.size+jr.modifiedDocuments.size+jr.removedDocuments.size>0)&&j.push(t.Un.updateTargetData(w,Wt))});let te=ya();if(e.documentUpdates.forEach(le=>{e.resolvedLimboDocuments.has(le)&&j.push(t.persistence.referenceDelegate.updateLimboDocument(w,le))}),j.push(by(w,C,e.documentUpdates).next(le=>{te=le})),!s.isEqual(Lr.min())){const le=t.Un.getLastRemoteSnapshotVersion(w).next(He=>t.Un.setTargetsMetadata(w,w.currentSequenceNumber,s));j.push(le)}return cn.waitFor(j).next(()=>C.apply(w)).next(()=>t.Us.Ts(w,te)).next(()=>te)}).then(w=>(t.Ms=c,w))}function by(n,e,t){let s=Zi();return t.forEach(c=>s=s.add(c)),e.getEntries(n,s).next(c=>{let w=ya();return t.forEach((C,j)=>{const te=c.get(C);j.isNoDocument()&&j.version.isEqual(Lr.min())?(e.removeEntry(C,j.readTime),w=w.insert(C,j)):!te.isValidDocument()||j.version.compareTo(te.version)>0||0===j.version.compareTo(te.version)&&te.hasPendingWrites?(e.addEntry(j),w=w.insert(C,j)):xt("LocalStore","Ignoring outdated watch update for ",C,". Current version:",te.version," Watch version:",j.version)}),w})}function rm(n,e){const t=jn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.gs.getNextMutationBatchAfterBatchId(s,e)))}function Ip(n,e){const t=jn(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return t.Un.getTargetData(s,e).next(w=>w?(c=w,cn.resolve(c)):t.Un.allocateTargetId(s).next(C=>(c=new wu(e,C,0,s.currentSequenceNumber),t.Un.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=t.Ms.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.$s.set(e,s.targetId)),s})}function Gf(n,e,t){return ig.apply(this,arguments)}function ig(){return ig=(0,we.Z)(function*(n,e,t){const s=jn(n),c=s.Ms.get(e),w=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",w,C=>s.persistence.referenceDelegate.removeTarget(C,c)))}catch(C){if(!Fc(C))throw C;xt("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}s.Ms=s.Ms.remove(e),s.$s.delete(c.target)}),ig.apply(this,arguments)}function Sp(n,e,t){const s=jn(n);let c=Lr.min(),w=Zi();return s.persistence.runTransaction("Execute query","readonly",C=>function(j,te,le){const He=jn(j),Ge=He.$s.get(le);return void 0!==Ge?cn.resolve(He.Ms.get(Ge)):He.Un.getTargetData(te,le)}(s,C,Ra(e)).next(j=>{if(j)return c=j.lastLimboFreeSnapshotVersion,s.Un.getMatchingKeysForTargetId(C,j.targetId).next(te=>{w=te})}).next(()=>s.Os.As(C,e,t?c:Lr.min(),t?w:Zi())).next(j=>({documents:j,Ks:w})))}function im(n,e){const t=jn(n),s=jn(t.Un),c=t.Ms.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",w=>s.Tt(w,e).next(C=>C?C.target:null))}function sm(n){const e=jn(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(s,c,w){const C=jn(s);let j=ya(),te=xf(w);const le=f(c),He=IDBKeyRange.lowerBound(te,!0);return le.Qt({index:Qs.readTimeIndex,range:He},(Ge,Wt)=>{const bn=Zf(C.O,Wt);j=j.insert(bn.key,bn),te=Wt.readTime}).next(()=>({ws:j,readTime:Na(te)}))}(e.Bs,t,e.Fs)).then(({ws:t,readTime:s})=>(e.Fs=s,t))}function bd(){return bd=(0,we.Z)(function*(n){const e=jn(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(s){const c=f(s);let w=Lr.min();return c.Qt({index:Qs.readTimeIndex,reverse:!0},(C,j,te)=>{j.readTime&&(w=Na(j.readTime)),te.done()}).next(()=>w)}(t)).then(t=>{e.Fs=t})}),bd.apply(this,arguments)}function om(){return om=(0,we.Z)(function*(n,e,t,s){const c=jn(n);let w=Zi(),C=ya();for(const le of t){const He=e.Gs(le.metadata.name);le.document&&(w=w.add(He));const Ge=e.js(le);Ge.setReadTime(e.Qs(le.metadata.readTime)),C=C.insert(He,Ge)}const j=c.Bs.newChangeBuffer({trackRemovals:!0}),te=yield Ip(c,(le=s,Ra(Oa(Ni.fromString(`__bundle__/docs/${le}`)))));var le;return c.persistence.runTransaction("Apply bundle documents","readwrite",le=>by(le,j,C).next(He=>(j.apply(le),He)).next(He=>c.Un.removeMatchingKeysForTargetId(le,te.targetId).next(()=>c.Un.addMatchingKeys(le,w,te.targetId)).next(()=>c.Us.Ts(le,He)).next(()=>He)))}),om.apply(this,arguments)}function y_(n,e){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,we.Z)(function*(n,e,t=Zi()){const s=yield Ip(n,Ra(ll(e.bundledQuery))),c=jn(n);return c.persistence.runTransaction("Save named query","readwrite",w=>{const C=ia(e.readTime);if(s.snapshotVersion.compareTo(C)>=0)return c.Kn.saveNamedQuery(w,e);const j=s.withResumeToken(Ps.EMPTY_BYTE_STRING,C);return c.Ms=c.Ms.insert(j.targetId,j),c.Un.updateTargetData(w,j).next(()=>c.Un.removeMatchingKeysForTargetId(w,s.targetId)).next(()=>c.Un.addMatchingKeys(w,t,s.targetId)).next(()=>c.Kn.saveNamedQuery(w,e))})}),Ey.apply(this,arguments)}class am{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,t){return cn.resolve(this.Ws.get(t))}saveBundleMetadata(e,t){var s;return this.Ws.set(t.id,{id:(s=t).id,version:s.version,createTime:ia(s.createTime)}),cn.resolve()}getNamedQuery(e,t){return cn.resolve(this.zs.get(t))}saveNamedQuery(e,t){return this.zs.set(t.name,{name:(s=t).name,query:ll(s.bundledQuery),readTime:ia(s.readTime)}),cn.resolve();var s}}class Iy{constructor(){this.overlays=new ho(hr.comparator),this.Hs=new Map}getOverlay(e,t){return cn.resolve(this.overlays.get(t))}saveOverlays(e,t,s){return s.forEach(c=>{this.Yt(e,t,c)}),cn.resolve()}removeOverlaysForBatchId(e,t,s){const c=this.Hs.get(s);return void 0!==c&&(c.forEach(w=>this.overlays=this.overlays.remove(w)),this.Hs.delete(s)),cn.resolve()}getOverlaysForCollection(e,t,s){const c=new Map,w=t.length+1,C=new hr(t.child("")),j=this.overlays.getIteratorFrom(C);for(;j.hasNext();){const te=j.getNext().value,le=te.getKey();if(!t.isPrefixOf(le.path))break;le.path.length===w&&te.largestBatchId>s&&c.set(te.getKey(),te)}return cn.resolve(c)}getOverlaysForCollectionGroup(e,t,s,c){let w=new ho((le,He)=>le-He);const C=this.overlays.getIterator();for(;C.hasNext();){const le=C.getNext().value;if(le.getKey().getCollectionGroup()===t&&le.largestBatchId>s){let He=w.get(le.largestBatchId);null===He&&(He=new Map,w=w.insert(le.largestBatchId,He)),He.set(le.getKey(),le)}}const j=new Map,te=w.getIterator();for(;te.hasNext()&&(te.getNext().value.forEach((le,He)=>j.set(He,le)),!(j.size>=c)););return cn.resolve(j)}Yt(e,t,s){if(null===s)return;const c=this.overlays.get(s.key);null!==c&&this.Hs.get(c.largestBatchId).delete(s.key),this.overlays=this.overlays.insert(s.key,new Fu(t,s));let w=this.Hs.get(t);void 0===w&&(w=new Set,this.Hs.set(t,w)),w.add(s.key)}}class Ap{constructor(){this.Js=new _s(ba.Ys),this.Xs=new _s(ba.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,t){const s=new ba(e,t);this.Js=this.Js.add(s),this.Xs=this.Xs.add(s)}ti(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ei(new ba(e,t))}ni(e,t){e.forEach(s=>this.removeReference(s,t))}si(e){const t=new hr(new Ni([])),s=new ba(t,e),c=new ba(t,e+1),w=[];return this.Xs.forEachInRange([s,c],C=>{this.ei(C),w.push(C.key)}),w}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const t=new hr(new Ni([])),s=new ba(t,e),c=new ba(t,e+1);let w=Zi();return this.Xs.forEachInRange([s,c],C=>{w=w.add(C.key)}),w}containsKey(e){const t=new ba(e,0),s=this.Js.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class ba{constructor(e,t){this.key=e,this.oi=t}static Ys(e,t){return hr.comparator(e.key,t.key)||yi(e.oi,t.oi)}static Zs(e,t){return yi(e.oi,t.oi)||hr.comparator(e.key,t.key)}}class v_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.gs=[],this.ci=1,this.ui=new _s(ba.Ys)}checkEmpty(e){return cn.resolve(0===this.gs.length)}addMutationBatch(e,t,s,c){const w=this.ci;this.ci++;const C=new yd(w,t,s,c);this.gs.push(C);for(const j of c)this.ui=this.ui.add(new ba(j.key,w)),this.indexManager.addToCollectionParentIndex(e,j.key.path.popLast());return cn.resolve(C)}lookupMutationBatch(e,t){return cn.resolve(this.ai(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.hi(t+1),w=c<0?0:c;return cn.resolve(this.gs.length>w?this.gs[w]:null)}getHighestUnacknowledgedBatchId(){return cn.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return cn.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new ba(t,0),c=new ba(t,Number.POSITIVE_INFINITY),w=[];return this.ui.forEachInRange([s,c],C=>{const j=this.ai(C.oi);w.push(j)}),cn.resolve(w)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new _s(yi);return t.forEach(c=>{const w=new ba(c,0),C=new ba(c,Number.POSITIVE_INFINITY);this.ui.forEachInRange([w,C],j=>{s=s.add(j.oi)})}),cn.resolve(this.li(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1;let w=s;hr.isDocumentKey(w)||(w=w.child(""));const C=new ba(new hr(w),0);let j=new _s(yi);return this.ui.forEachWhile(te=>{const le=te.key.path;return!!s.isPrefixOf(le)&&(le.length===c&&(j=j.add(te.oi)),!0)},C),cn.resolve(this.li(j))}li(e){const t=[];return e.forEach(s=>{const c=this.ai(s);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){Hn(0===this.fi(t.batchId,"removed")),this.gs.shift();let s=this.ui;return cn.forEach(t.mutations,c=>{const w=new ba(c.key,t.batchId);return s=s.delete(w),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.ui=s})}Qe(e){}containsKey(e,t){const s=new ba(t,0),c=this.ui.firstAfterOrEqual(s);return cn.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return cn.resolve()}fi(e,t){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}class cm{constructor(e){this.di=e,this.docs=new ho(hr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,c=this.docs.get(s),w=c?c.size:0,C=this.di(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:C}),this.size+=C-w,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return cn.resolve(s?s.document.mutableCopy():ls.newInvalidDocument(t))}getEntries(e,t){let s=ya();return t.forEach(c=>{const w=this.docs.get(c);s=s.insert(c,w?w.document.mutableCopy():ls.newInvalidDocument(c))}),cn.resolve(s)}getAll(e,t,s){let c=ya();const w=new hr(t.child("")),C=this.docs.getIteratorFrom(w);for(;C.hasNext();){const{key:j,value:{document:te}}=C.getNext();if(!t.isPrefixOf(j.path))break;j.path.length>t.length+1||te.readTime.compareTo(s)<=0||(c=c.insert(te.key,te.mutableCopy()))}return cn.resolve(c)}_i(e,t){return cn.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Sy(this)}getSize(e){return cn.resolve(this.size)}}class Sy extends dc{constructor(e){super(),this.Tn=e}applyChanges(e){const t=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?t.push(this.Tn.addEntry(e,c)):this.Tn.removeEntry(s)}),cn.waitFor(t)}getFromCache(e,t){return this.Tn.getEntry(e,t)}getAllFromCache(e,t){return this.Tn.getEntries(e,t)}}class Ay{constructor(e){this.persistence=e,this.wi=new Fo(t=>el(t),Sl),this.lastRemoteSnapshotVersion=Lr.min(),this.highestTargetId=0,this.mi=0,this.gi=new Ap,this.targetCount=0,this.yi=x.He()}forEachTarget(e,t){return this.wi.forEach((s,c)=>t(c)),cn.resolve()}getLastRemoteSnapshotVersion(e){return cn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return cn.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),cn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.mi&&(this.mi=t),cn.resolve()}Ze(e){this.wi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.yi=new x(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,t){return this.Ze(t),this.targetCount+=1,cn.resolve()}updateTargetData(e,t){return this.Ze(t),cn.resolve()}removeTargetData(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,cn.resolve()}removeTargets(e,t,s){let c=0;const w=[];return this.wi.forEach((C,j)=>{j.sequenceNumber<=t&&null===s.get(j.targetId)&&(this.wi.delete(C),w.push(this.removeMatchingKeysForTargetId(e,j.targetId)),c++)}),cn.waitFor(w).next(()=>c)}getTargetCount(e){return cn.resolve(this.targetCount)}getTargetData(e,t){const s=this.wi.get(t)||null;return cn.resolve(s)}addMatchingKeys(e,t,s){return this.gi.ti(t,s),cn.resolve()}removeMatchingKeys(e,t,s){this.gi.ni(t,s);const c=this.persistence.referenceDelegate,w=[];return c&&t.forEach(C=>{w.push(c.markPotentiallyOrphaned(e,C))}),cn.waitFor(w)}removeMatchingKeysForTargetId(e,t){return this.gi.si(t),cn.resolve()}getMatchingKeysForTargetId(e,t){const s=this.gi.ri(t);return cn.resolve(s)}containsKey(e,t){return cn.resolve(this.gi.containsKey(t))}}class Cy{constructor(e,t){this.pi={},this.overlays={},this.Nn=new Wa(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new Ay(this),this.indexManager=new wt,this.qn=new cm(s=>this.referenceDelegate.Ii(s)),this.O=new ef(t),this.Kn=new am(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Iy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.pi[e.toKey()];return s||(s=new v_(t,this.referenceDelegate),this.pi[e.toKey()]=s),s}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,t,s){xt("MemoryPersistence","Starting transaction:",e);const c=new __(this.Nn.next());return this.referenceDelegate.Ei(),s(c).next(w=>this.referenceDelegate.Ti(c).next(()=>w)).toPromise().then(w=>(c.raiseOnCommittedEvent(),w))}Ai(e,t){return cn.or(Object.values(this.pi).map(s=>()=>s.containsKey(e,t)))}}class __ extends Eh{constructor(e){super(),this.currentSequenceNumber=e}}class Cp{constructor(e){this.persistence=e,this.Ri=new Ap,this.Pi=null}static bi(e){return new Cp(e)}get vi(){if(this.Pi)return this.Pi;throw An()}addReference(e,t,s){return this.Ri.addReference(s,t),this.vi.delete(s.toString()),cn.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.vi.add(s.toString()),cn.resolve()}markPotentiallyOrphaned(e,t){return this.vi.add(t.toString()),cn.resolve()}removeTarget(e,t){this.Ri.si(t.targetId).forEach(c=>this.vi.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(w=>this.vi.add(w.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Pi=new Set}Ti(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cn.forEach(this.vi,s=>{const c=hr.fromPath(s);return this.Vi(e,c).next(w=>{w||t.removeEntry(c,Lr.min())})}).next(()=>(this.Pi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Vi(e,t).next(s=>{s?this.vi.delete(t.toString()):this.vi.add(t.toString())})}Ii(e){return 0}Vi(e,t){return cn.or([()=>cn.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}function Ty(n,e){return`firestore_clients_${n}_${e}`}function Dy(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function og(n,e){return`firestore_targets_${n}_${e}`}class Sh{constructor(e,t,s,c){this.user=e,this.batchId=t,this.state=s,this.error=c}static Si(e,t,s){const c=JSON.parse(s);let w,C="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return C&&c.error&&(C="string"==typeof c.error.message&&"string"==typeof c.error.code,C&&(w=new _n(c.error.code,c.error.message))),C?new Sh(e,t,c.state,w):(Pn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kf{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Si(e,t){const s=JSON.parse(t);let c,w="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return w&&s.error&&(w="string"==typeof s.error.message&&"string"==typeof s.error.code,w&&(c=new _n(s.error.code,s.error.message))),w?new Kf(e,s.state,c):(Pn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ag{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Si(e,t){const s=JSON.parse(t);let c="object"==typeof s&&s.activeTargetIds instanceof Array,w=ad();for(let C=0;c&&C<s.activeTargetIds.length;++C)c=na(s.activeTargetIds[C]),w=w.add(s.activeTargetIds[C]);return c?new ag(e,w):(Pn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class um{constructor(e,t){this.clientId=e,this.onlineState=t}static Si(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new um(t.clientId,t.onlineState):(Pn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class sf{constructor(){this.activeTargetIds=ad()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lm{constructor(e,t,s,c,w){this.window=e,this.Sn=t,this.persistenceKey=s,this.xi=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new ho(yi),this.started=!1,this.$i=[];const C=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=w,this.Fi=Ty(this.persistenceKey,this.xi),this.Bi=`firestore_sequence_number_${this.persistenceKey}`,this.Mi=this.Mi.insert(this.xi,new sf),this.Li=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.Ki=`firestore_online_state_${this.persistenceKey}`,this.Gi=function(j){return`firestore_bundle_loaded_${j}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.ds();for(const c of t){if(c===e.xi)continue;const w=e.getItem(Ty(e.persistenceKey,c));if(w){const C=ag.Si(c,w);C&&(e.Mi=e.Mi.insert(C.clientId,C))}}e.ji();const s=e.storage.getItem(e.Ki);if(s){const c=e.Qi(s);c&&e.Wi(c)}for(const c of e.$i)e.Oi(c);e.$i=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let t=!1;return this.Mi.forEach((s,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,t,s){this.Hi(e,t,s),this.Ji(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(og(this.persistenceKey,e));if(s){const c=Kf.Si(e,s);c&&(t=c.state)}}return this.Yi.Ci(e),this.ji(),t}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(og(this.persistenceKey,e))}updateQueryState(e,t,s){this.Xi(e,t,s)}handleUserChange(e,t,s){t.forEach(c=>{this.Ji(c)}),this.currentUser=e,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return xt("SharedClientState","READ",e,t),t}setItem(e,t){xt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){xt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){var t=this;const s=e;if(s.storageArea===this.storage){if(xt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Fi)return void Pn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==s.key)if(t.Li.test(s.key)){if(null==s.newValue){const c=t.er(s.key);return t.nr(c,null)}{const c=t.sr(s.key,s.newValue);if(c)return t.nr(c.clientId,c)}}else if(t.Ui.test(s.key)){if(null!==s.newValue){const c=t.ir(s.key,s.newValue);if(c)return t.rr(c)}}else if(t.qi.test(s.key)){if(null!==s.newValue){const c=t.cr(s.key,s.newValue);if(c)return t.ur(c)}}else if(s.key===t.Ki){if(null!==s.newValue){const c=t.Qi(s.newValue);if(c)return t.Wi(c)}}else if(s.key===t.Bi){const c=function(w){let C=Wa.A;if(null!=w)try{const j=JSON.parse(w);Hn("number"==typeof j),C=j}catch(j){Pn("SharedClientState","Failed to read sequence number from WebStorage",j)}return C}(s.newValue);c!==Wa.A&&t.sequenceNumberHandler(c)}else if(s.key===t.Gi)return t.syncEngine.ar()}else t.$i.push(s)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,t,s){const c=new Sh(this.currentUser,e,t,s),w=Dy(this.persistenceKey,this.currentUser,e);this.setItem(w,c.Di())}Ji(e){const t=Dy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,t,s){const c=og(this.persistenceKey,e),w=new Kf(e,t,s);this.setItem(c,w.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const t=this.Li.exec(e);return t?t[1]:null}sr(e,t){const s=this.er(e);return ag.Si(s,t)}ir(e,t){const s=this.Ui.exec(e),c=Number(s[1]);return Sh.Si(new z(void 0!==s[2]?s[2]:null),c,t)}cr(e,t){const s=this.qi.exec(e),c=Number(s[1]);return Kf.Si(c,t)}Qi(e){return um.Si(e)}rr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.hr(e.batchId,e.state,e.error);xt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,t){const s=t?this.Mi.insert(e,t):this.Mi.remove(e),c=this.zi(this.Mi),w=this.zi(s),C=[],j=[];return w.forEach(te=>{c.has(te)||C.push(te)}),c.forEach(te=>{w.has(te)||j.push(te)}),this.syncEngine.dr(C,j).then(()=>{this.Mi=s})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let t=ad();return e.forEach((s,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class xy{constructor(){this._r=new sf,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,t,s){this.wr[e]=t}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new sf,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class b_{mr(e){}shutdown(){}}class Oy{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class dm{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class Ry extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,t,s,c,w){const C=this.$r(e,t);xt("RestConnection","Sending: ",C,s);const j={};return this.Fr(j,c,w),this.Br(e,C,j,s).then(te=>(xt("RestConnection","Received: ",te),te),te=>{throw Dr("RestConnection",`${e} failed with error: `,te,"url: ",C,"request:",s),te})}Lr(e,t,s,c,w){return this.Mr(e,t,s,c,w)}Fr(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+G,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,w)=>e[w]=c),s&&s.headers.forEach((c,w)=>e[w]=c)}$r(e,t){return`${this.kr}/v1/${t}:${wd[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,t,s,c){return new Promise((w,C)=>{const j=new A;j.listenOnce($a.COMPLETE,()=>{try{switch(j.getLastErrorCode()){case _l.NO_ERROR:const le=j.getResponseJson();xt("Connection","XHR received:",JSON.stringify(le)),w(le);break;case _l.TIMEOUT:xt("Connection",'RPC "'+e+'" timed out'),C(new _n($t.DEADLINE_EXCEEDED,"Request time out"));break;case _l.HTTP_ERROR:const He=j.getStatus();if(xt("Connection",'RPC "'+e+'" failed with status:',He,"response text:",j.getResponseText()),He>0){const Ge=j.getResponseJson().error;if(Ge&&Ge.status&&Ge.message){const Wt=function(bn){const Ln=bn.toLowerCase().replace(/_/g,"-");return Object.values($t).indexOf(Ln)>=0?Ln:$t.UNKNOWN}(Ge.status);C(new _n(Wt,Ge.message))}else C(new _n($t.UNKNOWN,"Server responded with status "+j.getStatus()))}else C(new _n($t.UNAVAILABLE,"Connection failed."));break;default:An()}}finally{xt("Connection",'RPC "'+e+'" completed.')}});const te=JSON.stringify(c);j.send(t,"POST",te,s,15)})}Ur(e,t,s){const c=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],w=lu(),C=Rc(),j={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(j.xmlHttpFactory=new jd({})),this.Fr(j.initMessageHeaders,t,s),function zt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}()||function It(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()||function At(){return kt().indexOf("Electron/")>=0}()||function Ut(){const n=kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()||function an(){return kt().indexOf("MSAppHost/")>=0}()||function In(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||(j.httpHeadersOverwriteParam="$httpHeaders");const te=c.join("");xt("Connection","Creating WebChannel: "+te,j);const le=w.createWebChannel(te,j);let He=!1,Ge=!1;const Wt=new dm({Ar:Ln=>{Ge?xt("Connection","Not sending because WebChannel is closed:",Ln):(He||(xt("Connection","Opening WebChannel transport."),le.open(),He=!0),xt("Connection","WebChannel sending:",Ln),le.send(Ln))},Rr:()=>le.close()}),bn=(Ln,jr,Ai)=>{Ln.listen(jr,aa=>{try{Ai(aa)}catch(Cc){setTimeout(()=>{throw Cc},0)}})};return bn(le,R.EventType.OPEN,()=>{Ge||xt("Connection","WebChannel transport opened.")}),bn(le,R.EventType.CLOSE,()=>{Ge||(Ge=!0,xt("Connection","WebChannel transport closed"),Wt.Cr())}),bn(le,R.EventType.ERROR,Ln=>{Ge||(Ge=!0,Dr("Connection","WebChannel transport errored:",Ln),Wt.Cr(new _n($t.UNAVAILABLE,"The operation could not be completed")))}),bn(le,R.EventType.MESSAGE,Ln=>{var jr;if(!Ge){const Ai=Ln.data[0];Hn(!!Ai);const aa=Ai,Cc=aa.error||(null===(jr=aa[0])||void 0===jr?void 0:jr.error);if(Cc){xt("Connection","WebChannel received error:",Cc);const Rd=Cc.status;let sh=function(vy){const tm=to[vy];if(void 0!==tm)return od(tm)}(Rd),oh=Cc.message;void 0===sh&&(sh=$t.INTERNAL,oh="Unknown error status: "+Rd+" with message "+Cc.message),Ge=!0,Wt.Cr(new _n(sh,oh)),le.close()}else xt("Connection","WebChannel received:",Ai),Wt.Nr(Ai)}}),bn(C,vf.STAT_EVENT,Ln=>{Ln.stat===Ao.PROXY?xt("Connection","Detected buffering proxy"):Ln.stat===Ao.NOPROXY&&xt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Wt.Dr()},0),Wt}}function hm(){return"undefined"!=typeof window?window:null}function Tp(){return"undefined"!=typeof document?document:null}function Qf(n){return new ud(n,!0)}class fm{constructor(e,t,s=1e3,c=1.5,w=6e4){this.Sn=e,this.timerId=t,this.qr=s,this.Kr=c,this.Gr=w,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const t=Math.floor(this.jr+this.Jr()),s=Math.max(0,Date.now()-this.Wr),c=Math.max(0,t-s);c>0&&xt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.jr} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,c,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class My{constructor(e,t,s,c,w,C,j,te){this.Sn=e,this.Xr=s,this.Zr=c,this.eo=w,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=j,this.listener=te,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new fm(e,t)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,we.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,we.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,t){var s=this;return(0,we.Z)(function*(){s._o(),s.wo(),s.ro.cancel(),s.no++,4!==e?s.ro.reset():t&&t.code===$t.RESOURCE_EXHAUSTED?(Pn(t.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),s.ro.zr()):t&&t.code===$t.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.mo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.vr(t)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),t=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.no===t&&this.po(s,c)},s=>{e(()=>{const c=new _n($t.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Io(c)})})}po(e,t){const s=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr(()=>{s(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(c=>{s(()=>this.Io(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}uo(){var e=this;this.state=5,this.ro.Hr((0,we.Z)(function*(){e.state=0,e.start()}))}Io(e){return xt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return t=>{this.Sn.enqueueAndForget(()=>this.no===e?t():(xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w_ extends My{constructor(e,t,s,c,w,C){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,c,C),this.O=w}Eo(e,t){return this.eo.Ur("Listen",e,t)}onMessage(e){this.ro.reset();const t=function $f(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(te=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===te?1:"REMOVE"===te?2:"CURRENT"===te?3:"RESET"===te?4:An(),c=e.targetChange.targetIds||[],w=function(te,le){return te.N?(Hn(void 0===le||"string"==typeof le),Ps.fromBase64String(le||"")):(Hn(void 0===le||le instanceof Uint8Array),Ps.fromUint8Array(le||new Uint8Array))}(n,e.targetChange.resumeToken),C=e.targetChange.cause,j=C&&function(te){const le=void 0===te.code?$t.UNKNOWN:od(te.code);return new _n(le,te.message||"")}(C);t=new Hh(s,c,w,j||null)}else if("documentChange"in e){const s=e.documentChange,c=Pc(n,s.document.name),w=ia(s.document.updateTime),C=new ra({mapValue:{fields:s.document.fields}}),j=ls.newFoundDocument(c,w,C);t=new vu(s.targetIds||[],s.removedTargetIds||[],j.key,j)}else if("documentDelete"in e){const s=e.documentDelete,c=Pc(n,s.document),w=s.readTime?ia(s.readTime):Lr.min(),C=ls.newNoDocument(c,w);t=new vu([],s.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const s=e.documentRemove,c=Pc(n,s.document);t=new vu([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return An();{const s=e.filter,w=new il(s.count||0);t=new Tf(s.targetId,w)}}var te;return t}(this.O,e),s=function(c){if(!("targetChange"in c))return Lr.min();const w=c.targetChange;return w.targetIds&&w.targetIds.length?Lr.min():w.readTime?ia(w.readTime):Lr.min()}(e);return this.listener.To(t,s)}Ao(e){const t={};t.database=al(this.O),t.addTarget=function(c,w){let C;const j=w.target;return C=tl(j)?{documents:ki(c,j)}:{query:wp(c,j)},C.targetId=w.targetId,w.resumeToken.approximateByteSize()>0?C.resumeToken=yh(c,w.resumeToken):w.snapshotVersion.compareTo(Lr.min())>0&&(C.readTime=Pl(c,w.snapshotVersion.toTimestamp())),C}(this.O,e);const s=function Wf(n,e){const t=function(s,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return An()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.fo(t)}Ro(e){const t={};t.database=al(this.O),t.removeTarget=e,this.fo(t)}}class E_ extends My{constructor(e,t,s,c,w,C){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,c,C),this.O=w,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,t){return this.eo.Ur("Write",e,t)}onMessage(e){if(Hn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const t=function va(n,e){return n&&n.length>0?(Hn(void 0!==e),n.map(t=>function(s,c){let w=ia(s.updateTime?s.updateTime:c);return w.isEqual(Lr.min())&&(w=ia(c)),new If(w,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=ia(e.commitTime);return this.listener.Vo(s,t)}return Hn(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=al(this.O),this.fo(e)}vo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>vh(this.O,s))};this.fo(t)}}class Py extends class{}{constructor(e,t,s,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.eo=s,this.O=c,this.Co=!1}No(){if(this.Co)throw new _n($t.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,t,s){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,w])=>this.eo.Mr(e,t,s,c,w)).catch(c=>{throw"FirebaseError"===c.name?(c.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _n($t.UNKNOWN,c.toString())})}Lr(e,t,s){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,w])=>this.eo.Lr(e,t,s,c,w)).catch(c=>{throw"FirebaseError"===c.name?(c.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _n($t.UNKNOWN,c.toString())})}terminate(){this.Co=!0}}class Ab{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(Pn(t),this.Oo=!1):xt("OnlineStateTracker",t)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class Ny{constructor(e,t,s,c,w){var C=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=w,this.jo.mr(j=>{s.enqueueAndForget((0,we.Z)(function*(){var te;Of(C)&&(xt("RemoteStore","Restarting streams for network reachability change."),yield(te=(0,we.Z)(function*(le){const He=jn(le);He.Ko.add(4),yield xp(He),He.Qo.set("Unknown"),He.Ko.delete(4),yield Dp(He)}),function(le){return te.apply(this,arguments)})(C))}))}),this.Qo=new Ab(s,c)}}function Dp(n){return pm.apply(this,arguments)}function pm(){return pm=(0,we.Z)(function*(n){if(Of(n))for(const e of n.Go)yield e(!0)}),pm.apply(this,arguments)}function xp(n){return ky.apply(this,arguments)}function ky(){return ky=(0,we.Z)(function*(n){for(const e of n.Go)yield e(!1)}),ky.apply(this,arguments)}function Yf(n,e){const t=jn(n);t.qo.has(e.targetId)||(t.qo.set(e.targetId,e),fl(t)?Fy(t):Bc(t).co()&&cg(t,e))}function Op(n,e){const t=jn(n),s=Bc(t);t.qo.delete(e),s.co()&&gm(t,e),0===t.qo.size&&(s.co()?s.ho():Of(t)&&t.Qo.set("Unknown"))}function cg(n,e){n.Wo.Z(e.targetId),Bc(n).Ao(e)}function gm(n,e){n.Wo.Z(e),Bc(n).Ro(e)}function Fy(n){n.Wo=new mh({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qo.get(e)||null}),Bc(n).start(),n.Qo.Mo()}function fl(n){return Of(n)&&!Bc(n).oo()&&n.qo.size>0}function Of(n){return 0===jn(n).Ko.size}function I_(n){n.Wo=void 0}function Ly(n){return ug.apply(this,arguments)}function ug(){return ug=(0,we.Z)(function*(n){n.qo.forEach((e,t)=>{cg(n,e)})}),ug.apply(this,arguments)}function Uy(n,e){return mm.apply(this,arguments)}function mm(){return mm=(0,we.Z)(function*(n,e){I_(n),fl(n)?(n.Qo.Bo(e),Fy(n)):n.Qo.set("Unknown")}),mm.apply(this,arguments)}function Cb(n,e,t){return lg.apply(this,arguments)}function lg(){return lg=(0,we.Z)(function*(n,e,t){if(n.Qo.set("Online"),e instanceof Hh&&2===e.state&&e.cause)try{yield(s=(0,we.Z)(function*(c,w){const C=w.cause;for(const j of w.targetIds)c.qo.has(j)&&(yield c.remoteSyncer.rejectListen(j,C),c.qo.delete(j),c.Wo.removeTarget(j))}),function(c,w){return s.apply(this,arguments)})(n,e)}catch(s){xt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Jf(n,s)}else if(e instanceof vu?n.Wo.ct(e):e instanceof Tf?n.Wo._t(e):n.Wo.ht(e),!t.isEqual(Lr.min()))try{const s=yield qf(n.localStore);t.compareTo(s)>=0&&(yield function(c,w){const C=c.Wo.yt(w);return C.targetChanges.forEach((j,te)=>{if(j.resumeToken.approximateByteSize()>0){const le=c.qo.get(te);le&&c.qo.set(te,le.withResumeToken(j.resumeToken,w))}}),C.targetMismatches.forEach(j=>{const te=c.qo.get(j);if(!te)return;c.qo.set(j,te.withResumeToken(Ps.EMPTY_BYTE_STRING,te.snapshotVersion)),gm(c,j);const le=new wu(te.target,j,1,te.sequenceNumber);cg(c,le)}),c.remoteSyncer.applyRemoteEvent(C)}(n,t))}catch(s){xt("RemoteStore","Failed to raise snapshot:",s),yield Jf(n,s)}var s}),lg.apply(this,arguments)}function Jf(n,e,t){return ym.apply(this,arguments)}function ym(){return ym=(0,we.Z)(function*(n,e,t){if(!Fc(e))throw e;n.Ko.add(1),yield xp(n),n.Qo.set("Offline"),t||(t=()=>qf(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){xt("RemoteStore","Retrying IndexedDB access"),yield t(),n.Ko.delete(1),yield Dp(n)}))}),ym.apply(this,arguments)}function dg(n,e){return e().catch(t=>Jf(n,t,e))}function Xf(n){return vm.apply(this,arguments)}function vm(){return vm=(0,we.Z)(function*(n){const e=jn(n),t=nh(e);let s=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;S_(e);)try{const c=yield rm(e.localStore,s);if(null===c){0===e.Uo.length&&t.ho();break}s=c.batchId,A_(e,c)}catch(c){yield Jf(e,c)}jy(e)&&By(e)}),vm.apply(this,arguments)}function S_(n){return Of(n)&&n.Uo.length<10}function A_(n,e){n.Uo.push(e);const t=nh(n);t.co()&&t.bo&&t.vo(e.mutations)}function jy(n){return Of(n)&&!nh(n).oo()&&n.Uo.length>0}function By(n){nh(n).start()}function hg(n){return af.apply(this,arguments)}function af(){return af=(0,we.Z)(function*(n){nh(n).Do()}),af.apply(this,arguments)}function C_(n){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,we.Z)(function*(n){const e=nh(n);for(const t of n.Uo)e.vo(t.mutations)}),Rf.apply(this,arguments)}function T_(n,e,t){return _m.apply(this,arguments)}function _m(){return _m=(0,we.Z)(function*(n,e,t){const s=n.Uo.shift(),c=vd.from(s,e,t);yield dg(n,()=>n.remoteSyncer.applySuccessfulWrite(c)),yield Xf(n)}),_m.apply(this,arguments)}function bm(n,e){return jl.apply(this,arguments)}function jl(){return jl=(0,we.Z)(function*(n,e){var t;e&&nh(n).bo&&(yield(t=(0,we.Z)(function*(s,c){if(Yd(w=c.code)&&w!==$t.ABORTED){const C=s.Uo.shift();nh(s).ao(),yield dg(s,()=>s.remoteSyncer.rejectFailedWrite(C.batchId,c)),yield Xf(s)}var w}),function(s,c){return t.apply(this,arguments)})(n,e)),jy(n)&&By(n)}),jl.apply(this,arguments)}function ep(n,e){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,we.Z)(function*(n,e){const t=jn(n);t.asyncQueue.verifyOperationInProgress(),xt("RemoteStore","RemoteStore received new credentials");const s=Of(t);t.Ko.add(3),yield xp(t),s&&t.Qo.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ko.delete(3),yield Dp(t)}),Sc.apply(this,arguments)}function Ah(n,e){return tp.apply(this,arguments)}function tp(){return tp=(0,we.Z)(function*(n,e){const t=jn(n);e?(t.Ko.delete(2),yield Dp(t)):e||(t.Ko.add(2),yield xp(t),t.Qo.set("Unknown"))}),tp.apply(this,arguments)}function Bc(n){return n.zo||(n.zo=function(e,t,s){const c=jn(e);return c.No(),new w_(t,c.eo,c.authCredentials,c.appCheckCredentials,c.O,s)}(n.datastore,n.asyncQueue,{Pr:Ly.bind(null,n),vr:Uy.bind(null,n),To:Cb.bind(null,n)}),n.Go.push(function(){var e=(0,we.Z)(function*(t){t?(n.zo.ao(),fl(n)?Fy(n):n.Qo.set("Unknown")):(yield n.zo.stop(),I_(n))});return function(t){return e.apply(this,arguments)}}())),n.zo}function nh(n){return n.Ho||(n.Ho=function(e,t,s){const c=jn(e);return c.No(),new E_(t,c.eo,c.authCredentials,c.appCheckCredentials,c.O,s)}(n.datastore,n.asyncQueue,{Pr:hg.bind(null,n),vr:bm.bind(null,n),So:C_.bind(null,n),Vo:T_.bind(null,n)}),n.Go.push(function(){var e=(0,we.Z)(function*(t){t?(n.Ho.ao(),yield Xf(n)):(yield n.Ho.stop(),n.Uo.length>0&&(xt("RemoteStore",`Stopping write stream with ${n.Uo.length} pending writes`),n.Uo=[]))});return function(t){return e.apply(this,arguments)}}())),n.Ho}class cf{constructor(e,t,s,c,w){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=c,this.removalCallback=w,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(e,t,s,c,w){const C=Date.now()+s,j=new cf(e,t,C,c,w);return j.start(s),j}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _n($t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ed(n,e){if(Pn("AsyncQueue",`${e}: ${n}`),Fc(n))return new _n($t.UNAVAILABLE,`${e}: ${n}`);throw n}class Id{constructor(e){this.comparator=e?(t,s)=>e(t,s)||hr.comparator(t.key,s.key):(t,s)=>hr.comparator(t.key,s.key),this.keyedMap=Vh(),this.sortedSet=new ho(this.comparator)}static emptySet(e){return new Id(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Id)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,w=s.getNext().key;if(!c.isEqual(w))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Id;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Mf{constructor(){this.Jo=new ho(hr.comparator)}track(e){const t=e.doc.key,s=this.Jo.get(t);s?0!==e.type&&3===s.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==s.type?this.Jo=this.Jo.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Jo=this.Jo.remove(t):1===e.type&&2===s.type?this.Jo=this.Jo.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):An():this.Jo=this.Jo.insert(t,e)}Yo(){const e=[];return this.Jo.inorderTraversal((t,s)=>{e.push(s)}),e}}class Sd{constructor(e,t,s,c,w,C,j,te){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=w,this.fromCache=C,this.syncStateChanged=j,this.excludesMetadataChanges=te}static fromInitialDocuments(e,t,s,c){const w=[];return t.forEach(C=>{w.push({type:0,doc:C})}),new Sd(e,t,Id.emptySet(t),w,s,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==s[c].type||!t[c].doc.isEqual(s[c].doc))return!1;return!0}}class np{constructor(){this.Xo=void 0,this.listeners=[]}}class rp{constructor(){this.queries=new Fo(e=>Zd(e),Bi),this.onlineState="Unknown",this.Zo=new Set}}function uf(n,e){return lf.apply(this,arguments)}function lf(){return lf=(0,we.Z)(function*(n,e){const t=jn(n),s=e.query;let c=!1,w=t.queries.get(s);if(w||(c=!0,w=new np),c)try{w.Xo=yield t.onListen(s)}catch(C){const j=Ed(C,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(j)}t.queries.set(s,w),w.listeners.push(e),e.tc(t.onlineState),w.Xo&&e.ec(w.Xo)&&gg(t)}),lf.apply(this,arguments)}function fg(n,e){return pg.apply(this,arguments)}function pg(){return pg=(0,we.Z)(function*(n,e){const t=jn(n),s=e.query;let c=!1;const w=t.queries.get(s);if(w){const C=w.listeners.indexOf(e);C>=0&&(w.listeners.splice(C,1),c=0===w.listeners.length)}if(c)return t.queries.delete(s),t.onUnlisten(s)}),pg.apply(this,arguments)}function Vy(n,e){const t=jn(n);let s=!1;for(const c of e){const C=t.queries.get(c.query);if(C){for(const j of C.listeners)j.ec(c)&&(s=!0);C.Xo=c}}s&&gg(t)}function Hy(n,e,t){const s=jn(n),c=s.queries.get(e);if(c)for(const w of c.listeners)w.onError(t);s.queries.delete(e)}function gg(n){n.Zo.forEach(e=>{e.next()})}class mg{constructor(e,t,s){this.query=e,this.nc=t,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=s||{}}ec(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new Sd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.sc?this.rc(e)&&(this.nc.next(e),t=!0):this.oc(e,this.onlineState)&&(this.cc(e),t=!0),this.ic=e,t}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}oc(e,t){return!e.fromCache||!(this.options.uc&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=Sd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class $y{constructor(e,t){this.payload=e,this.byteLength=t}ac(){return"metadata"in this.payload}}class wm{constructor(e){this.O=e}Gs(e){return Pc(this.O,e)}js(e){return e.metadata.exists?Gh(this.O,e.document,!1):ls.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return ia(e)}}class Wy{constructor(e,t,s){this.hc=e,this.localStore=t,this.O=s,this.queries=[],this.documents=[],this.progress=zy(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}fc(e){const t=new Map,s=new wm(this.O);for(const c of e)if(c.metadata.queries){const w=s.Gs(c.metadata.name);for(const C of c.metadata.queries){const j=(t.get(C)||Zi()).add(w);t.set(C,j)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function sg(n,e,t,s){return om.apply(this,arguments)}(e.localStore,new wm(e.O),e.documents,e.hc.id),s=e.fc(e.documents);for(const c of e.queries)yield y_(e.localStore,c,s.get(c.name));return e.progress.taskState="Success",new Ur(Object.assign({},e.progress),t)})()}}function zy(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Em{constructor(e){this.key=e}}class Zy{constructor(e){this.key=e}}class Im{constructor(e,t){this.query=e,this.dc=t,this._c=null,this.current=!1,this.wc=Zi(),this.mutatedKeys=Zi(),this.mc=bc(e),this.gc=new Id(this.mc)}get yc(){return this.dc}Ic(e,t){const s=t?t.Ec:new Mf,c=t?t.gc:this.gc;let w=t?t.mutatedKeys:this.mutatedKeys,C=c,j=!1;const te=$o(this.query)&&c.size===this.query.limit?c.last():null,le=Du(this.query)&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((He,Ge)=>{const Wt=c.get(He),bn=Ds(this.query,Ge)?Ge:null,Ln=!!Wt&&this.mutatedKeys.has(Wt.key),jr=!!bn&&(bn.hasLocalMutations||this.mutatedKeys.has(bn.key)&&bn.hasCommittedMutations);let Ai=!1;Wt&&bn?Wt.data.isEqual(bn.data)?Ln!==jr&&(s.track({type:3,doc:bn}),Ai=!0):this.Tc(Wt,bn)||(s.track({type:2,doc:bn}),Ai=!0,(te&&this.mc(bn,te)>0||le&&this.mc(bn,le)<0)&&(j=!0)):!Wt&&bn?(s.track({type:0,doc:bn}),Ai=!0):Wt&&!bn&&(s.track({type:1,doc:Wt}),Ai=!0,(te||le)&&(j=!0)),Ai&&(bn?(C=C.add(bn),w=jr?w.add(He):w.delete(He)):(C=C.delete(He),w=w.delete(He)))}),$o(this.query)||Du(this.query))for(;C.size>this.query.limit;){const He=$o(this.query)?C.last():C.first();C=C.delete(He.key),w=w.delete(He.key),s.track({type:1,doc:He})}return{gc:C,Ec:s,ks:j,mutatedKeys:w}}Tc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const c=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const w=e.Ec.Yo();w.sort((le,He)=>function(Ge,Wt){const bn=Ln=>{switch(Ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return An()}};return bn(Ge)-bn(Wt)}(le.type,He.type)||this.mc(le.doc,He.doc)),this.Ac(s);const C=t?this.Rc():[],j=0===this.wc.size&&this.current?1:0,te=j!==this._c;return this._c=j,0!==w.length||te?{snapshot:new Sd(this.query,e.gc,c,w,e.mutatedKeys,0===j,te,!1),Pc:C}:{Pc:C}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new Mf,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(t=>this.dc=this.dc.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.dc=this.dc.delete(t)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=Zi(),this.gc.forEach(s=>{this.bc(s.key)&&(this.wc=this.wc.add(s.key))});const t=[];return e.forEach(s=>{this.wc.has(s)||t.push(new Zy(s))}),this.wc.forEach(s=>{e.has(s)||t.push(new Em(s))}),t}vc(e){this.dc=e.Ks,this.wc=Zi();const t=this.Ic(e.documents);return this.applyChanges(t,!0)}Vc(){return Sd.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class qy{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class D_{constructor(e){this.key=e,this.Sc=!1}}class x_{constructor(e,t,s,c,w,C){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=c,this.currentUser=w,this.maxConcurrentLimboResolutions=C,this.Dc={},this.Cc=new Fo(j=>Zd(j),Bi),this.Nc=new Map,this.xc=new Set,this.kc=new ho(hr.comparator),this.Oc=new Map,this.Mc=new Ap,this.$c={},this.Fc=new Map,this.Bc=x.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function Gy(n,e){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,we.Z)(function*(n,e){const t=tv(n);let s,c;const w=t.Cc.get(e);if(w)s=w.targetId,t.sharedClientState.addLocalQueryTarget(s),c=w.view.Vc();else{const C=yield Ip(t.localStore,Ra(e));t.isPrimaryClient&&Yf(t.remoteStore,C);const j=t.sharedClientState.addLocalQueryTarget(C.targetId);s=C.targetId,c=yield yg(t,e,s,"current"===j)}return c}),Sm.apply(this,arguments)}function yg(n,e,t,s){return Am.apply(this,arguments)}function Am(){return Am=(0,we.Z)(function*(n,e,t,s){n.Uc=(He,Ge,Wt)=>{return(bn=(0,we.Z)(function*(Ln,jr,Ai,aa){let Cc=jr.view.Ic(Ai);Cc.ks&&(Cc=yield Sp(Ln.localStore,jr.query,!1).then(({documents:oh})=>jr.view.Ic(oh,Cc)));const Rd=aa&&aa.targetChanges.get(jr.targetId),sh=jr.view.applyChanges(Cc,Ln.isPrimaryClient,Rd);return Om(Ln,jr.targetId,sh.Pc),sh.snapshot}),function(Ln,jr,Ai,aa){return bn.apply(this,arguments)})(n,He,Ge,Wt);var bn};const c=yield Sp(n.localStore,e,!0),w=new Im(e,c.Ks),C=w.Ic(c.documents),j=cd.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState),te=w.applyChanges(C,n.isPrimaryClient,j);Om(n,t,te.Pc);const le=new qy(e,t,w);return n.Cc.set(e,le),n.Nc.has(t)?n.Nc.get(t).push(e):n.Nc.set(t,[e]),te.snapshot}),Am.apply(this,arguments)}function O_(n,e){return Ky.apply(this,arguments)}function Ky(){return Ky=(0,we.Z)(function*(n,e){const t=jn(n),s=t.Cc.get(e),c=t.Nc.get(s.targetId);if(c.length>1)return t.Nc.set(s.targetId,c.filter(w=>!Bi(w,e))),void t.Cc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Gf(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Op(t.remoteStore,s.targetId),Pf(t,s.targetId)}).catch(gn))):(Pf(t,s.targetId),yield Gf(t.localStore,s.targetId,!0))}),Ky.apply(this,arguments)}function Rp(){return Rp=(0,we.Z)(function*(n,e,t){const s=km(n);try{const c=yield function(w,C){const j=jn(w),te=Vs.now(),le=C.reduce((Ge,Wt)=>Ge.add(Wt.key),Zi());let He;return j.persistence.runTransaction("Locally write mutations","readwrite",Ge=>j.Us.Es(Ge,le).next(Wt=>{He=Wt;const bn=[];for(const Ln of C){const jr=qa(Ln,He.get(Ln.key));null!=jr&&bn.push(new Pu(Ln.key,jr,lh(jr.value.mapValue),Oo.exists(!0)))}return j.gs.addMutationBatch(Ge,te,bn,C)})).then(Ge=>(Ge.applyToLocalDocumentSet(He),{batchId:Ge.batchId,changes:He}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(w,C,j){let te=w.$c[w.currentUser.toKey()];te||(te=new ho(yi)),te=te.insert(C,j),w.$c[w.currentUser.toKey()]=te}(s,c.batchId,t),yield Ch(s,c.changes),yield Xf(s.remoteStore)}catch(c){const w=Ed(c,"Failed to persist write");t.reject(w)}}),Rp.apply(this,arguments)}function vg(n,e){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,we.Z)(function*(n,e){const t=jn(n);try{const s=yield m_(t.localStore,e);e.targetChanges.forEach((c,w)=>{const C=t.Oc.get(w);C&&(Hn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?C.Sc=!0:c.modifiedDocuments.size>0?Hn(C.Sc):c.removedDocuments.size>0&&(Hn(C.Sc),C.Sc=!1))}),yield Ch(t,s,e)}catch(s){yield gn(s)}}),Cm.apply(this,arguments)}function M_(n,e,t){const s=jn(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const c=[];s.Cc.forEach((w,C)=>{const j=C.view.tc(e);j.snapshot&&c.push(j.snapshot)}),function(w,C){const j=jn(w);j.onlineState=C;let te=!1;j.queries.forEach((le,He)=>{for(const Ge of He.listeners)Ge.tc(C)&&(te=!0)}),te&&gg(j)}(s.eventManager,e),c.length&&s.Dc.To(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Tb(n,e,t){return Qy.apply(this,arguments)}function Qy(){return Qy=(0,we.Z)(function*(n,e,t){const s=jn(n);s.sharedClientState.updateQueryState(e,"rejected",t);const c=s.Oc.get(e),w=c&&c.key;if(w){let C=new ho(hr.comparator);C=C.insert(w,ls.newNoDocument(w,Lr.min()));const j=Zi().add(w),te=new Mc(Lr.min(),new Map,new _s(yi),C,j);yield vg(s,te),s.kc=s.kc.remove(w),s.Oc.delete(e),Rm(s)}else yield Gf(s.localStore,e,!1).then(()=>Pf(s,e,t)).catch(gn)}),Qy.apply(this,arguments)}function P_(n,e){return _g.apply(this,arguments)}function _g(){return _g=(0,we.Z)(function*(n,e){const t=jn(n),s=e.batch.batchId;try{const c=yield th(t.localStore,e);xm(t,s,null),bg(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Ch(t,c)}catch(c){yield gn(c)}}),_g.apply(this,arguments)}function Db(n,e,t){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,we.Z)(function*(n,e,t){const s=jn(n);try{const c=yield function(w,C){const j=jn(w);return j.persistence.runTransaction("Reject batch","readwrite-primary",te=>{let le;return j.gs.lookupMutationBatch(te,C).next(He=>(Hn(null!==He),le=He.keys(),j.gs.removeMutationBatch(te,He))).next(()=>j.gs.performConsistencyCheck(te)).next(()=>j.Us.Es(te,le))})}(s.localStore,e);xm(s,e,t),bg(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Ch(s,c)}catch(c){yield gn(c)}}),Tm.apply(this,arguments)}function Dm(){return Dm=(0,we.Z)(function*(n,e){const t=jn(n);Of(t.remoteStore)||xt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(w){const C=jn(w);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",j=>C.gs.getHighestUnacknowledgedBatchId(j))}(t.localStore);if(-1===s)return void e.resolve();const c=t.Fc.get(s)||[];c.push(e),t.Fc.set(s,c)}catch(s){const c=Ed(s,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),Dm.apply(this,arguments)}function bg(n,e){(n.Fc.get(e)||[]).forEach(t=>{t.resolve()}),n.Fc.delete(e)}function xm(n,e,t){const s=jn(n);let c=s.$c[s.currentUser.toKey()];if(c){const w=c.get(e);w&&(t?w.reject(t):w.resolve(),c=c.remove(e)),s.$c[s.currentUser.toKey()]=c}}function Pf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Nc.get(e))n.Cc.delete(s),t&&n.Dc.qc(s,t);n.Nc.delete(e),n.isPrimaryClient&&n.Mc.si(e).forEach(s=>{n.Mc.containsKey(s)||Mp(n,s)})}function Mp(n,e){n.xc.delete(e.path.canonicalString());const t=n.kc.get(e);null!==t&&(Op(n.remoteStore,t),n.kc=n.kc.remove(e),n.Oc.delete(t),Rm(n))}function Om(n,e,t){for(const s of t)s instanceof Em?(n.Mc.addReference(s.key,e),Yy(n,s)):s instanceof Zy?(xt("SyncEngine","Document no longer in limbo: "+s.key),n.Mc.removeReference(s.key,e),n.Mc.containsKey(s.key)||Mp(n,s.key)):An()}function Yy(n,e){const t=e.key,s=t.path.canonicalString();n.kc.get(t)||n.xc.has(s)||(xt("SyncEngine","New document in limbo: "+t),n.xc.add(s),Rm(n))}function Rm(n){for(;n.xc.size>0&&n.kc.size<n.maxConcurrentLimboResolutions;){const e=n.xc.values().next().value;n.xc.delete(e);const t=new hr(Ni.fromString(e)),s=n.Bc.next();n.Oc.set(s,new D_(t)),n.kc=n.kc.insert(t,s),Yf(n.remoteStore,new wu(Ra(Oa(t.path)),s,2,Wa.A))}}function Ch(n,e,t){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,we.Z)(function*(n,e,t){const s=jn(n),c=[],w=[],C=[];var j;s.Cc.isEmpty()||(s.Cc.forEach((j,te)=>{C.push(s.Uc(te,e,t).then(le=>{if(le){s.isPrimaryClient&&s.sharedClientState.updateQueryState(te.targetId,le.fromCache?"not-current":"current"),c.push(le);const He=ei.Ss(te.targetId,le);w.push(He)}}))}),yield Promise.all(C),s.Dc.To(c),yield(j=(0,we.Z)(function*(te,le){const He=jn(te);try{yield He.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ge=>cn.forEach(le,Wt=>cn.forEach(Wt.vs,bn=>He.persistence.referenceDelegate.addReference(Ge,Wt.targetId,bn)).next(()=>cn.forEach(Wt.Vs,bn=>He.persistence.referenceDelegate.removeReference(Ge,Wt.targetId,bn)))))}catch(Ge){if(!Fc(Ge))throw Ge;xt("LocalStore","Failed to update sequence numbers: "+Ge)}for(const Ge of le){const Wt=Ge.targetId;if(!Ge.fromCache){const bn=He.Ms.get(Wt),jr=bn.withLastLimboFreeSnapshotVersion(bn.snapshotVersion);He.Ms=He.Ms.insert(Wt,jr)}}}),function(te,le){return j.apply(this,arguments)})(s.localStore,w))}),Mm.apply(this,arguments)}function N_(n,e){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,we.Z)(function*(n,e){const t=jn(n);if(!t.currentUser.isEqual(e)){xt("SyncEngine","User change. New user:",e.toKey());const s=yield rf(t.localStore,e);t.currentUser=e,(c=t).Fc.forEach(C=>{C.forEach(j=>{j.reject(new _n($t.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Fc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ch(t,s.qs)}var c}),Pm.apply(this,arguments)}function Jy(n,e){const t=jn(n),s=t.Oc.get(e);if(s&&s.Sc)return Zi().add(s.key);{let c=Zi();const w=t.Nc.get(e);if(!w)return c;for(const C of w){const j=t.Cc.get(C);c=c.unionWith(j.view.yc)}return c}}function k_(n,e){return wg.apply(this,arguments)}function wg(){return wg=(0,we.Z)(function*(n,e){const t=jn(n),s=yield Sp(t.localStore,e.query,!0),c=e.view.vc(s);return t.isPrimaryClient&&Om(t,e.targetId,c.Pc),c}),wg.apply(this,arguments)}function Xy(n){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,we.Z)(function*(n){const e=jn(n);return sm(e.localStore).then(t=>Ch(e,t))}),Pp.apply(this,arguments)}function xb(n,e,t,s){return Np.apply(this,arguments)}function Np(){return Np=(0,we.Z)(function*(n,e,t,s){const c=jn(n),w=yield function(C,j){const te=jn(C),le=jn(te.gs);return te.persistence.runTransaction("Lookup mutation documents","readonly",He=>le.Ge(He,j).next(Ge=>Ge?te.Us.Es(He,Ge):cn.resolve(null)))}(c.localStore,e);var j;null!==w?("pending"===t?yield Xf(c.remoteStore):"acknowledged"===t||"rejected"===t?(xm(c,e,s||null),bg(c,e),j=e,jn(jn(c.localStore).gs).Qe(j)):An(),yield Ch(c,w)):xt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Np.apply(this,arguments)}function ev(){return ev=(0,we.Z)(function*(n,e){const t=jn(n);if(tv(t),km(t),!0===e&&!0!==t.Lc){const s=t.sharedClientState.getAllActiveQueryTargets(),c=yield sp(t,s.toArray());t.Lc=!0,yield Ah(t.remoteStore,!0);for(const w of c)Yf(t.remoteStore,w)}else if(!1===e&&!1!==t.Lc){const s=[];let c=Promise.resolve();t.Nc.forEach((w,C)=>{t.sharedClientState.isLocalQueryTarget(C)?s.push(C):c=c.then(()=>(Pf(t,C),Gf(t.localStore,C,!0))),Op(t.remoteStore,C)}),yield c,yield sp(t,s),function(w){const C=jn(w);C.Oc.forEach((j,te)=>{Op(C.remoteStore,te)}),C.Mc.ii(),C.Oc=new Map,C.kc=new ho(hr.comparator)}(t),t.Lc=!1,yield Ah(t.remoteStore,!1)}}),ev.apply(this,arguments)}function sp(n,e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,we.Z)(function*(n,e,t){const s=jn(n),c=[],w=[];for(const C of e){let j;const te=s.Nc.get(C);if(te&&0!==te.length){j=yield Ip(s.localStore,Ra(te[0]));for(const le of te){const He=s.Cc.get(le),Ge=yield k_(s,He);Ge.snapshot&&w.push(Ge.snapshot)}}else{const le=yield im(s.localStore,C);j=yield Ip(s.localStore,le),yield yg(s,Ig(le),C,!1)}c.push(j)}return s.Dc.To(w),c}),Eg.apply(this,arguments)}function Ig(n){return nd(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Nm(n){const e=jn(n);return jn(jn(e.localStore).persistence).ds()}function L_(n,e,t,s){return op.apply(this,arguments)}function op(){return op=(0,we.Z)(function*(n,e,t,s){const c=jn(n);if(c.Lc)xt("SyncEngine","Ignoring unexpected query state notification.");else if(c.Nc.has(e))switch(t){case"current":case"not-current":{const w=yield sm(c.localStore),C=Mc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ch(c,w,C);break}case"rejected":yield Gf(c.localStore,e,!0),Pf(c,e,s);break;default:An()}}),op.apply(this,arguments)}function Sg(n,e,t){return kp.apply(this,arguments)}function kp(){return kp=(0,we.Z)(function*(n,e,t){const s=tv(n);if(s.Lc){for(const c of e){if(s.Nc.has(c)){xt("SyncEngine","Adding an already active target "+c);continue}const w=yield im(s.localStore,c),C=yield Ip(s.localStore,w);yield yg(s,Ig(w),C.targetId,!1),Yf(s.remoteStore,C)}for(const c of t)s.Nc.has(c)&&(yield Gf(s.localStore,c,!1).then(()=>{Op(s.remoteStore,c),Pf(s,c)}).catch(gn))}}),kp.apply(this,arguments)}function tv(n){const e=jn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tb.bind(null,e),e.Dc.To=Vy.bind(null,e.eventManager),e.Dc.qc=Hy.bind(null,e.eventManager),e}function km(n){const e=jn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Db.bind(null,e),e}class Ag{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.O=Qf(e.databaseInfo.databaseId),t.sharedClientState=t.Gc(e),t.persistence=t.jc(e),yield t.persistence.start(),t.gcScheduler=t.Qc(e),t.localStore=t.Wc(e)})()}Qc(e){return null}Wc(e){return nf(this.persistence,new Vi,e.initialUser,this.O)}jc(e){return new Cy(Cp.bi,this.O)}Gc(e){return new xy}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Cg extends Ag{constructor(e,t,s){super(),this.zc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,we.Z)(function*(){yield t().call(s,e),yield function wy(n){return bd.apply(this,arguments)}(s.localStore),yield s.zc.initialize(s,e),yield km(s.zc.syncEngine),yield Xf(s.zc.remoteStore),yield s.persistence.Hn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Wc(e){return nf(this.persistence,new Vi,e.initialUser,this.O)}Qc(e){return new xi(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const t=zn(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new je(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,hm(),Tp(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new xy}}class nv extends Cg{constructor(e,t){super(e,t,!1),this.zc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,we.Z)(function*(){yield t().call(s,e);const c=s.zc.syncEngine;s.sharedClientState instanceof lm&&(s.sharedClientState.syncEngine={hr:xb.bind(null,c),lr:L_.bind(null,c),dr:Sg.bind(null,c),ds:Nm.bind(null,c),ar:Xy.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.Hn(function(){var w=(0,we.Z)(function*(C){yield function F_(n,e){return ev.apply(this,arguments)}(s.zc.syncEngine,C),s.gcScheduler&&(C&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):C||s.gcScheduler.stop())});return function(C){return w.apply(this,arguments)}}())})()}Gc(e){const t=hm();if(!lm.Vt(t))throw new _n($t.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=zn(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lm(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Fp{initialize(e,t){var s=this;return(0,we.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>M_(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=N_.bind(null,s.syncEngine),yield Ah(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new rp}createDatastore(e){const t=Qf(e.databaseInfo.databaseId),s=new Ry(e.databaseInfo);return new Py(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,c=e.asyncQueue,w=j=>M_(this.syncEngine,j,0),C=Oy.Vt()?new Oy:new b_,new Ny(t,s,c,w,C);var t,s,c,w,C}createSyncEngine(e,t){return function(s,c,w,C,j,te,le){const He=new x_(s,c,w,C,j,te);return le&&(He.Lc=!0),He}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const s=jn(t);xt("RemoteStore","RemoteStore shutting down."),s.Ko.add(5),yield xp(s),s.jo.shutdown(),s.Qo.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Lm(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Lp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Um{constructor(e,t){this.Yc=e,this.O=t,this.metadata=new ss,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(s=>{s&&s.ac()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Yc.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}Kc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Zc()})()}Zc(){var e=this;return(0,we.Z)(function*(){const t=yield e.tu();if(null===t)return null;const s=e.Xc.decode(t),c=Number(s);isNaN(c)&&e.eu(`length string (${s}) is not valid number`);const w=yield e.nu(c);return new $y(JSON.parse(w),t.length+c)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}tu(){var e=this;return(0,we.Z)(function*(){for(;e.su()<0&&!(yield e.iu()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.eu("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}nu(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.iu())&&t.eu("Reached the end of bundle when more is expected.");const s=t.Xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}iu(){var e=this;return(0,we.Z)(function*(){const t=yield e.Yc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class rv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new _n($t.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(c=(0,we.Z)(function*(w,C){const j=jn(w),te=al(j.O)+"/documents",le={documents:C.map(bn=>ol(j.O,bn))},He=yield j.Lr("BatchGetDocuments",te,le),Ge=new Map;He.forEach(bn=>{const Ln=function Hf(n,e){return"found"in e?function(t,s){Hn(!!s.found);const c=Pc(t,s.found.name),w=ia(s.found.updateTime),C=new ra({mapValue:{fields:s.found.fields}});return ls.newFoundDocument(c,w,C)}(n,e):"missing"in e?function(t,s){Hn(!!s.missing),Hn(!!s.readTime);const c=Pc(t,s.missing),w=ia(s.readTime);return ls.newNoDocument(c,w)}(n,e):An()}(j.O,bn);Ge.set(Ln.key.toString(),Ln)});const Wt=[];return C.forEach(bn=>{const Ln=Ge.get(bn.toString());Hn(!!Ln),Wt.push(Ln)}),Wt}),function(w,C){return c.apply(this,arguments)})(t.datastore,e);var c;return s.forEach(c=>t.recordVersion(c)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,c)=>{const w=hr.fromPath(c);e.mutations.push(new jh(w,e.precondition(w)))}),yield(s=(0,we.Z)(function*(c,w){const C=jn(c),j=al(C.O)+"/documents",te={writes:w.map(le=>vh(C.O,le))};yield C.Mr("Commit",j,te)}),function(c,w){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw An();t=Lr.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new _n($t.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Oo.updateTime(t):Oo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lr.min()))throw new _n($t.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oo.updateTime(t)}return Oo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class U_{constructor(e,t,s,c){this.asyncQueue=e,this.datastore=t,this.updateFunction=s,this.deferred=c,this.ru=5,this.ro=new fm(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var e=this;this.ro.Hr((0,we.Z)(function*(){const t=new rv(e.datastore),s=e.cu(t);s&&s.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(w=>{e.uu(w)}))}).catch(c=>{e.uu(c)})}))}cu(e){try{const t=this.updateFunction(e);return!fu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Yd(t)}return!1}}class iv{constructor(e,t,s,c){var w=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=c,this.user=z.UNAUTHENTICATED,this.clientId=Bf.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var C=(0,we.Z)(function*(j){xt("FirestoreClient","Received user=",j.uid),yield w.authCredentialListener(j),w.user=j});return function(j){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(s,C=>(xt("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _n($t.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const c=Ed(s,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function jm(n,e){return Up.apply(this,arguments)}function Up(){return Up=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),xt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var c=(0,we.Z)(function*(w){s.isEqual(w)||(yield rf(e.localStore,w),s=w)});return function(w){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Up.apply(this,arguments)}function Bm(n,e){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Tg(n);xt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(c=>ep(e.remoteStore,c)),n.setAppCheckTokenChangeListener((c,w)=>ep(e.remoteStore,w)),n.onlineComponents=e}),Vm.apply(this,arguments)}function Tg(n){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,we.Z)(function*(n){return n.offlineComponents||(xt("FirestoreClient","Using default OfflineComponentProvider"),yield jm(n,new Ag)),n.offlineComponents}),Dg.apply(this,arguments)}function ap(n){return jp.apply(this,arguments)}function jp(){return jp=(0,we.Z)(function*(n){return n.onlineComponents||(xt("FirestoreClient","Using default OnlineComponentProvider"),yield Bm(n,new Fp)),n.onlineComponents}),jp.apply(this,arguments)}function Hm(n){return Tg(n).then(e=>e.persistence)}function xg(n){return Tg(n).then(e=>e.localStore)}function $m(n){return ap(n).then(e=>e.remoteStore)}function Og(n){return ap(n).then(e=>e.syncEngine)}function Nf(n){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,we.Z)(function*(n){const e=yield ap(n),t=e.eventManager;return t.onListen=Gy.bind(null,e.syncEngine),t.onUnlisten=O_.bind(null,e.syncEngine),t}),Rg.apply(this,arguments)}function av(n,e,t={}){const s=new ss;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(c,w,C,j,te){const le=new Lp({next:Ge=>{w.enqueueAndForget(()=>fg(c,He));const Wt=Ge.docs.has(C);!Wt&&Ge.fromCache?te.reject(new _n($t.UNAVAILABLE,"Failed to get document because the client is offline.")):Wt&&Ge.fromCache&&j&&"server"===j.source?te.reject(new _n($t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):te.resolve(Ge)},error:Ge=>te.reject(Ge)}),He=new mg(Oa(C.path),le,{includeMetadataChanges:!0,uc:!0});return uf(c,He)}(yield Nf(n),n.asyncQueue,e,t,s)})),s.promise}function Wm(n,e,t={}){const s=new ss;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(c,w,C,j,te){const le=new Lp({next:Ge=>{w.enqueueAndForget(()=>fg(c,He)),Ge.fromCache&&"server"===j.source?te.reject(new _n($t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):te.resolve(Ge)},error:Ge=>te.reject(Ge)}),He=new mg(C,le,{includeMetadataChanges:!0,uc:!0});return uf(c,He)}(yield Nf(n),n.asyncQueue,e,t,s)})),s.promise}const uv=new Map;function Mg(n,e,t){if(!t)throw new _n($t.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lv(n,e,t,s){if(!0===e&&!0===s)throw new _n($t.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zm(n){if(!hr.isDocumentKey(n))throw new _n($t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Zm(n){if(hr.isDocumentKey(n))throw new _n($t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Th(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":An()}function fs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _n($t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Th(n);throw new _n($t.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dv(n,e){if(e<=0)throw new _n($t.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class qm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new _n($t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _n($t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,lv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bp{constructor(e,t,s){this._authCredentials=t,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qm({}),this._settingsFrozen=!1,e instanceof Ku?this._databaseId=e:(this._app=e,this._databaseId=function(c){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new _n($t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(c.options.projectId)}(e))}get app(){if(!this._app)throw new _n($t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _n($t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Do;switch(t.type){case"gapi":const s=t.client;return Hn(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new ta(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new _n($t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=uv.get(e);t&&(xt("ComponentProvider","Removing Datastore"),uv.delete(e),t.terminate())}(this),Promise.resolve()}}class Zo{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zo(this.firestore,e,this._key)}}class Ac{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ac(this.firestore,e,this._query)}}class Bl extends Ac{constructor(e,t,s){super(e,t,Oa(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zo(this.firestore,null,new hr(e))}withConverter(e){return new Bl(this.firestore,e,this._path)}}function Ad(n,e,...t){if(n=Qt(n),Mg("collection","path",e),n instanceof Bp){const s=Ni.fromString(e,...t);return Zm(s),new Bl(n,null,s)}{if(!(n instanceof Zo||n instanceof Bl))throw new _n($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ni.fromString(e,...t));return Zm(s),new Bl(n.firestore,null,s)}}function Vp(n,e,...t){if(n=Qt(n),1===arguments.length&&(e=Bf.R()),Mg("doc","path",e),n instanceof Bp){const s=Ni.fromString(e,...t);return zm(s),new Zo(n,null,new hr(s))}{if(!(n instanceof Zo||n instanceof Bl))throw new _n($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ni.fromString(e,...t));return zm(s),new Zo(n.firestore,n instanceof Bl?n.converter:null,new hr(s))}}function Cd(n,e){return n=Qt(n),e=Qt(e),(n instanceof Zo||n instanceof Bl)&&(e instanceof Zo||e instanceof Bl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Vl(n,e){return n=Qt(n),e=Qt(e),n instanceof Ac&&e instanceof Ac&&n.firestore===e.firestore&&Bi(n._query,e._query)&&n.converter===e.converter}class Td{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new fm(this,"async_queue_retry"),this.yu=()=>{const t=Tp();t&&xt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ro.Yr()};const e=Tp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const t=Tp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const t=new ss;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,we.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(t){if(!Fc(t))throw t;xt("AsyncQueue","Operation failed with retryable error: "+t)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const t=this.hu.then(()=>(this.wu=!0,e().catch(s=>{throw this._u=s,this.wu=!1,Pn("INTERNAL UNHANDLED ERROR: ",function(w){let C=w.message||"";return w.stack&&(C=w.stack.includes(w.message)?w.stack:w.message+"\n"+w.stack),C}(s)),s}).then(s=>(this.wu=!1,s))));return this.hu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.gu.indexOf(e)>-1&&(t=0);const c=cf.createAndSchedule(this,e,t,s,w=>this.Tu(w));return this.du.push(c),c}pu(){this._u&&An()}verifyOperationInProgress(){}Au(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.hu,yield t}while(t!==e.hu)})()}Ru(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function Pg(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const c of["next","error","complete"])if(c in s&&"function"==typeof s[c])return!0;return!1}(n)}class fv{constructor(){this._progressObserver={},this._taskCompletionResolver=new ss,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class qo extends Bp{constructor(e,t,s){super(e,t,s),this.type="firestore",this._queue=new Td,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||cp(this),this._firestoreClient.terminate()}}function wa(n){return n._firestoreClient||cp(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function cp(n){var e;const t=n._freezeSettings(),s=(w=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new El(n._databaseId,w,n._persistenceKey,(j=t).host,j.ssl,j.experimentalForceLongPolling,j.experimentalAutoDetectLongPolling,j.useFetchStreams));var w,j;n._firestoreClient=new iv(n._authCredentials,n._appCheckCredentials,n._queue,s)}function gv(n,e,t){const s=new ss;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield jm(n,t),yield Bm(n,e),s.resolve()}catch(c){if(!("FirebaseError"===(w=c).name?w.code===$t.FAILED_PRECONDITION||w.code===$t.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&w instanceof DOMException)||22===w.code||20===w.code||11===w.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),s.reject(c)}var w})).then(()=>s.promise)}function Hp(n){if(n._initialized||n._terminated)throw new _n($t.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Dd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _n($t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xd(Ps.fromBase64String(e))}catch(t){throw new _n($t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xd(Ps.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class df{constructor(e){this._methodName=e}}class $p{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _n($t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _n($t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yi(this._lat,e._lat)||yi(this._long,e._long)}}const _v=/^__.*__$/;class bv{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Pu(e,this.data,this.fieldMask,t,this.fieldTransforms):new sd(e,this.data,t,this.fieldTransforms)}}class Km{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Pu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wv(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw An()}}class kg{constructor(e,t,s,c,w,C){this.settings=e,this.databaseId=t,this.O=s,this.ignoreUndefinedProperties=c,void 0===w&&this.vu(),this.fieldTransforms=w||[],this.fieldMask=C||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.Su({path:s,Cu:!1});return c.Nu(e),c}xu(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.Su({path:s,Cu:!1});return c.vu(),c}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return Zp(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(wv(this.Vu)&&_v.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class G_{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.O=s||Qf(e)}Fu(e,t,s,c=!1){return new kg({Vu:e,methodName:t,$u:s,path:xo.emptyPath(),Cu:!1,Mu:c},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function kf(n){const e=n._freezeSettings(),t=Qf(n._databaseId);return new G_(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Fg(n,e,t,s,c,w={}){const C=n.Fu(w.merge||w.mergeFields?2:0,e,t,c);Xm("Data must be an object, but it was:",C,s);const j=Sv(s,C);let te,le;if(w.merge)te=new du(C.fieldMask),le=C.fieldTransforms;else if(w.mergeFields){const He=[];for(const Ge of w.mergeFields){const Wt=Lg(e,Ge,t);if(!C.contains(Wt))throw new _n($t.INVALID_ARGUMENT,`Field '${Wt}' is specified in your field mask but missing from your input data.`);ey(He,Wt)||He.push(Wt)}te=new du(He),le=C.fieldTransforms.filter(Ge=>te.covers(Ge.field))}else te=null,le=C.fieldTransforms;return new bv(new ra(j),te,le)}class Wp extends df{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wp}}function Ev(n,e,t){return new kg({Vu:3,$u:e.settings.$u,methodName:n._methodName,Cu:t},e.databaseId,e.O,e.ignoreUndefinedProperties)}class Qm extends df{_toFieldTransform(e){return new rd(e.path,new Ru)}isEqual(e){return e instanceof Qm}}class K_ extends df{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=Ev(this,e,!0),s=this.Bu.map(w=>Ff(w,t)),c=new eu(s);return new rd(e.path,c)}isEqual(e){return this===e}}class Q_ extends df{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=Ev(this,e,!0),s=this.Bu.map(w=>Ff(w,t)),c=new yu(s);return new rd(e.path,c)}isEqual(e){return this===e}}class Y_ extends df{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new Tl(e.O,Gd(e.O,this.Lu));return new rd(e.path,t)}isEqual(e){return this===e}}function Ym(n,e,t,s){const c=n.Fu(1,e,t);Xm("Data must be an object, but it was:",c,s);const w=[],C=ra.empty();Qc(s,(te,le)=>{const He=zp(e,te,t);le=Qt(le);const Ge=c.xu(He);if(le instanceof Wp)w.push(He);else{const Wt=Ff(le,Ge);null!=Wt&&(w.push(He),C.set(He,Wt))}});const j=new du(w);return new Km(C,j,c.fieldTransforms)}function Jm(n,e,t,s,c,w){const C=n.Fu(1,e,t),j=[Lg(e,s,t)],te=[c];if(w.length%2!=0)throw new _n($t.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Wt=0;Wt<w.length;Wt+=2)j.push(Lg(e,w[Wt])),te.push(w[Wt+1]);const le=[],He=ra.empty();for(let Wt=j.length-1;Wt>=0;--Wt)if(!ey(le,j[Wt])){const bn=j[Wt];let Ln=te[Wt];Ln=Qt(Ln);const jr=C.xu(bn);if(Ln instanceof Wp)le.push(bn);else{const Ai=Ff(Ln,jr);null!=Ai&&(le.push(bn),He.set(bn,Ai))}}const Ge=new du(le);return new Km(He,Ge,C.fieldTransforms)}function Iv(n,e,t,s=!1){return Ff(t,n.Fu(s?4:3,e))}function Ff(n,e){if(Av(n=Qt(n)))return Xm("Unsupported field value:",e,n),Sv(n,e);if(n instanceof df)return function(t,s){if(!wv(s.Vu))throw s.Ou(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Ou(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(t,s){const c=[];let w=0;for(const C of t){let j=Ff(C,s.ku(w));null==j&&(j={nullValue:"NULL_VALUE"}),c.push(j),w++}return{arrayValue:{values:c}}}(n,e)}return function(t,s){if(null===(t=Qt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Gd(s.O,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=Vs.fromDate(t);return{timestampValue:Pl(s.O,c)}}if(t instanceof Vs){const c=new Vs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pl(s.O,c)}}if(t instanceof $p)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xd)return{bytesValue:yh(s.O,t._byteString)};if(t instanceof Zo){const c=s.databaseId,w=t.firestore._databaseId;if(!w.isEqual(c))throw s.Ou(`Document reference is for database ${w.projectId}/${w.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ld(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.Ou(`Unsupported field value: ${Th(t)}`)}(n,e)}function Sv(n,e){const t={};return Ql(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qc(n,(s,c)=>{const w=Ff(c,e.Du(s));null!=w&&(t[s]=w)}),{mapValue:{fields:t}}}function Av(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Vs||n instanceof $p||n instanceof xd||n instanceof Zo||n instanceof df)}function Xm(n,e,t){if(!Av(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Th(t);throw e.Ou("an object"===s?n+" a custom object":n+" "+s)}var s}function Lg(n,e,t){if((e=Qt(e))instanceof Dd)return e._internalPath;if("string"==typeof e)return zp(n,e);throw Zp("Field path arguments must be of type string or ",n,!1,void 0,t)}const Cv=new RegExp("[~\\*/\\[\\]]");function zp(n,e,t){if(e.search(Cv)>=0)throw Zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dd(...e.split("."))._internalPath}catch(s){throw Zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zp(n,e,t,s,c){const w=s&&!s.isEmpty(),C=void 0!==c;let j=`Function ${e}() called with invalid data`;t&&(j+=" (via `toFirestore()`)"),j+=". ";let te="";return(w||C)&&(te+=" (found",w&&(te+=` in field ${s}`),C&&(te+=` in document ${c}`),te+=")"),new _n($t.INVALID_ARGUMENT,j+n+te)}function ey(n,e){return n.some(t=>t.isEqual(e))}class up{constructor(e,t,s,c,w){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=c,this._converter=w}get id(){return this._key.path.lastSegment()}get ref(){return new Zo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Tv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Tv extends up{data(){return super.data()}}function qp(n,e){return"string"==typeof e?zp(n,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}class hf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rh extends up{constructor(e,t,s,c,w,C){super(e,t,s,c,C),this._firestore=e,this._firestoreImpl=e,this.metadata=w}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(qp("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class lp extends rh{data(e={}){return super.data(e)}}class Uu{constructor(e,t,s,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new hf(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new lp(this._firestore,this._userDataWriter,s.key,s,new hf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _n($t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let w=0;return s._snapshot.docChanges.map(C=>({type:"added",doc:new lp(s._firestore,s._userDataWriter,C.doc.key,C.doc,new hf(s._snapshot.mutatedKeys.has(C.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:w++}))}{let w=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(C=>c||3!==C.type).map(C=>{const j=new lp(s._firestore,s._userDataWriter,C.doc.key,C.doc,new hf(s._snapshot.mutatedKeys.has(C.doc.key),s._snapshot.fromCache),s.query.converter);let te=-1,le=-1;return 0!==C.type&&(te=w.indexOf(C.doc.key),w=w.delete(C.doc.key)),1!==C.type&&(w=w.add(C.doc),le=w.indexOf(C.doc.key)),{type:J_(C.type),doc:j,oldIndex:te,newIndex:le}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function J_(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return An()}}function Dv(n,e){return n instanceof rh&&e instanceof rh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Uu&&e instanceof Uu&&n._firestore===e._firestore&&Vl(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Lf(n){if(Du(n)&&0===n.explicitOrderBy.length)throw new _n($t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ug{}function ih(n,...e){for(const t of e)n=t._apply(n);return n}class Pb extends Ug{constructor(e,t,s){super(),this.Uu=e,this.qu=t,this.Ku=s,this.type="where"}_apply(e){const t=kf(e.firestore),s=function(c,w,C,j,te,le,He){let Ge;if(te.isKeyField()){if("array-contains"===le||"array-contains-any"===le)throw new _n($t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${le}' queries on documentId().`);if("in"===le||"not-in"===le){Mv(He,le);const bn=[];for(const Ln of He)bn.push(ty(j,c,Ln));Ge={arrayValue:{values:bn}}}else Ge=ty(j,c,He)}else"in"!==le&&"not-in"!==le&&"array-contains-any"!==le||Mv(He,le),Ge=Iv(C,"where",He,"in"===le||"not-in"===le);const Wt=ds.create(te,le,Ge);return function(bn,Ln){if(Ln.S()){const Ai=xu(bn);if(null!==Ai&&!Ai.isEqual(Ln.field))throw new _n($t.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ai.toString()}' and '${Ln.field.toString()}'`);const aa=Cl(bn);null!==aa&&Pv(0,Ln.field,aa)}const jr=function(Ai,aa){for(const Cc of Ai.filters)if(aa.indexOf(Cc.op)>=0)return Cc.op;return null}(bn,function(Ai){switch(Ai){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ln.op));if(null!==jr)throw new _n($t.INVALID_ARGUMENT,jr===Ln.op?`Invalid query. You cannot use more than one '${Ln.op.toString()}' filter.`:`Invalid query. You cannot use '${Ln.op.toString()}' filters with '${jr.toString()}' filters.`)}(c,Wt),Wt}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new Ac(e.firestore,e.converter,function(c,w){const C=c.filters.concat([w]);return new Xc(c.path,c.collectionGroup,c.explicitOrderBy.slice(),C,c.limit,c.limitType,c.startAt,c.endAt)}(e._query,s))}}class Ov extends Ug{constructor(e,t){super(),this.Uu=e,this.Gu=t,this.type="orderBy"}_apply(e){const t=function(s,c,w){if(null!==s.startAt)throw new _n($t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new _n($t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new nl(c,w);return function(j,te){if(null===Cl(j)){const le=xu(j);null!==le&&Pv(0,le,te.field)}}(s,C),C}(e._query,this.Uu,this.Gu);return new Ac(e.firestore,e.converter,function(s,c){const w=s.explicitOrderBy.concat([c]);return new Xc(s.path,s.collectionGroup,w,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class si extends Ug{constructor(e,t,s){super(),this.type=e,this.ju=t,this.Qu=s}_apply(e){return new Ac(e.firestore,e.converter,kh(e._query,this.ju,this.Qu))}}class Rv extends Ug{constructor(e,t,s){super(),this.type=e,this.Wu=t,this.zu=s}_apply(e){const t=n0(e,this.type,this.Wu,this.zu);return new Ac(e.firestore,e.converter,(c=t,new Xc((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)));var s,c}}class Gp extends Ug{constructor(e,t,s){super(),this.type=e,this.Wu=t,this.zu=s}_apply(e){const t=n0(e,this.type,this.Wu,this.zu);return new Ac(e.firestore,e.converter,(c=t,new Xc((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)));var s,c}}function n0(n,e,t,s){if(t[0]=Qt(t[0]),t[0]instanceof up)return function(c,w,C,j,te){if(!j)throw new _n($t.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const le=[];for(const He of Za(c))if(He.field.isKeyField())le.push(Cu(w,j.key));else{const Ge=j.data.field(He.field);if(uh(Ge))throw new _n($t.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+He.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ge){const Wt=He.field.canonicalString();throw new _n($t.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Wt}' (used as the orderBy) does not exist.`)}le.push(Ge)}return new _c(le,te)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const c=kf(n.firestore);return function(w,C,j,te,le,He){const Ge=w.explicitOrderBy;if(le.length>Ge.length)throw new _n($t.INVALID_ARGUMENT,`Too many arguments provided to ${te}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Wt=[];for(let bn=0;bn<le.length;bn++){const Ln=le[bn];if(Ge[bn].field.isKeyField()){if("string"!=typeof Ln)throw new _n($t.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${te}(), but got a ${typeof Ln}`);if(!Wo(w)&&-1!==Ln.indexOf("/"))throw new _n($t.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${te}() must be a plain document ID, but '${Ln}' contains a slash.`);const jr=w.path.child(Ni.fromString(Ln));if(!hr.isDocumentKey(jr))throw new _n($t.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${te}() must result in a valid document path, but '${jr}' is not because it contains an odd number of segments.`);const Ai=new hr(jr);Wt.push(Cu(C,Ai))}else{const jr=Iv(j,te,Ln);Wt.push(jr)}}return new _c(Wt,He)}(n._query,n.firestore._databaseId,c,e,t,s)}}function ty(n,e,t){if("string"==typeof(t=Qt(t))){if(""===t)throw new _n($t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wo(e)&&-1!==t.indexOf("/"))throw new _n($t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ni.fromString(t));if(!hr.isDocumentKey(s))throw new _n($t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Cu(n,new hr(s))}if(t instanceof Zo)return Cu(n,t._key);throw new _n($t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(t)}.`)}function Mv(n,e){if(!Array.isArray(n)||0===n.length)throw new _n($t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new _n($t.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Pv(n,e,t){if(!t.isEqual(e))throw new _n($t.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Vg{convertValue(e,t="none"){switch(pu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return eo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw An()}}convertObject(e,t){const s={};return Qc(e.fields,(c,w)=>{s[c]=this.convertValue(w,t)}),s}convertGeoPoint(e){return new $p(eo(e.latitude),eo(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=za(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const t=Ho(e);return new Vs(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ni.fromString(e);Hn(kl(s));const c=new Ku(s.get(1),s.get(3)),w=new hr(s.popFirst(5));return c.isEqual(t)||Pn(`Document ${w} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),w}}function Kp(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class Nv extends Vg{constructor(e){super(),this.firestore=e}convertBytes(e){return new xd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zo(this.firestore,null,t)}}class ny{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=kf(e)}set(e,t,s){this._verifyNotCommitted();const c=ff(e,this._firestore),w=Kp(c.converter,t,s),C=Fg(this._dataReader,"WriteBatch.set",c._key,w,null!==c.converter,s);return this._mutations.push(C.toMutation(c._key,Oo.none())),this}update(e,t,s,...c){this._verifyNotCommitted();const w=ff(e,this._firestore);let C;return C="string"==typeof(t=Qt(t))||t instanceof Dd?Jm(this._dataReader,"WriteBatch.update",w._key,t,s,c):Ym(this._dataReader,"WriteBatch.update",w._key,t),this._mutations.push(C.toMutation(w._key,Oo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ff(e,this._firestore);return this._mutations=this._mutations.concat(new Nu(t._key,Oo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _n($t.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ff(n,e){if((n=Qt(n)).firestore!==e)throw new _n($t.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Uf extends Vg{constructor(e){super(),this.firestore=e}convertBytes(e){return new xd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zo(this.firestore,null,t)}}function ry(n,e,t){n=fs(n,Zo);const s=fs(n.firestore,qo),c=Kp(n.converter,e,t);return hp(s,[Fg(kf(s),"setDoc",n._key,c,null!==n.converter,t).toMutation(n._key,Oo.none())])}function iy(n,e,t,...s){n=fs(n,Zo);const c=fs(n.firestore,qo),w=kf(c);let C;return C="string"==typeof(e=Qt(e))||e instanceof Dd?Jm(w,"updateDoc",n._key,e,t,s):Ym(w,"updateDoc",n._key,e),hp(c,[C.toMutation(n._key,Oo.exists(!0))])}function dp(n,...e){var t,s,c;n=Qt(n);let w={includeMetadataChanges:!1},C=0;"object"!=typeof e[C]||Pg(e[C])||(w=e[C],C++);const j={includeMetadataChanges:w.includeMetadataChanges};if(Pg(e[C])){const Ge=e[C];e[C]=null===(t=Ge.next)||void 0===t?void 0:t.bind(Ge),e[C+1]=null===(s=Ge.error)||void 0===s?void 0:s.bind(Ge),e[C+2]=null===(c=Ge.complete)||void 0===c?void 0:c.bind(Ge)}let te,le,He;if(n instanceof Zo)le=fs(n.firestore,qo),He=Oa(n._key.path),te={next:Ge=>{e[C]&&e[C](sy(le,n,Ge))},error:e[C+1],complete:e[C+2]};else{const Ge=fs(n,Ac);le=fs(Ge.firestore,qo),He=Ge._query;const Wt=new Uf(le);te={next:bn=>{e[C]&&e[C](new Uu(le,Wt,Ge,bn))},error:e[C+1],complete:e[C+2]},Lf(n._query)}return function(Ge,Wt,bn,Ln){const jr=new Lp(Ln),Ai=new mg(Wt,jr,bn);return Ge.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return uf(yield Nf(Ge),Ai)})),()=>{jr.Jc(),Ge.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return fg(yield Nf(Ge),Ai)}))}}(wa(le),He,j,te)}function hp(n,e){return function(t,s){const c=new ss;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function R_(n,e,t){return Rp.apply(this,arguments)}(yield Og(t),s,c)})),c.promise}(wa(n),e)}function sy(n,e,t){const s=t.docs.get(e._key),c=new Uf(n);return new rh(n,c,e._key,s,new hf(t.hasPendingWrites,t.fromCache),e.converter)}class u0 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=kf(e)}get(e){const t=ff(e,this._firestore),s=new Nv(this._firestore);return this._transaction.lookup([t._key]).then(c=>{if(!c||1!==c.length)return An();const w=c[0];if(w.isFoundDocument())return new up(this._firestore,s,w.key,w,t.converter);if(w.isNoDocument())return new up(this._firestore,s,t._key,null,t.converter);throw An()})}set(e,t,s){const c=ff(e,this._firestore),w=Kp(c.converter,t,s),C=Fg(this._dataReader,"Transaction.set",c._key,w,null!==c.converter,s);return this._transaction.set(c._key,C),this}update(e,t,s,...c){const w=ff(e,this._firestore);let C;return C="string"==typeof(t=Qt(t))||t instanceof Dd?Jm(this._dataReader,"Transaction.update",w._key,t,s,c):Ym(this._dataReader,"Transaction.update",w._key,t),this._transaction.update(w._key,C),this}delete(e){const t=ff(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ff(e,this._firestore),s=new Uf(this._firestore);return super.get(e).then(c=>new rh(this._firestore,s,t._key,c._document,new hf(!1,!1),t.converter))}}!function(n,e=!0){G=it.SDK_VERSION,(0,it._registerComponent)(new Yn("firestore",(t,{options:s})=>{const c=t.getProvider("app").getImmediate(),w=new qo(c,new qu(t.getProvider("auth-internal")),new Rh(t.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:e},s),w._setSettings(s),w},"PUBLIC")),(0,it.registerVersion)(k,"3.4.5",n),(0,it.registerVersion)(k,"3.4.5","esm2017")}();function P0(n){return n&&n._delegate?n._delegate:n}Error;class e_{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}function gp(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _n("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function mp(){if("undefined"==typeof Uint8Array)throw new _n("unimplemented","Uint8Arrays are not available in this environment.")}function n_(){if(!function ch(){return"undefined"!=typeof atob}())throw new _n("unimplemented","Blobs are unavailable in Firestore in this environment.")}class yp{constructor(e){this._delegate=e}static fromBase64String(e){return n_(),new yp(xd.fromBase64String(e))}static fromUint8Array(e){return mp(),new yp(xd.fromUint8Array(e))}toBase64(){return n_(),this._delegate.toBase64()}toUint8Array(){return mp(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function qg(n){return function U0(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(n,["next","error","complete"])}class j0{enableIndexedDbPersistence(e,t){return function W_(n,e){Hp(n=fs(n,qo));const t=wa(n),s=n._freezeSettings(),c=new Fp;return gv(t,c,new Cg(c,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function pv(n){Hp(n=fs(n,qo));const e=wa(n),t=n._freezeSettings(),s=new Fp;return gv(e,s,new nv(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function mv(n){if(n._initialized&&!n._terminated)throw new _n($t.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ss;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(s){if(!Ya.Vt())return Promise.resolve();const c=s+"main";yield Ya.delete(c)}),function(s){return t.apply(this,arguments)})(zn(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Gg{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ku||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Dr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function hv(n,e,t,s={}){var c;const w=(n=fs(n,Bp))._getSettings();if("firestore.googleapis.com"!==w.host&&w.host!==e&&Dr("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},w),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let C,j;if("string"==typeof s.mockUserToken)C=s.mockUserToken,j=z.MOCK_USER;else{C=function qt(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s=e||"demo-project",c=n.iat||0,w=n.sub||n.user_id;if(!w)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const C=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:c,exp:c+3600,auth_time:c,sub:w,user_id:w,firebase:{sign_in_provider:"custom",identities:{}}},n);return[pt(JSON.stringify({alg:"none",type:"JWT"})),pt(JSON.stringify(C)),""].join(".")}(s.mockUserToken,null===(c=n._app)||void 0===c?void 0:c.options.projectId);const te=s.mockUserToken.sub||s.mockUserToken.user_id;if(!te)throw new _n($t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new z(te)}n._authCredentials=new oc(new lo(C,j))}}(this._delegate,e,t,s)}enableNetwork(){return function Ng(n){return function sv(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield Hm(n),t=yield $m(n);return e.setNetworkEnabled(!0),function(s){const c=jn(s);return c.Ko.delete(0),Dp(c)}(t)}))}(wa(n=fs(n,qo)))}(this._delegate)}disableNetwork(){return function z_(n){return function ov(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield Hm(n),t=yield $m(n);return e.setNetworkEnabled(!1),(s=(0,we.Z)(function*(c){const w=jn(c);w.Ko.add(0),yield xp(w),w.Qo.set("Offline")}),function(c){return s.apply(this,arguments)})(t);var s}))}(wa(n=fs(n,qo)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,lv("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function yv(n){return function(e){const t=new ss;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function ip(n,e){return Dm.apply(this,arguments)}(yield Og(e),t)})),t.promise}(wa(n=fs(n,qo)))}(this._delegate)}onSnapshotsInSync(e){return function Yp(n,e){return function B_(n,e){const t=new Lp(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return s=yield Nf(n),c=t,jn(s).Zo.add(c),void c.next();var s,c})),()=>{t.Jc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return s=yield Nf(n),c=t,void jn(s).Zo.delete(c);var s,c}))}}(wa(n=fs(n,qo)),Pg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new _n("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pf(this,Ad(this._delegate,e))}catch(t){throw Ja(t,"collection()","Firestore.collection()")}}doc(e){try{return new pl(this,Vp(this._delegate,e))}catch(t){throw Ja(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new iu(this,function H_(n,e){if(n=fs(n,Bp),Mg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _n($t.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ac(n,null,(t=e,new Xc(Ni.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ja(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Fv(n,e){return function hc(n,e){const t=new ss;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const s=yield(c=n,ap(c).then(w=>w.datastore));var c;new U_(n.asyncQueue,s,e,t).run()})),t.promise}(wa(n=fs(n,qo)),t=>e(new u0(n,t)))}(this._delegate,t=>e(new r_(this,t)))}batch(){return wa(this._delegate),new i_(new ny(this._delegate,e=>hp(this._delegate,e)))}loadBundle(e){return function vv(n,e){const t=wa(n=fs(n,qo)),s=new fv;return function cv(n,e,t,s){const c=function(w,C){let j;return j="string"==typeof w?(new TextEncoder).encode(w):w,te=function(te,le){if(te instanceof Uint8Array)return Lm(te,void 0);if(te instanceof ArrayBuffer)return Lm(new Uint8Array(te),void 0);if(te instanceof ReadableStream)return te.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(j),new Um(te,C);var te}(t,Qf(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function Fm(n,e,t){const s=jn(n);var c;(c=(0,we.Z)(function*(w,C,j){try{const te=yield C.getMetadata();if(yield function(Wt,bn){const Ln=jn(Wt),jr=ia(bn.createTime);return Ln.persistence.runTransaction("hasNewerBundle","readonly",Ai=>Ln.Kn.getBundleMetadata(Ai,bn.id)).then(Ai=>!!Ai&&Ai.createTime.compareTo(jr)>=0)}(w.localStore,te))return yield C.close(),void j._completeWith((Wt=te,{taskState:"Success",documentsLoaded:Wt.totalDocuments,bytesLoaded:Wt.totalBytes,totalDocuments:Wt.totalDocuments,totalBytes:Wt.totalBytes}));j._updateProgress(zy(te));const le=new Wy(te,w.localStore,C.O);let He=yield C.Kc();for(;He;){const Wt=yield le.lc(He);Wt&&j._updateProgress(Wt),He=yield C.Kc()}const Ge=yield le.complete();yield Ch(w,Ge.ws,void 0),yield function(Wt,bn){const Ln=jn(Wt);return Ln.persistence.runTransaction("Save bundle","readwrite",jr=>Ln.Kn.saveBundleMetadata(jr,bn))}(w.localStore,te),j._completeWith(Ge.progress)}catch(te){Dr("SyncEngine",`Loading bundle failed with ${te}`),j._failWith(te)}var Wt}),function(w,C,j){return c.apply(this,arguments)})(s,e,t).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield Og(n),c,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Gm(n,e){return function V_(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,s){const c=jn(t);return c.persistence.runTransaction("Get named query","readonly",w=>c.Kn.getNamedQuery(w,s))}(yield xg(n),e)}))}(wa(n=fs(n,qo)),e).then(t=>t?new Ac(n,null,t.query):null)}(this._delegate,e).then(t=>t?new iu(this,t):null)}}class Kg extends Vg{constructor(e){super(),this.firestore=e}convertBytes(e){return new yp(new xd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pl.forKey(t,this.firestore,null)}}class r_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Kg(e)}get(e){const t=gf(e);return this._delegate.get(t).then(s=>new eg(this._firestore,new rh(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const c=gf(e);return s?(gp("Transaction.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const w=gf(e);return 2===arguments.length?this._delegate.update(w,t):this._delegate.update(w,t,s,...c),this}delete(e){const t=gf(e);return this._delegate.delete(t),this}}class i_{constructor(e){this._delegate=e}set(e,t,s){const c=gf(e);return s?(gp("WriteBatch.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const w=gf(e);return 2===arguments.length?this._delegate.update(w,t):this._delegate.update(w,t,s,...c),this}delete(e){const t=gf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Hl{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new lp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qg(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Hl.INSTANCES;let c=s.get(e);c||(c=new WeakMap,s.set(e,c));let w=c.get(t);return w||(w=new Hl(e,new Kg(e),t),c.set(t,w)),w}}Hl.INSTANCES=new WeakMap;class pl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Kg(e)}static forPath(e,t,s){if(e.length%2!=0)throw new _n("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new pl(t,new Zo(t._delegate,s,new hr(e)))}static forKey(e,t,s){return new pl(t,new Zo(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new pf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pf(this.firestore,Ad(this._delegate,e))}catch(t){throw Ja(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=P0(e))instanceof Zo&&Cd(this._delegate,e)}set(e,t){t=gp("DocumentReference.set",t);try{return t?ry(this._delegate,e,t):ry(this._delegate,e)}catch(s){throw Ja(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?iy(this._delegate,e):iy(this._delegate,e,t,...s)}catch(c){throw Ja(c,"updateDoc()","DocumentReference.update()")}}delete(){return function kv(n){return hp(fs(n.firestore,qo),[new Nu(n._key,Oo.none())])}(this._delegate)}onSnapshot(...e){const t=B0(e),s=hy(e,c=>new eg(this.firestore,new rh(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return dp(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Qp(n){n=fs(n,Zo);const e=fs(n.firestore,qo),t=wa(e),s=new Uf(e);return function Ob(n,e){const t=new ss;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(s=(0,we.Z)(function*(c,w,C){try{const j=yield function(te,le){const He=jn(te);return He.persistence.runTransaction("read document","readonly",Ge=>He.Us.ys(Ge,le))}(c,w);j.isFoundDocument()?C.resolve(j):j.isNoDocument()?C.resolve(null):C.reject(new _n($t.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(j){const te=Ed(j,`Failed to get document '${w} from cache`);C.reject(te)}}),function(c,w,C){return s.apply(this,arguments)})(yield xg(n),e,t);var s})),t.promise}(t,n._key).then(c=>new rh(e,s,n._key,c,new hf(null!==c&&c.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function s0(n){n=fs(n,Zo);const e=fs(n.firestore,qo);return av(wa(e),n._key,{source:"server"}).then(t=>sy(e,n,t))}(this._delegate):function r0(n){n=fs(n,Zo);const e=fs(n.firestore,qo);return av(wa(e),n._key).then(t=>sy(e,n,t))}(this._delegate),t.then(s=>new eg(this.firestore,new rh(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new pl(this.firestore,this._delegate.withConverter(e?Hl.getInstance(this.firestore,e):null))}}function Ja(n,e,t){return n.message=n.message.replace(e,t),n}function B0(n){for(const e of n)if("object"==typeof e&&!qg(e))return e;return{}}function hy(n,e){var t,s;let c;return c=qg(n[0])?n[0]:qg(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:w=>{c.next&&c.next(e(w))},error:null===(t=c.error)||void 0===t?void 0:t.bind(c),complete:null===(s=c.complete)||void 0===s?void 0:s.bind(c)}}class eg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Dv(this._delegate,e._delegate)}}class Qg extends eg{data(e){const t=this._delegate.data(e);return function Xi(n,e){n||An()}(void 0!==t),t}}class iu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Kg(e)}where(e,t,s){try{return new iu(this.firestore,ih(this._delegate,function xv(n,e,t){const s=e,c=qp("where",n);return new Pb(c,s,t)}(e,t,s)))}catch(c){throw Ja(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new iu(this.firestore,ih(this._delegate,function Nb(n,e="asc"){const t=e,s=qp("orderBy",n);return new Ov(s,t)}(e,t)))}catch(s){throw Ja(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new iu(this.firestore,ih(this._delegate,function X_(n){return dv("limit",n),new si("limit",n,"F")}(e)))}catch(t){throw Ja(t,"limit()","Query.limit()")}}limitToLast(e){try{return new iu(this.firestore,ih(this._delegate,function e0(n){return dv("limitToLast",n),new si("limitToLast",n,"L")}(e)))}catch(t){throw Ja(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new iu(this.firestore,ih(this._delegate,function jg(...n){return new Rv("startAt",n,!0)}(...e)))}catch(t){throw Ja(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new iu(this.firestore,ih(this._delegate,function t0(...n){return new Rv("startAfter",n,!1)}(...e)))}catch(t){throw Ja(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new iu(this.firestore,ih(this._delegate,function Bg(...n){return new Gp("endBefore",n,!1)}(...e)))}catch(t){throw Ja(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new iu(this.firestore,ih(this._delegate,function Ea(...n){return new Gp("endAt",n,!0)}(...e)))}catch(t){throw Ja(t,"endAt()","Query.endAt()")}}isEqual(e){return Vl(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function a0(n){n=fs(n,Ac);const e=fs(n.firestore,qo),t=wa(e),s=new Uf(e);return function j_(n,e){const t=new ss;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(s=(0,we.Z)(function*(c,w,C){try{const j=yield Sp(c,w,!0),te=new Im(w,j.Ks),le=te.Ic(j.documents),He=te.applyChanges(le,!1);C.resolve(He.snapshot)}catch(j){const te=Ed(j,`Failed to execute query '${w} against cache`);C.reject(te)}}),function(c,w,C){return s.apply(this,arguments)})(yield xg(n),e,t);var s})),t.promise}(t,n._query).then(c=>new Uu(e,s,n,c))}(this._delegate):"server"===(null==e?void 0:e.source)?function Hg(n){n=fs(n,Ac);const e=fs(n.firestore,qo),t=wa(e),s=new Uf(e);return Wm(t,n._query,{source:"server"}).then(c=>new Uu(e,s,n,c))}(this._delegate):function o0(n){n=fs(n,Ac);const e=fs(n.firestore,qo),t=wa(e),s=new Uf(e);return Lf(n._query),Wm(t,n._query).then(c=>new Uu(e,s,n,c))}(this._delegate),t.then(s=>new Yg(this.firestore,new Uu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=B0(e),s=hy(e,c=>new Yg(this.firestore,new Uu(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return dp(this._delegate,t,s)}withConverter(e){return new iu(this.firestore,this._delegate.withConverter(e?Hl.getInstance(this.firestore,e):null))}}class ow{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Qg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Yg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new iu(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Qg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new ow(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Qg(this._firestore,s))})}isEqual(e){return Dv(this._delegate,e._delegate)}}class pf extends iu{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pl(this.firestore,e):null}doc(e){try{return new pl(this.firestore,void 0===e?Vp(this._delegate):Vp(this._delegate,e))}catch(t){throw Ja(t,"doc()","CollectionReference.doc()")}}add(e){return function c0(n,e){const t=fs(n.firestore,qo),s=Vp(n),c=Kp(n.converter,e);return hp(t,[Fg(kf(n.firestore),"addDoc",s._key,c,null!==n.converter,{}).toMutation(s._key,Oo.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new pl(this.firestore,t))}isEqual(e){return Cd(this._delegate,e._delegate)}withConverter(e){return new pf(this.firestore,this._delegate.withConverter(e?Hl.getInstance(this.firestore,e):null))}}function gf(n){return fs(n,Zo)}class Jg{constructor(...e){this._delegate=new Dd(...e)}static documentId(){return new Jg(xo.keyField().canonicalString())}isEqual(e){return(e=P0(e))instanceof Dd&&this._delegate._internalPath.isEqual(e._internalPath)}}class mf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Uv(){return new Qm("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new mf(e)}static delete(){const e=function Lv(){return new Wp("deleteField")}();return e._methodName="FieldValue.delete",new mf(e)}static arrayUnion(...e){const t=function l0(...n){return new K_("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new mf(t)}static arrayRemove(...e){const t=function jv(...n){return new Q_("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new mf(t)}static increment(e){const t=function d0(n){return new Y_("increment",n)}(e);return t._methodName="FieldValue.increment",new mf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const V0={Firestore:Gg,GeoPoint:$p,Timestamp:Vs,Blob:yp,Transaction:r_,WriteBatch:i_,DocumentReference:pl,DocumentSnapshot:eg,Query:iu,QueryDocumentSnapshot:Qg,QuerySnapshot:Yg,CollectionReference:pf,FieldPath:Jg,FieldValue:mf,setLogLevel:function sw(n){!function wn(n){De.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function $0(n){(function H0(n,e){n.INTERNAL.registerComponent(new e_("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),c=t.getProvider("firestore").getImmediate();return e(s,c)},"PUBLIC").setServiceProps(Object.assign({},V0)))})(n,(e,t)=>new Gg(e,t,new j0)),n.registerVersion("@firebase/firestore-compat","0.1.14")}(Re.Z);var Dh=F(1205),W0=F(284),z0=F(127);function vp(n,e){return function s_(n,e=y.z){return new re.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(n,e)}function Xg(n,e){return vp(n,e).pipe((0,fe.U)(t=>({payload:t,type:"query"})))}function tg(n,e){return Xg(n,e).pipe((0,Ee.O)(void 0),Le(),(0,fe.U)(([t,s])=>{const c=s.payload.docChanges(),w=c.map(C=>({type:C.type,payload:C}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((C,j)=>{const te=c.find(He=>He.doc.ref.isEqual(C.ref)),le=null==t?void 0:t.payload.docs.find(He=>He.ref.isEqual(C.ref));te&&JSON.stringify(te.doc.metadata)===JSON.stringify(C.metadata)||!te&&le&&JSON.stringify(le.metadata)===JSON.stringify(C.metadata)||w.push({type:"modified",payload:{oldIndex:j,newIndex:j,type:"modified",doc:C}})}),w}))}function fy(n,e,t){return tg(n,t).pipe((0,Ae.R)((s,c)=>function a_(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function Z0(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return em(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return em(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return em(n,e.oldIndex,1)}return n}(n,s))}),n}(s,c.map(w=>w.payload),e),[]),(0,Ce.x)(),(0,fe.U)(s=>s.map(c=>({type:c.type,payload:c}))))}function em(n,e,t,...s){const c=n.slice();return c.splice(e,t,...s),c}function py(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class gy{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=tg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,fe.U)(s=>s.filter(c=>e.indexOf(c.type)>-1)))),t.pipe((0,Ee.O)(void 0),Le(),(0,ne.h)(([s,c])=>c.length>0||!s),(0,fe.U)(([s,c])=>c),ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ae.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=py(e);return fy(this.query,t,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return Xg(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),ae.iC)}get(e){return(0,ce.D)(this.query.get(e)).pipe(ae.iC)}add(e){return this.ref.add(e)}doc(e){return new c_(this.ref.doc(e),this.afs)}}class c_{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:c,query:w}=Od(s,t);return new gy(c,w,this.afs)}snapshotChanges(){return function o_(n,e){return vp(n,e).pipe((0,Ee.O)(void 0),Le(),(0,fe.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,fe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ce.D)(this.ref.get(e)).pipe(ae.iC)}}class q0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?tg(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,ne.h)(t=>t.length>0),ae.iC):tg(this.query,this.afs.schedulers.outsideAngular).pipe(ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ae.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=py(e);return fy(this.query,t,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return Xg(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(s=>s.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),ae.iC)}get(e){return(0,ce.D)(this.query.get(e)).pipe(ae.iC)}}const u_=new a.OlP("angularfire2.enableFirestorePersistence"),_p=new a.OlP("angularfire2.firestore.persistenceSettings"),G0=new a.OlP("angularfire2.firestore.settings"),my=new a.OlP("angularfire2.firestore.use-emulator");function Od(n,e=(t=>t)){return{query:e(n),ref:n}}let l_=(()=>{class n{constructor(t,s,c,w,C,j,te,le,He,Ge,Wt,bn,Ln,jr,Ai,aa,Cc){this.schedulers=te;const Rd=(0,ee.on)(t,j,s),sh=He;Ge&&(0,Dh.nw)(Rd,j,Wt,Ln,jr,Ai,bn,aa),[this.firestore,this.persistenceEnabled$]=(0,ee.cc)(`${Rd.name}.firestore`,"AngularFirestore",Rd.name,()=>{const oh=j.runOutsideAngular(()=>Rd.firestore());if(w&&oh.settings(w),sh&&oh.useEmulator(...sh),c&&!(0,Se.PM)(C)){const vy=()=>{try{return(0,ce.D)(oh.enablePersistence(le||void 0).then(()=>!0,()=>!1))}catch(tm){return"undefined"!=typeof console&&console.warn(tm),(0,Ie.of)(!1)}};return[oh,j.runOutsideAngular(vy)]}return[oh,(0,Ie.of)(!1)]},[w,sh,c])}collection(t,s){let c;c="string"==typeof t?this.firestore.collection(t):t;const{ref:w,query:C}=Od(c,s),j=this.schedulers.ngZone.run(()=>w);return new gy(j,C,this)}collectionGroup(t,s){const c=s||(C=>C),w=this.firestore.collectionGroup(t);return new q0(c(w),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const c=this.schedulers.ngZone.run(()=>s);return new c_(c,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ee.Dh),a.LFG(ee.xv,8),a.LFG(u_,8),a.LFG(G0,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ae.HU),a.LFG(_p,8),a.LFG(my,8),a.LFG(Dh.zQ,8),a.LFG(Dh.Qv,8),a.LFG(Dh.L6,8),a.LFG(Dh._Q,8),a.LFG(Dh.rT,8),a.LFG(Dh.lh,8),a.LFG(Dh.f7,8),a.LFG(W0.nm,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yy=(()=>{class n{constructor(){z0.Z.registerVersion("angularfire",ae.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:u_,useValue:!0},{provide:_p,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[l_]}),n})()},7164:(Kt,st,F)=>{"use strict";F.d(st,{Q1:()=>$a,TE:()=>jd});var a=F(8306),y=F(9646),re=F(8996),ce=F(4986),Ie=F(4482),ae=F(5403),Ne=F(4004),Le=F(3900),Ee=F(7937),fe=F(5e3),Ae=F(2011),Ce=F(8001),ne=F(5861),ee=F(9206);const we=function(R){const A=[];let k=0;for(let z=0;z<R.length;z++){let G=R.charCodeAt(z);G<128?A[k++]=G:G<2048?(A[k++]=G>>6|192,A[k++]=63&G|128):55296==(64512&G)&&z+1<R.length&&56320==(64512&R.charCodeAt(z+1))?(G=65536+((1023&G)<<10)+(1023&R.charCodeAt(++z)),A[k++]=G>>18|240,A[k++]=G>>12&63|128,A[k++]=G>>6&63|128,A[k++]=63&G|128):(A[k++]=G>>12|224,A[k++]=G>>6&63|128,A[k++]=63&G|128)}return A},Ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(R,A){if(!Array.isArray(R))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=A?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let G=0;G<R.length;G+=3){const De=R[G],Ct=G+1<R.length,wn=Ct?R[G+1]:0,xt=G+2<R.length,Pn=xt?R[G+2]:0;let An=(15&wn)<<2|Pn>>6,Hn=63&Pn;xt||(Hn=64,Ct||(An=64)),z.push(k[De>>2],k[(3&De)<<4|wn>>4],k[An],k[Hn])}return z.join("")},encodeString(R,A){return this.HAS_NATIVE_SUPPORT&&!A?btoa(R):this.encodeByteArray(we(R),A)},decodeString(R,A){return this.HAS_NATIVE_SUPPORT&&!A?atob(R):function(R){const A=[];let k=0,z=0;for(;k<R.length;){const G=R[k++];if(G<128)A[z++]=String.fromCharCode(G);else if(G>191&&G<224){const De=R[k++];A[z++]=String.fromCharCode((31&G)<<6|63&De)}else if(G>239&&G<365){const xt=((7&G)<<18|(63&R[k++])<<12|(63&R[k++])<<6|63&R[k++])-65536;A[z++]=String.fromCharCode(55296+(xt>>10)),A[z++]=String.fromCharCode(56320+(1023&xt))}else{const De=R[k++],Ct=R[k++];A[z++]=String.fromCharCode((15&G)<<12|(63&De)<<6|63&Ct)}}return A.join("")}(this.decodeStringToByteArray(R,A))},decodeStringToByteArray(R,A){this.init_();const k=A?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let G=0;G<R.length;){const De=k[R.charAt(G++)],wn=G<R.length?k[R.charAt(G)]:0;++G;const Pn=G<R.length?k[R.charAt(G)]:64;++G;const Xn=G<R.length?k[R.charAt(G)]:64;if(++G,null==De||null==wn||null==Pn||null==Xn)throw Error();z.push(De<<2|wn>>4),64!==Pn&&(z.push(wn<<4&240|Pn>>2),64!==Xn&&z.push(Pn<<6&192|Xn))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let R=0;R<this.ENCODED_VALS.length;R++)this.byteToCharMap_[R]=this.ENCODED_VALS.charAt(R),this.charToByteMap_[this.byteToCharMap_[R]]=R,this.byteToCharMapWebSafe_[R]=this.ENCODED_VALS_WEBSAFE.charAt(R),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[R]]=R,R>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(R)]=R,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(R)]=R)}}},_t=function(R){return function(R){const A=we(R);return Ze.encodeByteArray(A,!0)}(R).replace(/\./g,"")};class $n extends Error{constructor(A,k,z){super(k),this.code=A,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,$n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ar.prototype.create)}}class ar{constructor(A,k,z){this.service=A,this.serviceName=k,this.errors=z}create(A,...k){const z=k[0]||{},G=`${this.service}/${A}`,De=this.errors[A],Ct=De?function Vr(R,A){return R.replace(Zr,(k,z)=>{const G=A[z];return null!=G?String(G):`<${z}?>`})}(De,z):"Error";return new $n(G,`${this.serviceName}: ${Ct} (${G}).`,z)}}const Zr=/\{\$([^}]+)}/g;function qi(R){return R&&R._delegate?R._delegate:R}class Nt{constructor(A,k,z){this.name=A,this.instanceFactory=k,this.type=z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(A){return this.instantiationMode=A,this}setMultipleInstances(A){return this.multipleInstances=A,this}setServiceProps(A){return this.serviceProps=A,this}setInstanceCreatedCallback(A){return this.onInstanceCreated=A,this}}const cr="firebasestorage.googleapis.com",_i="storageBucket";class ri extends $n{constructor(A,k){super(ii(A),`Firebase Storage: ${k} (${ii(A)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ri.prototype)}_codeEquals(A){return ii(A)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(A){this.customData.serverResponse=A,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function ii(R){return"storage/"+R}function Oe(){return new ri("unknown","An unknown error occurred, please check the error payload for server response.")}function zr(){return new ri("canceled","User canceled the upload/download.")}function ir(){return new ri("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function kr(R){return new ri("invalid-argument",R)}function os(){return new ri("app-deleted","The Firebase app was deleted.")}function ro(R){return new ri("invalid-root-operation","The operation '"+R+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hi(R,A){return new ri("invalid-format","String does not match format '"+R+"': "+A)}function Ii(R){throw new ri("internal-error","Internal error: "+R)}class Yr{constructor(A,k){this.bucket=A,this.path_=k}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const A=encodeURIComponent;return"/b/"+A(this.bucket)+"/o/"+A(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(A,k){let z;try{z=Yr.makeFromUrl(A,k)}catch(G){return new Yr(A,"")}if(""===z.path)return z;throw function yr(R){return new ri("invalid-default-bucket","Invalid default bucket '"+R+"'.")}(A)}static makeFromUrl(A,k){let z=null;const G="([A-Za-z0-9.\\-_]+)",wn=new RegExp("^gs://"+G+"(/(.*))?$","i");function Pn(Do){Do.path_=decodeURIComponent(Do.path)}const Xn=k.replace(/[.]/g,"\\."),lo=[{regex:wn,indices:{bucket:1,path:3},postModify:function De(Do){"/"===Do.path.charAt(Do.path.length-1)&&(Do.path_=Do.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Xn}/v[A-Za-z0-9_]+/b/${G}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Pn},{regex:new RegExp(`^https?://${k===cr?"(?:storage.googleapis.com|storage.cloud.google.com)":k}/${G}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Pn}];for(let Do=0;Do<lo.length;Do++){const oc=lo[Do],qu=oc.regex.exec(A);if(qu){let ta=qu[oc.indices.path];ta||(ta=""),z=new Yr(qu[oc.indices.bucket],ta),oc.postModify(z);break}}if(null==z)throw function Er(R){return new ri("invalid-url","Invalid URL '"+R+"'.")}(A);return z}}class Es{constructor(A){this.promise_=Promise.reject(A)}getPromise(){return this.promise_}cancel(A=!1){}}function Cn(R){return"string"==typeof R||R instanceof String}function Un(R){return Wn()&&R instanceof Blob}function Wn(){return"undefined"!=typeof Blob}function ui(R,A,k,z){if(z<A)throw kr(`Invalid value for '${R}'. Expected ${A} or greater.`);if(z>k)throw kr(`Invalid value for '${R}'. Expected ${k} or less.`)}function Ir(R,A,k){let z=A;return null==k&&(z=`https://${A}`),`${k}://${z}/v0${R}`}function Si(R){const A=encodeURIComponent;let k="?";for(const z in R)R.hasOwnProperty(z)&&(k=k+(A(z)+"=")+A(R[z])+"&");return k=k.slice(0,-1),k}var Rr=(()=>{return(R=Rr||(Rr={}))[R.NO_ERROR=0]="NO_ERROR",R[R.NETWORK_ERROR=1]="NETWORK_ERROR",R[R.ABORT=2]="ABORT",Rr;var R})();class Ci{constructor(A,k,z,G,De,Ct,wn,xt,Pn,Dr,Xn){this.url_=A,this.method_=k,this.headers_=z,this.body_=G,this.successCodes_=De,this.additionalRetryCodes_=Ct,this.callback_=wn,this.errorCallback_=xt,this.timeout_=Pn,this.progressCallback_=Dr,this.connectionFactory_=Xn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((An,Hn)=>{this.resolve_=An,this.reject_=Hn,this.start_()})}start_(){const k=(z,G)=>{const De=this.resolve_,Ct=this.reject_,wn=G.connection;if(G.wasSuccessCode)try{const xt=this.callback_(wn,wn.getResponse());!function Lt(R){return void 0!==R}(xt)?De():De(xt)}catch(xt){Ct(xt)}else if(null!==wn){const xt=Oe();xt.serverResponse=wn.getErrorText(),Ct(this.errorCallback_?this.errorCallback_(wn,xt):xt)}else Ct(G.canceled?this.appDelete_?os():zr():function kn(){return new ri("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?k(0,new Tr(!1,null,!0)):this.backoffId_=function $r(R,A,k){let z=1,G=null,De=null,Ct=!1,wn=0;function xt(){return 2===wn}let Pn=!1;function Dr(...$t){Pn||(Pn=!0,A.apply(null,$t))}function Xn($t){G=setTimeout(()=>{G=null,R(Hn,xt())},$t)}function An(){De&&clearTimeout(De)}function Hn($t,..._n){if(Pn)return void An();if($t)return An(),void Dr.call(null,$t,..._n);if(xt()||Ct)return An(),void Dr.call(null,$t,..._n);let lo;z<64&&(z*=2),1===wn?(wn=2,lo=0):lo=1e3*(z+Math.random()),Xn(lo)}let Xi=!1;function jn($t){Xi||(Xi=!0,An(),!Pn&&(null!==G?($t||(wn=2),clearTimeout(G),Xn(0)):$t||(wn=1)))}return Xn(0),De=setTimeout(()=>{Ct=!0,jn(!0)},k),jn}((z,G)=>{if(G)return void z(!1,new Tr(!1,null,!0));const De=this.connectionFactory_();this.pendingConnection_=De;const Ct=wn=>{null!==this.progressCallback_&&this.progressCallback_(wn.loaded,wn.lengthComputable?wn.total:-1)};null!==this.progressCallback_&&De.addUploadProgressListener(Ct),De.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&De.removeUploadProgressListener(Ct),this.pendingConnection_=null;const wn=De.getErrorCode()===Rr.NO_ERROR,xt=De.getStatus();if(!wn||this.isRetryStatusCode_(xt)){const Dr=De.getErrorCode()===Rr.ABORT;return void z(!1,new Tr(!1,null,Dr))}const Pn=-1!==this.successCodes_.indexOf(xt);z(!0,new Tr(Pn,De))})},k,this.timeout_)}getPromise(){return this.promise_}cancel(A){this.canceled_=!0,this.appDelete_=A||!1,null!==this.backoffId_&&function rt(R){R(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(A){const k=A>=500&&A<600,G=-1!==[408,429].indexOf(A),De=-1!==this.additionalRetryCodes_.indexOf(A);return k||G||De}}class Tr{constructor(A,k,z){this.wasSuccessCode=A,this.connection=k,this.canceled=!!z}}function Lo(...R){const A=function io(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==A){const k=new A;for(let z=0;z<R.length;z++)k.append(R[z]);return k.getBlob()}if(Wn())return new Blob(R);throw new ri("unsupported-environment","This browser doesn't seem to support creating Blobs")}const qe={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ot{constructor(A,k){this.data=A,this.contentType=k||null}}function vt(R,A){switch(R){case qe.RAW:return new Ot(Nn(A));case qe.BASE64:case qe.BASE64URL:return new Ot(pr(R,A));case qe.DATA_URL:return new Ot(function Ri(R){const A=new Jr(R);return A.base64?pr(qe.BASE64,A.rest):function rr(R){let A;try{A=decodeURIComponent(R)}catch(k){throw Hi(qe.DATA_URL,"Malformed data URL.")}return Nn(A)}(A.rest)}(A),function Ls(R){return new Jr(R).contentType}(A))}throw Oe()}function Nn(R){const A=[];for(let k=0;k<R.length;k++){let z=R.charCodeAt(k);z<=127?A.push(z):z<=2047?A.push(192|z>>6,128|63&z):55296==(64512&z)?k<R.length-1&&56320==(64512&R.charCodeAt(k+1))?(z=65536|(1023&z)<<10|1023&R.charCodeAt(++k),A.push(240|z>>18,128|z>>12&63,128|z>>6&63,128|63&z)):A.push(239,191,189):56320==(64512&z)?A.push(239,191,189):A.push(224|z>>12,128|z>>6&63,128|63&z)}return new Uint8Array(A)}function pr(R,A){switch(R){case qe.BASE64:{const G=-1!==A.indexOf("-"),De=-1!==A.indexOf("_");if(G||De)throw Hi(R,"Invalid character '"+(G?"-":"_")+"' found: is it base64url encoded?");break}case qe.BASE64URL:{const G=-1!==A.indexOf("+"),De=-1!==A.indexOf("/");if(G||De)throw Hi(R,"Invalid character '"+(G?"+":"/")+"' found: is it base64 encoded?");A=A.replace(/-/g,"+").replace(/_/g,"/");break}}let k;try{k=function pe(R){return atob(R)}(A)}catch(G){throw Hi(R,"Invalid character found")}const z=new Uint8Array(k.length);for(let G=0;G<k.length;G++)z[G]=k.charCodeAt(G);return z}class Jr{constructor(A){this.base64=!1,this.contentType=null;const k=A.match(/^data:([^,]+)?,/);if(null===k)throw Hi(qe.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const z=k[1]||null;null!=z&&(this.base64=function li(R,A){return R.length>=A.length&&R.substring(R.length-A.length)===A}(z,";base64"),this.contentType=this.base64?z.substring(0,z.length-7):z),this.rest=A.substring(A.indexOf(",")+1)}}class hi{constructor(A,k){let z=0,G="";Un(A)?(this.data_=A,z=A.size,G=A.type):A instanceof ArrayBuffer?(k?this.data_=new Uint8Array(A):(this.data_=new Uint8Array(A.byteLength),this.data_.set(new Uint8Array(A))),z=this.data_.length):A instanceof Uint8Array&&(k?this.data_=A:(this.data_=new Uint8Array(A.length),this.data_.set(A)),z=A.length),this.size_=z,this.type_=G}size(){return this.size_}type(){return this.type_}slice(A,k){if(Un(this.data_)){const G=function $e(R,A,k){return R.webkitSlice?R.webkitSlice(A,k):R.mozSlice?R.mozSlice(A,k):R.slice?R.slice(A,k):null}(this.data_,A,k);return null===G?null:new hi(G)}{const z=new Uint8Array(this.data_.buffer,A,k-A);return new hi(z,!0)}}static getBlob(...A){if(Wn()){const k=A.map(z=>z instanceof hi?z.data_:z);return new hi(Lo.apply(null,k))}{const k=A.map(Ct=>Cn(Ct)?vt(qe.RAW,Ct).data:Ct.data_);let z=0;k.forEach(Ct=>{z+=Ct.byteLength});const G=new Uint8Array(z);let De=0;return k.forEach(Ct=>{for(let wn=0;wn<Ct.length;wn++)G[De++]=Ct[wn]}),new hi(G,!0)}}uploadData(){return this.data_}}function Ss(R){let A;try{A=JSON.parse(R)}catch(k){return null}return function yn(R){return"object"==typeof R&&!Array.isArray(R)}(A)?A:null}function Co(R){const A=R.lastIndexOf("/",R.length-2);return-1===A?R:R.slice(A+1)}function mo(R,A){return A}class Us{constructor(A,k,z,G){this.server=A,this.local=k||A,this.writable=!!z,this.xform=G||mo}}let Rs=null;function Mi(){if(Rs)return Rs;const R=[];R.push(new Us("bucket")),R.push(new Us("generation")),R.push(new Us("metageneration")),R.push(new Us("name","fullPath",!0));const k=new Us("name");k.xform=function A(De,Ct){return function as(R){return!Cn(R)||R.length<2?R:Co(R)}(Ct)},R.push(k);const G=new Us("size");return G.xform=function z(De,Ct){return void 0!==Ct?Number(Ct):Ct},R.push(G),R.push(new Us("timeCreated")),R.push(new Us("updated")),R.push(new Us("md5Hash",null,!0)),R.push(new Us("cacheControl",null,!0)),R.push(new Us("contentDisposition",null,!0)),R.push(new Us("contentEncoding",null,!0)),R.push(new Us("contentLanguage",null,!0)),R.push(new Us("contentType",null,!0)),R.push(new Us("metadata","customMetadata",!0)),Rs=R,Rs}function jo(R,A,k){const z=Ss(A);return null===z?null:function Ui(R,A,k){const z={type:"file"},G=k.length;for(let De=0;De<G;De++){const Ct=k[De];z[Ct.local]=Ct.xform(z,A[Ct.server])}return function gs(R,A){Object.defineProperty(R,"ref",{get:function k(){const De=new Yr(R.bucket,R.fullPath);return A._makeStorageReference(De)}})}(z,R),z}(R,z,k)}function Js(R,A){const k={},z=A.length;for(let G=0;G<z;G++){const De=A[G];De.writable&&(k[De.server]=R[De.local])}return JSON.stringify(k)}const ns="prefixes";class ms{constructor(A,k,z,G){this.url=A,this.method=k,this.handler=z,this.timeout=G,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Wi(R){if(!R)throw Oe()}function bi(R,A){return function k(z,G){const De=jo(R,G,A);return Wi(null!==De),De}}function W(R){return function A(k,z){let G;return G=401===k.getStatus()?k.getErrorText().includes("Firebase App Check token is invalid")?function Ye(){return new ri("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Ke(){return new ri("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===k.getStatus()?function ke(R){return new ri("quota-exceeded","Quota for bucket '"+R+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(R.bucket):403===k.getStatus()?function rn(R){return new ri("unauthorized","User does not have permission to access '"+R+"'.")}(R.path):z,G.serverResponse=z.serverResponse,G}}function ve(R){const A=W(R);return function k(z,G){let De=A(z,G);return 404===z.getStatus()&&(De=function ye(R){return new ri("object-not-found","Object '"+R+"' does not exist.")}(R.path)),De.serverResponse=G.serverResponse,De}}function nt(R,A,k){const G=Ir(A.fullServerUrl(),R.host,R._protocol),Ct=R.maxOperationRetryTime,wn=new ms(G,"GET",bi(R,k),Ct);return wn.errorHandler=ve(A),wn}function Gt(R,A,k,z,G){const De={};De.prefix=A.isRoot?"":A.path+"/",k&&k.length>0&&(De.delimiter=k),z&&(De.pageToken=z),G&&(De.maxResults=G);const wn=Ir(A.bucketOnlyServerUrl(),R.host,R._protocol),Pn=R.maxOperationRetryTime,Dr=new ms(wn,"GET",function q(R,A){return function k(z,G){const De=function As(R,A,k){const z=Ss(k);return null===z?null:function To(R,A,k){const z={prefixes:[],items:[],nextPageToken:k.nextPageToken};if(k[ns])for(const G of k[ns]){const De=G.replace(/\/$/,""),Ct=R._makeStorageReference(new Yr(A,De));z.prefixes.push(Ct)}if(k.items)for(const G of k.items){const De=R._makeStorageReference(new Yr(A,G.name));z.items.push(De)}return z}(R,A,z)}(R,A,G);return Wi(null!==De),De}}(R,A.bucket),Pn);return Dr.urlParams=De,Dr.errorHandler=W(A),Dr}function Xr(R,A,k){const z=Object.assign({},k);return z.fullPath=R.path,z.size=A.size(),z.contentType||(z.contentType=function Kn(R,A){return R&&R.contentType||A&&A.type()||"application/octet-stream"}(null,A)),z}class wi{constructor(A,k,z,G){this.current=A,this.total=k,this.finalized=!!z,this.metadata=G||null}}function Fi(R,A){let k=null;try{k=R.getResponseHeader("X-Goog-Upload-Status")}catch(G){Wi(!1)}return Wi(!!k&&-1!==(A||["active"]).indexOf(k)),k}const Ia={STATE_CHANGED:"state_changed"},Cs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function co(R){switch(R){case"running":case"pausing":case"canceling":return Cs.RUNNING;case"paused":return Cs.PAUSED;case"success":return Cs.SUCCESS;case"canceled":return Cs.CANCELED;default:return Cs.ERROR}}class Y{constructor(A,k,z){if(function Ft(R){return"function"==typeof R}(A)||null!=k||null!=z)this.next=A,this.error=null!=k?k:void 0,this.complete=null!=z?z:void 0;else{const De=A;this.next=De.next,this.error=De.error,this.complete=De.complete}}}function H(R){return(...A)=>{Promise.resolve().then(()=>R(...A))}}class Mt extends class J{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rr.NO_ERROR,this.sendPromise_=new Promise(A=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Rr.ABORT,A()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Rr.NETWORK_ERROR,A()}),this.xhr_.addEventListener("load",()=>{A()})})}send(A,k,z,G){if(this.sent_)throw Ii("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(k,A,!0),void 0!==G)for(const De in G)G.hasOwnProperty(De)&&this.xhr_.setRequestHeader(De,G[De].toString());return void 0!==z?this.xhr_.send(z):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ii("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ii("cannot .getStatus() before sending");try{return this.xhr_.status}catch(A){return-1}}getResponse(){if(!this.sent_)throw Ii("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ii("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(A){return this.xhr_.getResponseHeader(A)}addUploadProgressListener(A){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",A)}removeUploadProgressListener(A){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",A)}}{initXhr(){this.xhr_.responseType="text"}}function Bn(){return new Mt}class Go{constructor(A,k,z=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=A,this._blob=k,this._metadata=z,this._mappings=Mi(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=G=>{this._request=void 0,this._chunkMultiplier=1,G._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=G,this._transition("error"))},this._metadataErrorHandler=G=>{this._request=void 0,G._codeEquals("canceled")?this.completeTransitions_():(this._error=G,this._transition("error"))},this._promise=new Promise((G,De)=>{this._resolve=G,this._reject=De,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const A=this._transferred;return k=>this._updateProgress(A+k)}_shouldDoResumable(A){return A.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(A){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([k,z])=>{switch(this._state){case"running":A(k,z);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((A,k)=>{const z=function oo(R,A,k,z,G){const De=A.bucketOnlyServerUrl(),Ct=Xr(A,z,G),wn={name:Ct.fullPath},xt=Ir(De,R.host,R._protocol),Dr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${z.size()}`,"X-Goog-Upload-Header-Content-Type":Ct.contentType,"Content-Type":"application/json; charset=utf-8"},Xn=Js(Ct,k),Xi=new ms(xt,"POST",function Hn(jn){let $t;Fi(jn);try{$t=jn.getResponseHeader("X-Goog-Upload-URL")}catch(_n){Wi(!1)}return Wi(Cn($t)),$t},R.maxUploadRetryTime);return Xi.urlParams=wn,Xi.headers=Dr,Xi.body=Xn,Xi.errorHandler=W(A),Xi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),G=this._ref.storage._makeRequest(z,Bn,A,k);this._request=G,G.getPromise().then(De=>{this._request=void 0,this._uploadUrl=De,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const A=this._uploadUrl;this._resolveToken((k,z)=>{const G=function ao(R,A,k,z){const xt=new ms(k,"POST",function De(Pn){const Dr=Fi(Pn,["active","final"]);let Xn=null;try{Xn=Pn.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Hn){Wi(!1)}Xn||Wi(!1);const An=Number(Xn);return Wi(!isNaN(An)),new wi(An,z.size(),"final"===Dr)},R.maxUploadRetryTime);return xt.headers={"X-Goog-Upload-Command":"query"},xt.errorHandler=W(A),xt}(this._ref.storage,this._ref._location,A,this._blob),De=this._ref.storage._makeRequest(G,Bn,k,z);this._request=De,De.getPromise().then(Ct=>{Ct=Ct,this._request=void 0,this._updateProgress(Ct.current),this._needToFetchStatus=!1,Ct.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const A=262144*this._chunkMultiplier,k=new wi(this._transferred,this._blob.size()),z=this._uploadUrl;this._resolveToken((G,De)=>{let Ct;try{Ct=function vo(R,A,k,z,G,De,Ct,wn){const xt=new wi(0,0);if(Ct?(xt.current=Ct.current,xt.total=Ct.total):(xt.current=0,xt.total=z.size()),z.size()!==xt.total)throw function On(){return new ri("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Pn=xt.total-xt.current;let Dr=Pn;G>0&&(Dr=Math.min(Dr,G));const Xn=xt.current,Xi={"X-Goog-Upload-Command":Dr===Pn?"upload, finalize":"upload","X-Goog-Upload-Offset":`${xt.current}`},jn=z.slice(Xn,Xn+Dr);if(null===jn)throw ir();const lo=new ms(k,"POST",function $t(Do,oc){const qu=Fi(Do,["active","final"]),bl=xt.current+Dr,ta=z.size();let xa;return xa="final"===qu?bi(A,De)(Do,oc):null,new wi(bl,ta,"final"===qu,xa)},A.maxUploadRetryTime);return lo.headers=Xi,lo.body=jn.uploadData(),lo.progressCallback=wn||null,lo.errorHandler=W(R),lo}(this._ref._location,this._ref.storage,z,this._blob,A,this._mappings,k,this._makeProgressCallback())}catch(xt){return this._error=xt,void this._transition("error")}const wn=this._ref.storage._makeRequest(Ct,Bn,G,De);this._request=wn,wn.getPromise().then(xt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(xt.current),xt.finalized?(this._metadata=xt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((A,k)=>{const z=nt(this._ref.storage,this._ref._location,this._mappings),G=this._ref.storage._makeRequest(z,Bn,A,k);this._request=G,G.getPromise().then(De=>{this._request=void 0,this._metadata=De,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((A,k)=>{const z=function Pi(R,A,k,z,G){const De=A.bucketOnlyServerUrl(),Ct={"X-Goog-Upload-Protocol":"multipart"},xt=function wn(){let lo="";for(let Do=0;Do<2;Do++)lo+=Math.random().toString().slice(2);return lo}();Ct["Content-Type"]="multipart/related; boundary="+xt;const Pn=Xr(A,z,G),Dr=Js(Pn,k),Hn=hi.getBlob("--"+xt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Dr+"\r\n--"+xt+"\r\nContent-Type: "+Pn.contentType+"\r\n\r\n",z,"\r\n--"+xt+"--");if(null===Hn)throw ir();const Xi={name:Pn.fullPath},jn=Ir(De,R.host,R._protocol),_n=R.maxUploadRetryTime,ss=new ms(jn,"POST",bi(R,k),_n);return ss.urlParams=Xi,ss.headers=Ct,ss.body=Hn.uploadData(),ss.errorHandler=W(A),ss}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),G=this._ref.storage._makeRequest(z,Bn,A,k);this._request=G,G.getPromise().then(De=>{this._request=void 0,this._metadata=De,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(A){const k=this._transferred;this._transferred=A,this._transferred!==k&&this._notifyObservers()}_transition(A){if(this._state!==A)switch(A){case"canceling":case"pausing":this._state=A,void 0!==this._request&&this._request.cancel();break;case"running":const k="paused"===this._state;this._state=A,k&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=A,this._notifyObservers();break;case"canceled":this._error=zr(),this._state=A,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const A=co(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:A,metadata:this._metadata,task:this,ref:this._ref}}on(A,k,z,G){const De=new Y(k||void 0,z||void 0,G||void 0);return this._addObserver(De),()=>{this._removeObserver(De)}}then(A,k){return this._promise.then(A,k)}catch(A){return this.then(null,A)}_addObserver(A){this._observers.push(A),this._notifyObserver(A)}_removeObserver(A){const k=this._observers.indexOf(A);-1!==k&&this._observers.splice(k,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(k=>{this._notifyObserver(k)})}_finishPromise(){if(void 0!==this._resolve){let A=!0;switch(co(this._state)){case Cs.SUCCESS:H(this._resolve.bind(null,this.snapshot))();break;case Cs.CANCELED:case Cs.ERROR:H(this._reject.bind(null,this._error))();break;default:A=!1}A&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(A){switch(co(this._state)){case Cs.RUNNING:case Cs.PAUSED:A.next&&H(A.next.bind(A,this.snapshot))();break;case Cs.SUCCESS:A.complete&&H(A.complete.bind(A))();break;default:A.error&&H(A.error.bind(A,this._error))()}}resume(){const A="paused"===this._state||"pausing"===this._state;return A&&this._transition("running"),A}pause(){const A="running"===this._state;return A&&this._transition("pausing"),A}cancel(){const A="running"===this._state||"pausing"===this._state;return A&&this._transition("canceling"),A}}class Hr{constructor(A,k){this._service=A,this._location=k instanceof Yr?k:Yr.makeFromUrl(k,A.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(A,k){return new Hr(A,k)}get root(){const A=new Yr(this._location.bucket,"");return this._newRef(this._service,A)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Co(this._location.path)}get storage(){return this._service}get parent(){const A=function go(R){if(0===R.length)return null;const A=R.lastIndexOf("/");return-1===A?"":R.slice(0,A)}(this._location.path);if(null===A)return null;const k=new Yr(this._location.bucket,A);return new Hr(this._service,k)}_throwIfRoot(A){if(""===this._location.path)throw ro(A)}}function ca(R,A,k){return fi.apply(this,arguments)}function fi(){return(fi=(0,ne.Z)(function*(R,A,k){const G=yield zs(R,{pageToken:k});A.prefixes.push(...G.prefixes),A.items.push(...G.items),null!=G.nextPageToken&&(yield ca(R,A,G.nextPageToken))})).apply(this,arguments)}function zs(R,A){null!=A&&"number"==typeof A.maxResults&&ui("options.maxResults",1,1e3,A.maxResults);const k=A||{},z=Gt(R.storage,R._location,"/",k.pageToken,k.maxResults);return R.storage.makeRequestWithTokens(z,Bn)}function Q(R){R._throwIfRoot("getDownloadURL");const A=function dr(R,A,k){const G=Ir(A.fullServerUrl(),R.host,R._protocol),Ct=R.maxOperationRetryTime,wn=new ms(G,"GET",function de(R,A){return function k(z,G){const De=jo(R,G,A);return Wi(null!==De),function yo(R,A,k,z){const G=Ss(A);if(null===G||!Cn(G.downloadTokens))return null;const De=G.downloadTokens;if(0===De.length)return null;const Ct=encodeURIComponent;return De.split(",").map(Pn=>{const Xn=R.fullPath;return Ir("/b/"+Ct(R.bucket)+"/o/"+Ct(Xn),k,z)+Si({alt:"media",token:Pn})})[0]}(De,G,R.host,R._protocol)}}(R,k),Ct);return wn.errorHandler=ve(A),wn}(R.storage,R._location,Mi());return R.storage.makeRequestWithTokens(A,Bn).then(k=>{if(null===k)throw function qn(){return new ri("no-download-url","The given file does not have any download URLs.")}();return k})}function Be(R,A){const k=function Uo(R,A){const k=A.split("/").filter(z=>z.length>0).join("/");return 0===R.length?k:R+"/"+k}(R._location.path,A),z=new Yr(R._location.bucket,k);return new Hr(R.storage,z)}function Gn(R,A){if(R instanceof rs){const k=R;if(null==k._bucket)throw function dt(){return new ri("no-default-bucket","No default bucket found. Did you set the '"+_i+"' property when initializing the app?")}();const z=new Hr(k,k._bucket);return null!=A?Gn(z,A):z}return void 0!==A?Be(R,A):R}function qr(R,A){if(A&&function We(R){return/^[A-Za-z]+:\/\//.test(R)}(A)){if(R instanceof rs)return function Yt(R,A){return new Hr(R,A)}(R,A);throw kr("To use ref(service, url), the first argument must be a Storage instance.")}return Gn(R,A)}function Cr(R,A){const k=null==A?void 0:A[_i];return null==k?null:Yr.makeFromBucketSpec(k,R)}class rs{constructor(A,k,z,G,De){this.app=A,this._authProvider=k,this._appCheckProvider=z,this._url=G,this._firebaseVersion=De,this._bucket=null,this._host=cr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=G?Yr.makeFromBucketSpec(G,this._host):Cr(this._host,this.app.options)}get host(){return this._host}set host(A){this._host=A,this._bucket=null!=this._url?Yr.makeFromBucketSpec(this._url,A):Cr(A,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(A){ui("time",0,Number.POSITIVE_INFINITY,A),this._maxUploadRetryTime=A}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(A){ui("time",0,Number.POSITIVE_INFINITY,A),this._maxOperationRetryTime=A}_getAuthToken(){var A=this;return(0,ne.Z)(function*(){if(A._overrideAuthToken)return A._overrideAuthToken;const k=A._authProvider.getImmediate({optional:!0});if(k){const z=yield k.getToken();if(null!==z)return z.accessToken}return null})()}_getAppCheckToken(){var A=this;return(0,ne.Z)(function*(){const k=A._appCheckProvider.getImmediate({optional:!0});return k?(yield k.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(A=>A.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(A){return new Hr(this,A)}_makeRequest(A,k,z,G){if(this._deleted)return new Es(os());{const De=function Os(R,A,k,z,G,De){const Ct=Si(R.urlParams),wn=R.url+Ct,xt=Object.assign({},R.headers);return function Mo(R,A){A&&(R["X-Firebase-GMPID"]=A)}(xt,A),function Is(R,A){null!==A&&A.length>0&&(R.Authorization="Firebase "+A)}(xt,k),function Oi(R,A){R["X-Firebase-Storage-Version"]="webjs/"+(null!=A?A:"AppManager")}(xt,De),function $i(R,A){null!==A&&(R["X-Firebase-AppCheck"]=A)}(xt,z),new Ci(wn,R.method,xt,R.body,R.successCodes,R.additionalRetryCodes,R.handler,R.errorHandler,R.timeout,R.progressCallback,G)}(A,this._appId,z,G,k,this._firebaseVersion);return this._requests.add(De),De.getPromise().then(()=>this._requests.delete(De),()=>this._requests.delete(De)),De}}makeRequestWithTokens(A,k){var z=this;return(0,ne.Z)(function*(){const[G,De]=yield Promise.all([z._getAuthToken(),z._getAppCheckToken()]);return z._makeRequest(A,k,G,De).getPromise()})()}}const mi="@firebase/storage";function $c(R,A){return qr(R=qi(R),A)}function vs(R,{instanceIdentifier:A}){const k=R.getProvider("app").getImmediate(),z=R.getProvider("auth-internal"),G=R.getProvider("app-check-internal");return new rs(k,z,G,A,ee.SDK_VERSION)}!function ju(){(0,ee._registerComponent)(new Nt("storage",vs,"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(mi,"0.9.2",""),(0,ee.registerVersion)(mi,"0.9.2","esm2017")}();Error;class Ji{constructor(A,k,z){this.name=A,this.instanceFactory=k,this.type=z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(A){return this.instantiationMode=A,this}setMultipleInstances(A){return this.multipleInstances=A,this}setServiceProps(A){return this.serviceProps=A,this}setInstanceCreatedCallback(A){return this.onInstanceCreated=A,this}}class sc{constructor(A,k,z){this._delegate=A,this.task=k,this.ref=z}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Gc{constructor(A,k){this._delegate=A,this._ref=k,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new sc(this._delegate.snapshot,this,this._ref)}then(A,k){return this._delegate.then(z=>{if(A)return A(new sc(z,this,this._ref))},k)}on(A,k,z,G){let De;return k&&(De="function"==typeof k?Ct=>k(new sc(Ct,this,this._ref)):{next:k.next?Ct=>k.next(new sc(Ct,this,this._ref)):void 0,complete:k.complete||void 0,error:k.error||void 0}),this._delegate.on(A,De,z||void 0,G||void 0)}}class Gl{constructor(A,k){this._delegate=A,this._service=k}get prefixes(){return this._delegate.prefixes.map(A=>new Va(A,this._service))}get items(){return this._delegate.items.map(A=>new Va(A,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Va{constructor(A,k){this._delegate=A,this.storage=k}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(A){const k=function ou(R,A){return Be(R,A)}(this._delegate,A);return new Va(k,this.storage)}get root(){return new Va(this._delegate.root,this.storage)}get parent(){const A=this._delegate.parent;return null==A?null:new Va(A,this.storage)}put(A,k){return this._throwIfRoot("put"),new Gc(function ys(R,A,k){return function La(R,A,k){return R._throwIfRoot("uploadBytesResumable"),new Go(R,new hi(A),k)}(R=qi(R),A,k)}(this._delegate,A,k),this)}putString(A,k=qe.RAW,z){this._throwIfRoot("putString");const G=vt(k,A),De=Object.assign({},z);return null==De.contentType&&null!=G.contentType&&(De.contentType=G.contentType),new Gc(new Go(this._delegate,new hi(G.data,!0),De),this)}listAll(){return function fc(R){return function js(R){const A={prefixes:[],items:[]};return ca(R,A).then(()=>A)}(R=qi(R))}(this._delegate).then(A=>new Gl(A,this.storage))}list(A){return function Iu(R,A){return zs(R=qi(R),A)}(this._delegate,A||void 0).then(k=>new Gl(k,this.storage))}getMetadata(){return function Zs(R){return function Ko(R){R._throwIfRoot("getMetadata");const A=nt(R.storage,R._location,Mi());return R.storage.makeRequestWithTokens(A,Bn)}(R=qi(R))}(this._delegate)}updateMetadata(A){return function is(R,A){return function oe(R,A){R._throwIfRoot("updateMetadata");const k=function di(R,A,k,z){const De=Ir(A.fullServerUrl(),R.host,R._protocol),wn=Js(k,z),Pn=R.maxOperationRetryTime,Dr=new ms(De,"PATCH",bi(R,z),Pn);return Dr.headers={"Content-Type":"application/json; charset=utf-8"},Dr.body=wn,Dr.errorHandler=ve(A),Dr}(R.storage,R._location,A,Mi());return R.storage.makeRequestWithTokens(k,Bn)}(R=qi(R),A)}(this._delegate,A)}getDownloadURL(){return function ua(R){return Q(R=qi(R))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Hc(R){return function ge(R){R._throwIfRoot("deleteObject");const A=function Nr(R,A){const z=Ir(A.fullServerUrl(),R.host,R._protocol),wn=new ms(z,"DELETE",function Ct(xt,Pn){},R.maxOperationRetryTime);return wn.successCodes=[200,204],wn.errorHandler=ve(A),wn}(R.storage,R._location);return R.storage.makeRequestWithTokens(A,Bn)}(R=qi(R))}(this._delegate)}_throwIfRoot(A){if(""===this._delegate._location.path)throw ro(A)}}class Vo{constructor(A,k){this.app=A,this._delegate=k}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(A){if($u(A))throw kr("ref() expected a child path but got a URL, use refFromURL instead.");return new Va($c(this._delegate,A),this)}refFromURL(A){if(!$u(A))throw kr("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Yr.makeFromUrl(A,this._delegate.host)}catch(k){throw kr("refFromUrl() expected a valid full URL but got an invalid one.")}return new Va($c(this._delegate,A),this)}setMaxUploadRetryTime(A){this._delegate.maxUploadRetryTime=A}setMaxOperationRetryTime(A){this._delegate.maxOperationRetryTime=A}useEmulator(A,k,z={}){!function Aa(R,A,k,z={}){!function Ti(R,A,k,z={}){R.host=`${A}:${k}`,R._protocol="http";const{mockUserToken:G}=z;G&&(R._overrideAuthToken="string"==typeof G?G:function Dt(R,A){if(R.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=A||"demo-project",G=R.iat||0,De=R.sub||R.user_id;if(!De)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:G,exp:G+3600,auth_time:G,sub:De,user_id:De,firebase:{sign_in_provider:"custom",identities:{}}},R);return[_t(JSON.stringify({alg:"none",type:"JWT"})),_t(JSON.stringify(Ct)),""].join(".")}(G,R.app.options.projectId))}(R,A,k,z)}(this._delegate,A,k,z)}}function $u(R){return/^[A-Za-z]+:\/\//.test(R)}function Wu(R,{instanceIdentifier:A}){const k=R.getProvider("app-compat").getImmediate(),z=R.getProvider("storage").getImmediate({identifier:A});return new Vo(k,z)}!function zu(R){const A={TaskState:Cs,TaskEvent:Ia,StringFormat:qe,Storage:Vo,Reference:Va};R.INTERNAL.registerComponent(new Ji("storage-compat",Wu,"PUBLIC").setServiceProps(A).setMultipleInstances(!0)),R.registerVersion("@firebase/storage-compat","0.1.10")}(Ce.Z);var Kl=F(284),vl=F(127);function Zu(R){const A=function Da(R){return new a.y(A=>{const k=Ct=>A.next(Ct);k(R.snapshot);const De=R.on("state_changed",k);return R.then(Ct=>{k(Ct),A.complete()},Ct=>{k(R.snapshot),(Ct=>{A.error(Ct)})(Ct)}),function(){De()}}).pipe(function Pe(R,A=ce.z){return(0,Ie.e)((k,z)=>{let G=null,De=null,Ct=null;const wn=()=>{if(G){G.unsubscribe(),G=null;const Pn=De;De=null,z.next(Pn)}};function xt(){const Pn=Ct+R,Dr=A.now();if(Dr<Pn)return G=this.schedule(void 0,Pn-Dr),void z.add(G);wn()}k.subscribe((0,ae.x)(z,Pn=>{De=Pn,Ct=A.now(),G||(G=A.schedule(xt,R),z.add(G))},()=>{wn(),z.complete()},void 0,()=>{De=G=null}))})}(0))}(R);return{task:R,then:R.then.bind(R),catch:R.catch.bind(R),pause:R.pause.bind(R),cancel:R.cancel.bind(R),resume:R.resume.bind(R),snapshotChanges:()=>A,percentageChanges:()=>A.pipe((0,Ne.U)(k=>k.bytesTransferred/k.totalBytes*100))}}function Ha(R){return{getDownloadURL:()=>(0,y.of)(void 0).pipe(Ee.fc,(0,Le.w)(()=>R.getDownloadURL()),Ee.iC),getMetadata:()=>(0,y.of)(void 0).pipe(Ee.fc,(0,Le.w)(()=>R.getMetadata()),Ee.iC),delete:()=>(0,re.D)(R.delete()),child:A=>Ha(R.child(A)),updateMetadata:A=>(0,re.D)(R.updateMetadata(A)),put:(A,k)=>Zu(R.put(A,k)),putString:(A,k,z)=>Zu(R.putString(A,k,z)),list:A=>(0,re.D)(R.list(A)),listAll:()=>(0,re.D)(R.listAll())}}const ea=new fe.OlP("angularfire2.storageBucket"),lu=new fe.OlP("angularfire2.storage.maxUploadRetryTime"),Rc=new fe.OlP("angularfire2.storage.maxOperationRetryTime"),_l=new fe.OlP("angularfire2.storage.use-emulator");let $a=(()=>{class R{constructor(k,z,G,De,Ct,wn,xt,Pn,Dr,Xn){const An=(0,Ae.on)(k,Ct,z);this.storage=(0,Ae.cc)(`${An.name}.storage.${G}`,"AngularFireStorage",An.name,()=>{const Hn=Ct.runOutsideAngular(()=>An.storage(G||void 0)),Xi=Dr;return Xi&&Hn.useEmulator(...Xi),xt&&Hn.setMaxUploadRetryTime(xt),Pn&&Hn.setMaxOperationRetryTime(Pn),Hn},[xt,Pn])}ref(k){return Ha(this.storage.ref(k))}refFromURL(k){return Ha(this.storage.refFromURL(k))}upload(k,z,G){return Ha(this.storage.ref(k)).put(z,G)}}return R.\u0275fac=function(k){return new(k||R)(fe.LFG(Ae.Dh),fe.LFG(Ae.xv,8),fe.LFG(ea,8),fe.LFG(fe.Lbi),fe.LFG(fe.R0b),fe.LFG(Ee.HU),fe.LFG(lu,8),fe.LFG(Rc,8),fe.LFG(_l,8),fe.LFG(Kl.nm,8))},R.\u0275prov=fe.Yz7({token:R,factory:R.\u0275fac,providedIn:"any"}),R})(),Ao=(()=>{class R{}return R.\u0275fac=function(k){return new(k||R)},R.\u0275mod=fe.oAB({type:R}),R.\u0275inj=fe.cJS({}),R})(),jd=(()=>{class R{constructor(){vl.Z.registerVersion("angularfire",Ee.q4.full,"gcs-compat")}}return R.\u0275fac=function(k){return new(k||R)},R.\u0275mod=fe.oAB({type:R}),R.\u0275inj=fe.cJS({providers:[$a],imports:[Ao]}),R})()},2011:(Kt,st,F)=>{"use strict";F.d(st,{hO:()=>Ce,xv:()=>Le,Dh:()=>Ne,GT:()=>ae,cc:()=>ne,on:()=>Ee,pX:()=>Ie});var a=F(5e3),y=F(127),re=F(7937);Kt=F.hmd(Kt);const ce=["ngOnDestroy"],Ie=(Re,we,it,Ze={})=>new Proxy(Re,{get:(tt,_t)=>it.runOutsideAngular(()=>{var Ve;if(Re[_t])return(null===(Ve=null==Ze?void 0:Ze.spy)||void 0===Ve?void 0:Ve.get)&&Ze.spy.get(_t,Re[_t]),Re[_t];if(ce.indexOf(_t)>-1)return()=>{};const Tt=we.toPromise().then(Jt=>{const ze=Jt&&Jt[_t];return"function"==typeof ze?ze.bind(Jt):ze&&ze.then?ze.then(pt=>it.run(()=>pt)):it.run(()=>ze)});return new Proxy(()=>{},{get:(Jt,ze)=>Tt[ze],apply:(Jt,ze,pt)=>Tt.then(Dt=>{var Et;const tn=Dt&&Dt(...pt);return(null===(Et=null==Ze?void 0:Ze.spy)||void 0===Et?void 0:Et.apply)&&Ze.spy.apply(_t,pt,tn),tn})})})}),ae=(Re,we)=>{we.forEach(it=>{Object.getOwnPropertyNames(it.prototype||it).forEach(Ze=>{Object.defineProperty(Re.prototype,Ze,Object.getOwnPropertyDescriptor(it.prototype||it,Ze))})})};class Pe{constructor(we){return we}}const Ne=new a.OlP("angularfire2.app.options"),Le=new a.OlP("angularfire2.app.name");function Ee(Re,we,it){const tt="object"==typeof it&&it||{};tt.name=tt.name||"string"==typeof it&&it||"[DEFAULT]";const Ve=y.Z.apps.filter(Tt=>Tt&&Tt.name===tt.name)[0]||we.runOutsideAngular(()=>y.Z.initializeApp(Re,tt));try{JSON.stringify(Re)!==JSON.stringify(Ve.options)&&fe("error",`${Ve.name} Firebase App already initialized with different options${Kt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Tt){}return new Pe(Ve)}const fe=(Re,...we)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Re](...we)},Ae={provide:Pe,useFactory:Ee,deps:[Ne,a.R0b,[new a.FiY,Le]]};let Ce=(()=>{class Re{constructor(it){y.Z.registerVersion("angularfire",re.q4.full,"core"),y.Z.registerVersion("angularfire",re.q4.full,"app-compat"),y.Z.registerVersion("angular",a.q4F.full,it.toString())}static initializeApp(it,Ze){return{ngModule:Re,providers:[{provide:Ne,useValue:it},{provide:Le,useValue:Ze}]}}}return Re.\u0275fac=function(it){return new(it||Re)(a.LFG(a.Lbi))},Re.\u0275mod=a.oAB({type:Re}),Re.\u0275inj=a.cJS({providers:[Ae]}),Re})();function ne(Re,we,it,Ze,tt){const[,_t,Ve]=globalThis.\u0275AngularfireInstanceCache.find(Tt=>Tt[0]===Re)||[];if(_t)return function ee(Re,we){try{return Re.toString()===we.toString()}catch(it){return Re===we}}(tt,Ve)||(ue("error",`${we} was already initialized on the ${it} Firebase App with different settings.${Se?" You may need to reload as Firebase is not HMR aware.":""}`),ue("warn",{is:tt,was:Ve})),_t;{const Tt=Ze();return globalThis.\u0275AngularfireInstanceCache.push([Re,Tt,tt]),Tt}}const Se=!!Kt.hot,ue=(Re,...we)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Re](...we)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7937:(Kt,st,F)=>{"use strict";F.d(st,{q4:()=>mn,iC:()=>Fo,fc:()=>Fa,HU:()=>Xt,vb:()=>ct,JM:()=>be});var a=F(5e3),y=F(5867),re=F(5861),ce=F(9206);function Et(){return"object"==typeof indexedDB}function tn(){return new Promise((m,f)=>{try{let I=!0;const O="validate-browser-context-for-indexeddb-analytics-module",D=self.indexedDB.open(O);D.onsuccess=()=>{D.result.close(),I||self.indexedDB.deleteDatabase(O),m(!0)},D.onupgradeneeded=()=>{I=!1},D.onerror=()=>{var se;f((null===(se=D.error)||void 0===se?void 0:se.message)||"")}}catch(I){f(I)}})}class kt extends Error{constructor(f,I,O){super(I),this.code=f,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,kt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zt.prototype.create)}}class zt{constructor(f,I,O){this.service=f,this.serviceName=I,this.errors=O}create(f,...I){const O=I[0]||{},D=`${this.service}/${f}`,se=this.errors[f],je=se?function Rt(m,f){return m.replace(Dn,(I,O)=>{const D=f[O];return null!=D?String(D):`<${O}?>`})}(se,O):"Error";return new kt(D,`${this.serviceName}: ${je} (${D}).`,O)}}const Dn=/\{\$([^}]+)}/g;function or(m,f=1e3,I=2){const O=f*Math.pow(I,m),D=Math.round(.5*O*(Math.random()-.5)*2);return Math.min(144e5,O+D)}class Kr{constructor(f,I,O){this.name=f,this.instanceFactory=I,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}const Ys=[];var ni=(()=>{return(m=ni||(ni={}))[m.DEBUG=0]="DEBUG",m[m.VERBOSE=1]="VERBOSE",m[m.INFO=2]="INFO",m[m.WARN=3]="WARN",m[m.ERROR=4]="ERROR",m[m.SILENT=5]="SILENT",ni;var m})();const po={debug:ni.DEBUG,verbose:ni.VERBOSE,info:ni.INFO,warn:ni.WARN,error:ni.ERROR,silent:ni.SILENT},Ws=ni.INFO,qi={[ni.DEBUG]:"log",[ni.VERBOSE]:"log",[ni.INFO]:"info",[ni.WARN]:"warn",[ni.ERROR]:"error"},Nt=(m,f,...I)=>{if(f<m.logLevel)return;const O=(new Date).toISOString(),D=qi[f];if(!D)throw new Error(`Attempted to log a message with an invalid logType (value: ${f})`);console[D](`[${O}]  ${m.name}:`,...I)};class at{constructor(f){this.name=f,this._logLevel=Ws,this._logHandler=Nt,this._userLogHandler=null,Ys.push(this)}get logLevel(){return this._logLevel}set logLevel(f){if(!(f in ni))throw new TypeError(`Invalid value "${f}" assigned to \`logLevel\``);this._logLevel=f}setLogLevel(f){this._logLevel="string"==typeof f?po[f]:f}get logHandler(){return this._logHandler}set logHandler(f){if("function"!=typeof f)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=f}get userLogHandler(){return this._userLogHandler}set userLogHandler(f){this._userLogHandler=f}debug(...f){this._userLogHandler&&this._userLogHandler(this,ni.DEBUG,...f),this._logHandler(this,ni.DEBUG,...f)}log(...f){this._userLogHandler&&this._userLogHandler(this,ni.VERBOSE,...f),this._logHandler(this,ni.VERBOSE,...f)}info(...f){this._userLogHandler&&this._userLogHandler(this,ni.INFO,...f),this._logHandler(this,ni.INFO,...f)}warn(...f){this._userLogHandler&&this._userLogHandler(this,ni.WARN,...f),this._logHandler(this,ni.WARN,...f)}error(...f){this._userLogHandler&&this._userLogHandler(this,ni.ERROR,...f),this._logHandler(this,ni.ERROR,...f)}}class rt extends Error{constructor(f,I,O){super(I),this.code=f,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lt.prototype.create)}}class Lt{constructor(f,I,O){this.service=f,this.serviceName=I,this.errors=O}create(f,...I){const O=I[0]||{},D=`${this.service}/${f}`,se=this.errors[f],je=se?function Ft(m,f){return m.replace(yn,(I,O)=>{const D=f[O];return null!=D?String(D):`<${O}?>`})}(se,O):"Error";return new rt(D,`${this.serviceName}: ${je} (${D}).`,O)}}const yn=/\{\$([^}]+)}/g;class Mi{constructor(f,I,O){this.name=f,this.instanceFactory=I,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}var ns=F(2940);const so="@firebase/installations",ms="w:0.5.5",Wi="FIS_v2",nt=new Lt("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Gt(m){return m instanceof rt&&m.code.includes("request-failed")}function hn({projectId:m}){return`https://firebaseinstallations.googleapis.com/v1/projects/${m}/installations`}function dr(m){return{token:m.token,requestStatus:2,expiresIn:Fi(m.expiresIn),creationTime:Date.now()}}function di(m,f){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,re.Z)(function*(m,f){const O=(yield f.json()).error;return nt.create("request-failed",{requestName:m,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function Kn({apiKey:m}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":m})}function Xr(m,{refreshToken:f}){const I=Kn(m);return I.append("Authorization",function oo(m){return`${Wi} ${m}`}(f)),I}function Pi(m){return wi.apply(this,arguments)}function wi(){return(wi=(0,re.Z)(function*(m){const f=yield m();return f.status>=500&&f.status<600?m():f})).apply(this,arguments)}function Fi(m){return Number(m.replace("s","000"))}function ao(m,f){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,re.Z)(function*(m,{fid:f}){const I=hn(m),se={method:"POST",headers:Kn(m),body:JSON.stringify({fid:f,authVersion:Wi,appId:m.appId,sdkVersion:ms})},je=yield Pi(()=>fetch(I,se));if(je.ok){const Bt=yield je.json();return{fid:Bt.fid||f,registrationStatus:2,refreshToken:Bt.refreshToken,authToken:dr(Bt.authToken)}}throw yield di("Create Installation",je)})).apply(this,arguments)}function vo(m){return new Promise(f=>{setTimeout(f,m)})}const Cs=/^[cdef][\w-]{21}$/;function Y(){try{const m=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(m),m[0]=112+m[0]%16;const I=function H(m){return function Ia(m){return btoa(String.fromCharCode(...m)).replace(/\+/g,"-").replace(/\//g,"_")}(m).substr(0,22)}(m);return Cs.test(I)?I:""}catch(m){return""}}function V(m){return`${m.appName}!${m.appId}`}const J=new Map;function Mt(m,f){const I=V(m);cs(I,f),function Ms(m,f){const I=function Go(){return!Gi&&"BroadcastChannel"in self&&(Gi=new BroadcastChannel("[Firebase] FID Change"),Gi.onmessage=m=>{cs(m.data.key,m.data.fid)}),Gi}();I&&I.postMessage({key:m,fid:f}),function Hr(){0===J.size&&Gi&&(Gi.close(),Gi=null)}()}(I,f)}function cs(m,f){const I=J.get(m);if(I)for(const O of I)O(f)}let Gi=null;const _o="firebase-installations-store";let La=null;function Xs(){return La||(La=(0,ns.openDb)("firebase-installations-database",1,m=>{0===m.oldVersion&&m.createObjectStore(_o)})),La}function js(m,f){return ca.apply(this,arguments)}function ca(){return(ca=(0,re.Z)(function*(m,f){const I=V(m),D=(yield Xs()).transaction(_o,"readwrite"),se=D.objectStore(_o),je=yield se.get(I);return yield se.put(f,I),yield D.complete,(!je||je.fid!==f.fid)&&Mt(m,f.fid),f})).apply(this,arguments)}function fi(m){return zs.apply(this,arguments)}function zs(){return(zs=(0,re.Z)(function*(m){const f=V(m),O=(yield Xs()).transaction(_o,"readwrite");yield O.objectStore(_o).delete(f),yield O.complete})).apply(this,arguments)}function Ko(m,f){return oe.apply(this,arguments)}function oe(){return(oe=(0,re.Z)(function*(m,f){const I=V(m),D=(yield Xs()).transaction(_o,"readwrite"),se=D.objectStore(_o),je=yield se.get(I),Bt=f(je);return void 0===Bt?yield se.delete(I):yield se.put(Bt,I),yield D.complete,Bt&&(!je||je.fid!==Bt.fid)&&Mt(m,Bt.fid),Bt})).apply(this,arguments)}function Q(m){return ge.apply(this,arguments)}function ge(){return(ge=(0,re.Z)(function*(m){let f;const I=yield Ko(m,O=>{const D=Be(O),se=We(m,D);return f=se.registrationPromise,se.installationEntry});return""===I.fid?{installationEntry:yield f}:{installationEntry:I,registrationPromise:f}})).apply(this,arguments)}function Be(m){return rs(m||{fid:Y(),registrationStatus:0})}function We(m,f){if(0===f.registrationStatus){if(!navigator.onLine)return{installationEntry:f,registrationPromise:Promise.reject(nt.create("app-offline"))};const I={fid:f.fid,registrationStatus:1,registrationTime:Date.now()},O=function Yt(m,f){return Gn.apply(this,arguments)}(m,I);return{installationEntry:I,registrationPromise:O}}return 1===f.registrationStatus?{installationEntry:f,registrationPromise:qr(m)}:{installationEntry:f}}function Gn(){return(Gn=(0,re.Z)(function*(m,f){try{return js(m,yield ao(m,f))}catch(I){throw Gt(I)&&409===I.customData.serverCode?yield fi(m):yield js(m,{fid:f.fid,registrationStatus:0}),I}})).apply(this,arguments)}function qr(m){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,re.Z)(function*(m){let f=yield Ti(m);for(;1===f.registrationStatus;)yield vo(100),f=yield Ti(m);if(0===f.registrationStatus){const{installationEntry:I,registrationPromise:O}=yield Q(m);return O||I}return f})).apply(this,arguments)}function Ti(m){return Ko(m,f=>{if(!f)throw nt.create("installation-not-found");return rs(f)})}function rs(m){return function mi(m){return 1===m.registrationStatus&&m.registrationTime+1e4<Date.now()}(m)?{fid:m.fid,registrationStatus:0}:m}function bo(m,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,re.Z)(function*({appConfig:m,platformLoggerProvider:f},I){const O=Xa(m,I),D=Xr(m,I),se=f.getImmediate({optional:!0});se&&D.append("x-firebase-client",se.getPlatformInfoString());const Bt={method:"POST",headers:D,body:JSON.stringify({installation:{sdkVersion:ms}})},on=yield Pi(()=>fetch(O,Bt));if(on.ok)return dr(yield on.json());throw yield di("Generate Auth Token",on)})).apply(this,arguments)}function Xa(m,{fid:f}){return`${hn(m)}/${f}/authTokens:generate`}function Vc(m){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,re.Z)(function*(m,f=!1){let I;const O=yield Ko(m.appConfig,se=>{if(!ua(se))throw nt.create("not-registered");const je=se.authToken;if(!f&&Hc(je))return se;if(1===je.requestStatus)return I=ys(m,f),se;{if(!navigator.onLine)throw nt.create("app-offline");const Bt=ou(se);return I=Iu(m,Bt),Bt}});return I?yield I:O.authToken})).apply(this,arguments)}function ys(m,f){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,re.Z)(function*(m,f){let I=yield is(m.appConfig);for(;1===I.authToken.requestStatus;)yield vo(100),I=yield is(m.appConfig);const O=I.authToken;return 0===O.requestStatus?Vc(m,f):O})).apply(this,arguments)}function is(m){return Ko(m,f=>{if(!ua(f))throw nt.create("not-registered");return function Tc(m){return 1===m.requestStatus&&m.requestTime+1e4<Date.now()}(f.authToken)?Object.assign(Object.assign({},f),{authToken:{requestStatus:0}}):f})}function Iu(m,f){return fc.apply(this,arguments)}function fc(){return(fc=(0,re.Z)(function*(m,f){try{const I=yield bo(m,f),O=Object.assign(Object.assign({},f),{authToken:I});return yield js(m.appConfig,O),I}catch(I){if(!Gt(I)||401!==I.customData.serverCode&&404!==I.customData.serverCode){const O=Object.assign(Object.assign({},f),{authToken:{requestStatus:0}});yield js(m.appConfig,O)}else yield fi(m.appConfig);throw I}})).apply(this,arguments)}function ua(m){return void 0!==m&&2===m.registrationStatus}function Hc(m){return 2===m.requestStatus&&!function $c(m){const f=Date.now();return f<m.creationTime||m.creationTime+m.expiresIn<f+36e5}(m)}function ou(m){const f={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},m),{authToken:f})}function Ki(){return(Ki=(0,re.Z)(function*(m){const f=m,{installationEntry:I,registrationPromise:O}=yield Q(f.appConfig);return O?O.catch(console.error):Vc(f).catch(console.error),I.fid})).apply(this,arguments)}function vs(){return(vs=(0,re.Z)(function*(m,f=!1){const I=m;return yield ju(I.appConfig),(yield Vc(I,f)).token})).apply(this,arguments)}function ju(m){return qs.apply(this,arguments)}function qs(){return(qs=(0,re.Z)(function*(m){const{registrationPromise:f}=yield Q(m);f&&(yield f)})).apply(this,arguments)}function pc(m){return nt.create("missing-app-config-values",{valueName:m})}const Di="installations",Yo=m=>{const f=m.getProvider("app").getImmediate(),I=function tc(m){if(!m||!m.options)throw pc("App Configuration");if(!m.name)throw pc("App Name");const f=["projectId","apiKey","appId"];for(const I of f)if(!m.options[I])throw pc(I);return{appName:m.name,projectId:m.options.projectId,apiKey:m.options.apiKey,appId:m.options.appId}}(f);return{app:f,appConfig:I,platformLoggerProvider:(0,ce._getProvider)(f,"platform-logger"),_delete:()=>Promise.resolve()}},zc=m=>{const f=m.getProvider("app").getImmediate(),I=(0,ce._getProvider)(f,Di).getImmediate();return{getId:()=>function Aa(m){return Ki.apply(this,arguments)}(I),getToken:D=>function uo(m){return vs.apply(this,arguments)}(I,D)}};(function Ca(){(0,ce._registerComponent)(new Mi(Di,Yo,"PUBLIC")),(0,ce._registerComponent)(new Mi("installations-internal",zc,"PRIVATE"))})(),(0,ce.registerVersion)(so,"0.5.5"),(0,ce.registerVersion)(so,"0.5.5","esm2017");const Ua="@firebase/remote-config",Eo=new zt("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pi{constructor(f,I,O,D){this.client=f,this.storage=I,this.storageCache=O,this.logger=D}isCachedDataFresh(f,I){if(!I)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-I,D=O<=f;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${f}. Is cache hit: ${D}.`),D}fetch(f){var I=this;return(0,re.Z)(function*(){const[O,D]=yield Promise.all([I.storage.getLastSuccessfulFetchTimestampMillis(),I.storage.getLastSuccessfulFetchResponse()]);if(D&&I.isCachedDataFresh(f.cacheMaxAgeMillis,O))return D;f.eTag=D&&D.eTag;const se=yield I.client.fetch(f),je=[I.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&je.push(I.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(je),se})()}}function br(m=navigator){return m.languages&&m.languages[0]||m.language}class zi{constructor(f,I,O,D,se,je){this.firebaseInstallations=f,this.sdkVersion=I,this.namespace=O,this.projectId=D,this.apiKey=se,this.appId=je}fetch(f){var I=this;return(0,re.Z)(function*(){const[O,D]=yield Promise.all([I.firebaseInstallations.getId(),I.firebaseInstallations.getToken()]),je=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${I.projectId}/namespaces/${I.namespace}:fetch?key=${I.apiKey}`,Bt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":f.eTag||"*"},on={sdk_version:I.sdkVersion,app_instance_id:O,app_instance_id_token:D,app_id:I.appId,language_code:br()},zn={method:"POST",headers:Bt,body:JSON.stringify(on)},Ur=fetch(je,zn),ln=new Promise((hl,th)=>{f.signal.addEventListener(()=>{const qf=new Error("The operation was aborted.");qf.name="AbortError",th(qf)})});let ei;try{yield Promise.race([Ur,ln]),ei=yield Ur}catch(hl){let th="fetch-client-network";throw"AbortError"===hl.name&&(th="fetch-timeout"),Eo.create(th,{originalErrorMessage:hl.message})}let Vi=ei.status;const jc=ei.headers.get("ETag")||void 0;let nf,rf;if(200===ei.status){let hl;try{hl=yield ei.json()}catch(th){throw Eo.create("fetch-client-parse",{originalErrorMessage:th.message})}nf=hl.entries,rf=hl.state}if("INSTANCE_STATE_UNSPECIFIED"===rf?Vi=500:"NO_CHANGE"===rf?Vi=304:("NO_TEMPLATE"===rf||"EMPTY_CONFIG"===rf)&&(nf={}),304!==Vi&&200!==Vi)throw Eo.create("fetch-status",{httpStatus:Vi});return{status:Vi,eTag:jc,config:nf}})()}}class Xo{constructor(f,I){this.client=f,this.storage=I}fetch(f){var I=this;return(0,re.Z)(function*(){const O=(yield I.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return I.attemptFetch(f,O)})()}attemptFetch(f,{throttleEndTimeMillis:I,backoffCount:O}){var D=this;return(0,re.Z)(function*(){yield function Ei(m,f){return new Promise((I,O)=>{const D=Math.max(f-Date.now(),0),se=setTimeout(I,D);m.addEventListener(()=>{clearTimeout(se),O(Eo.create("fetch-throttle",{throttleEndTimeMillis:f}))})})}(f.signal,I);try{const se=yield D.client.fetch(f);return yield D.storage.deleteThrottleMetadata(),se}catch(se){if(!function So(m){if(!(m instanceof kt&&m.customData))return!1;const f=Number(m.customData.httpStatus);return 429===f||500===f||503===f||504===f}(se))throw se;const je={throttleEndTimeMillis:Date.now()+or(O),backoffCount:O+1};return yield D.storage.setThrottleMetadata(je),D.attemptFetch(f,je)}})()}}class No{constructor(f,I,O,D,se){this.app=f,this._client=I,this._storageCache=O,this._storage=D,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fa(m,f){const I=m.target.error||void 0;return Eo.create(f,{originalErrorMessage:I&&I.message})}const Oc="app_namespace_store";class zl{constructor(f,I,O,D=function yf(){return new Promise((m,f)=>{try{const I=indexedDB.open("firebase_remote_config",1);I.onerror=O=>{f(fa(O,"storage-open"))},I.onsuccess=O=>{m(O.target.result)},I.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(Oc,{keyPath:"compositeKey"})}}catch(I){f(Eo.create("storage-open",{originalErrorMessage:I}))}})}()){this.appId=f,this.appName=I,this.namespace=O,this.openDbPromise=D}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(f){return this.set("last_fetch_status",f)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(f){return this.set("last_successful_fetch_timestamp_millis",f)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(f){return this.set("last_successful_fetch_response",f)}getActiveConfig(){return this.get("active_config")}setActiveConfig(f){return this.set("active_config",f)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(f){return this.set("active_config_etag",f)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(f){return this.set("throttle_metadata",f)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(f){var I=this;return(0,re.Z)(function*(){const O=yield I.openDbPromise;return new Promise((D,se)=>{const Bt=O.transaction([Oc],"readonly").objectStore(Oc),on=I.createCompositeKey(f);try{const zn=Bt.get(on);zn.onerror=Ur=>{se(fa(Ur,"storage-get"))},zn.onsuccess=Ur=>{const ln=Ur.target.result;D(ln?ln.value:void 0)}}catch(zn){se(Eo.create("storage-get",{originalErrorMessage:zn&&zn.message}))}})})()}set(f,I){var O=this;return(0,re.Z)(function*(){const D=yield O.openDbPromise;return new Promise((se,je)=>{const on=D.transaction([Oc],"readwrite").objectStore(Oc),zn=O.createCompositeKey(f);try{const Ur=on.put({compositeKey:zn,value:I});Ur.onerror=ln=>{je(fa(ln,"storage-set"))},Ur.onsuccess=()=>{se()}}catch(Ur){je(Eo.create("storage-set",{originalErrorMessage:Ur&&Ur.message}))}})})()}delete(f){var I=this;return(0,re.Z)(function*(){const O=yield I.openDbPromise;return new Promise((D,se)=>{const Bt=O.transaction([Oc],"readwrite").objectStore(Oc),on=I.createCompositeKey(f);try{const zn=Bt.delete(on);zn.onerror=Ur=>{se(fa(Ur,"storage-delete"))},zn.onsuccess=()=>{D()}}catch(zn){se(Eo.create("storage-delete",{originalErrorMessage:zn&&zn.message}))}})})()}createCompositeKey(f){return[this.appId,this.appName,this.namespace,f].join()}}class Bs{constructor(f){this.storage=f}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var f=this;return(0,re.Z)(function*(){const I=f.storage.getLastFetchStatus(),O=f.storage.getLastSuccessfulFetchTimestampMillis(),D=f.storage.getActiveConfig(),se=yield I;se&&(f.lastFetchStatus=se);const je=yield O;je&&(f.lastSuccessfulFetchTimestampMillis=je);const Bt=yield D;Bt&&(f.activeConfig=Bt)})()}setLastFetchStatus(f){return this.lastFetchStatus=f,this.storage.setLastFetchStatus(f)}setLastSuccessfulFetchTimestampMillis(f){return this.lastSuccessfulFetchTimestampMillis=f,this.storage.setLastSuccessfulFetchTimestampMillis(f)}setActiveConfig(f){return this.activeConfig=f,this.storage.setActiveConfig(f)}}function ah(){return cu.apply(this,arguments)}function cu(){return(cu=(0,re.Z)(function*(){if(!Et())return!1;try{return yield tn()}catch(m){return!1}})).apply(this,arguments)}!function Pd(){(0,ce._registerComponent)(new Kr("remote-config",function m(f,{instanceIdentifier:I}){const O=f.getProvider("app").getImmediate(),D=f.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Eo.create("registration-window");if(!Et())throw Eo.create("indexed-db-unavailable");const{projectId:se,apiKey:je,appId:Bt}=O.options;if(!se)throw Eo.create("registration-project-id");if(!je)throw Eo.create("registration-api-key");if(!Bt)throw Eo.create("registration-app-id");const on=new zl(Bt,O.name,I=I||"firebase"),zn=new Bs(on),Ur=new at(Ua);Ur.logLevel=ni.ERROR;const ln=new zi(D,ce.SDK_VERSION,I,se,je,Bt),ei=new Xo(ln,on),Vi=new pi(ei,on,zn,Ur),jc=new No(O,Vi,zn,on,Ur);return function U(m){const f=function Ns(m){return m&&m._delegate?m._delegate:m}(m);f._initializePromise||(f._initializePromise=f._storageCache.loadFromStorage().then(()=>{f._isInitializationComplete=!0}))}(jc),jc},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Ua,"0.3.4"),(0,ce.registerVersion)(Ua,"0.3.4","esm2017")}();function Wu(){return"object"==typeof indexedDB}function zu(){return new Promise((m,f)=>{try{let I=!0;const O="validate-browser-context-for-indexeddb-analytics-module",D=self.indexedDB.open(O);D.onsuccess=()=>{D.result.close(),I||self.indexedDB.deleteDatabase(O),m(!0)},D.onupgradeneeded=()=>{I=!1},D.onerror=()=>{var se;f((null===(se=D.error)||void 0===se?void 0:se.message)||"")}}catch(I){f(I)}})}function Kl(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Zu extends Error{constructor(f,I,O){super(I),this.code=f,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,Zu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ha.prototype.create)}}class Ha{constructor(f,I,O){this.service=f,this.serviceName=I,this.errors=O}create(f,...I){const O=I[0]||{},D=`${this.service}/${f}`,se=this.errors[f],je=se?function ea(m,f){return m.replace(lu,(I,O)=>{const D=f[O];return null!=D?String(D):`<${O}?>`})}(se,O):"Error";return new Zu(D,`${this.serviceName}: ${je} (${D}).`,O)}}const lu=/\{\$([^}]+)}/g;class yi{constructor(f,I,O){this.name=f,this.instanceFactory=I,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}const Qc="/firebase-messaging-sw.js",Ql="/firebase-cloud-messaging-push-scope",wl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Yl="google.c.a.c_id",xo="google.c.a.c_l",du="google.c.a.ts",ch="google.c.a.e";var hu=(()=>{return(m=hu||(hu={})).PUSH_RECEIVED="push-received",m.NOTIFICATION_CLICKED="notification-clicked",hu;var m})();function Ho(m){const f=new Uint8Array(m);return btoa(String.fromCharCode(...f)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eo(m){const I=(m+"=".repeat((4-m.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(I),D=new Uint8Array(O.length);for(let se=0;se<O.length;++se)D[se]=O.charCodeAt(se);return D}const yc="fcm_token_details_db",za="fcm_token_object_Store";function ac(m){return El.apply(this,arguments)}function El(){return El=(0,re.Z)(function*(m){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(yc))return null;let f=null;return(yield(0,ns.openDb)(yc,5,function(){var O=(0,re.Z)(function*(D){var se;if(D.oldVersion<2||!D.objectStoreNames.contains(za))return;const je=D.transaction.objectStore(za),Bt=yield je.index("fcmSenderId").get(m);if(yield je.clear(),Bt)if(2===D.oldVersion){const on=Bt;if(!on.auth||!on.p256dh||!on.endpoint)return;f={token:on.fcmToken,createTime:null!==(se=on.createTime)&&void 0!==se?se:Date.now(),subscriptionOptions:{auth:on.auth,p256dh:on.p256dh,endpoint:on.endpoint,swScope:on.swScope,vapidKey:"string"==typeof on.vapidKey?on.vapidKey:Ho(on.vapidKey)}}}else if(3===D.oldVersion){const on=Bt;f={token:on.fcmToken,createTime:on.createTime,subscriptionOptions:{auth:Ho(on.auth),p256dh:Ho(on.p256dh),endpoint:on.endpoint,swScope:on.swScope,vapidKey:Ho(on.vapidKey)}}}else if(4===D.oldVersion){const on=Bt;f={token:on.fcmToken,createTime:on.createTime,subscriptionOptions:{auth:Ho(on.auth),p256dh:Ho(on.p256dh),endpoint:on.endpoint,swScope:on.swScope,vapidKey:Ho(on.vapidKey)}}}});return function(D){return O.apply(this,arguments)}}())).close(),yield(0,ns.deleteDb)(yc),yield(0,ns.deleteDb)("fcm_vapid_details_db"),yield(0,ns.deleteDb)("undefined"),Ku(f)?f:null}),El.apply(this,arguments)}function Ku(m){if(!m||!m.subscriptionOptions)return!1;const{subscriptionOptions:f}=m;return"number"==typeof m.createTime&&m.createTime>0&&"string"==typeof m.token&&m.token.length>0&&"string"==typeof f.auth&&f.auth.length>0&&"string"==typeof f.p256dh&&f.p256dh.length>0&&"string"==typeof f.endpoint&&f.endpoint.length>0&&"string"==typeof f.swScope&&f.swScope.length>0&&"string"==typeof f.vapidKey&&f.vapidKey.length>0}const na="firebase-messaging-store";let hr=null;function Jl(){return hr||(hr=(0,ns.openDb)("firebase-messaging-database",1,m=>{0===m.oldVersion&&m.createObjectStore(na)})),hr}function pu(m){return cc.apply(this,arguments)}function cc(){return(cc=(0,re.Z)(function*(m){const f=vc(m),O=yield(yield Jl()).transaction(na).objectStore(na).get(f);if(O)return O;{const D=yield ac(m.appConfig.senderId);if(D)return yield Jc(m,D),D}})).apply(this,arguments)}function Jc(m,f){return gu.apply(this,arguments)}function gu(){return(gu=(0,re.Z)(function*(m,f){const I=vc(m),D=(yield Jl()).transaction(na,"readwrite");return yield D.objectStore(na).put(f,I),yield D.complete,f})).apply(this,arguments)}function Ph(m){return Au.apply(this,arguments)}function Au(){return(Au=(0,re.Z)(function*(m){const f=vc(m),O=(yield Jl()).transaction(na,"readwrite");yield O.objectStore(na).delete(f),yield O.complete})).apply(this,arguments)}function vc({appConfig:m}){return m.appId}const us=new Ha("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Qu(m,f){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,re.Z)(function*(m,f){const I=yield ls(m),O=uc(f),D={method:"POST",headers:I,body:JSON.stringify(O)};let se;try{se=yield(yield fetch(lh(m.appConfig),D)).json()}catch(je){throw us.create("token-subscribe-failed",{errorInfo:je})}if(se.error)throw us.create("token-subscribe-failed",{errorInfo:se.error.message});if(!se.token)throw us.create("token-subscribe-no-token");return se.token})).apply(this,arguments)}function Il(m,f){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,re.Z)(function*(m,f){const I=yield ls(m),O=uc(f.subscriptionOptions),D={method:"PATCH",headers:I,body:JSON.stringify(O)};let se;try{se=yield(yield fetch(`${lh(m.appConfig)}/${f.token}`,D)).json()}catch(je){throw us.create("token-update-failed",{errorInfo:je})}if(se.error)throw us.create("token-update-failed",{errorInfo:se.error.message});if(!se.token)throw us.create("token-update-no-token");return se.token})).apply(this,arguments)}function ma(m,f){return ra.apply(this,arguments)}function ra(){return(ra=(0,re.Z)(function*(m,f){const O={method:"DELETE",headers:yield ls(m)};try{const se=yield(yield fetch(`${lh(m.appConfig)}/${f}`,O)).json();if(se.error)throw us.create("token-unsubscribe-failed",{errorInfo:se.error.message})}catch(D){throw us.create("token-unsubscribe-failed",{errorInfo:D})}})).apply(this,arguments)}function lh({projectId:m}){return`https://fcmregistrations.googleapis.com/v1/projects/${m}/registrations`}function ls(m){return mu.apply(this,arguments)}function mu(){return(mu=(0,re.Z)(function*({appConfig:m,installations:f}){const I=yield f.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":m.apiKey,"x-goog-firebase-installations-auth":`FIS ${I}`})})).apply(this,arguments)}function uc({p256dh:m,auth:f,endpoint:I,vapidKey:O}){const D={web:{endpoint:I,auth:f,p256dh:m}};return O!==wl&&(D.web.applicationPubKey=O),D}const Xl=6048e5;function Ju(m){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,re.Z)(function*(m){const f=yield Nh(m.swRegistration,m.vapidKey),I={vapidKey:m.vapidKey,swScope:m.swRegistration.scope,endpoint:f.endpoint,auth:Ho(f.getKey("auth")),p256dh:Ho(f.getKey("p256dh"))},O=yield pu(m.firebaseDependencies);if(O){if(hh(O.subscriptionOptions,I))return Date.now()>=O.createTime+Xl?Bd(m,{token:O.token,createTime:Date.now(),subscriptionOptions:I}):O.token;try{yield ma(m.firebaseDependencies,O.token)}catch(D){console.warn(D)}return tl(m.firebaseDependencies,I)}return tl(m.firebaseDependencies,I)})).apply(this,arguments)}function dh(m){return el.apply(this,arguments)}function el(){return(el=(0,re.Z)(function*(m){const f=yield pu(m.firebaseDependencies);f&&(yield ma(m.firebaseDependencies,f.token),yield Ph(m.firebaseDependencies));const I=yield m.swRegistration.pushManager.getSubscription();return!I||I.unsubscribe()})).apply(this,arguments)}function Bd(m,f){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,re.Z)(function*(m,f){try{const I=yield Il(m.firebaseDependencies,f),O=Object.assign(Object.assign({},f),{token:I,createTime:Date.now()});return yield Jc(m.firebaseDependencies,O),I}catch(I){throw yield dh(m),I}})).apply(this,arguments)}function tl(m,f){return ds.apply(this,arguments)}function ds(){return(ds=(0,re.Z)(function*(m,f){const O={token:yield Qu(m,f),createTime:Date.now(),subscriptionOptions:f};return yield Jc(m,O),O.token})).apply(this,arguments)}function Nh(m,f){return Al.apply(this,arguments)}function Al(){return(Al=(0,re.Z)(function*(m,f){return(yield m.pushManager.getSubscription())||m.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:eo(f)})})).apply(this,arguments)}function hh(m,f){return f.vapidKey===m.vapidKey&&f.endpoint===m.endpoint&&f.auth===m.auth&&f.p256dh===m.p256dh}function es(m){const f={from:m.from,collapseKey:m.collapse_key,messageId:m.fcmMessageId};return function ed(m,f){if(!f.notification)return;m.notification={};const I=f.notification.title;I&&(m.notification.title=I);const O=f.notification.body;O&&(m.notification.body=O);const D=f.notification.image;D&&(m.notification.image=D)}(f,m),function Vd(m,f){!f.data||(m.data=f.data)}(f,m),function td(m,f){if(!f.fcmOptions)return;m.fcmOptions={};const I=f.fcmOptions.link;I&&(m.fcmOptions.link=I);const O=f.fcmOptions.analytics_label;O&&(m.fcmOptions.analyticsLabel=O)}(f,m),f}function Hd(m){return"object"==typeof m&&!!m&&Yl in m}function _c(m,f){const I=[];for(let O=0;O<m.length;O++)I.push(m.charAt(O)),O<f.length&&I.push(f.charAt(O));return I.join("")}function $d(m){return us.create("missing-app-config-values",{valueName:m})}_c("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_c("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wd{constructor(f,I,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const D=function nl(m){if(!m||!m.options)throw $d("App Configuration Object");if(!m.name)throw $d("App Name");const f=["projectId","apiKey","appId","messagingSenderId"],{options:I}=m;for(const O of f)if(!I[O])throw $d(O);return{appName:m.name,projectId:I.projectId,apiKey:I.apiKey,appId:I.appId,senderId:I.messagingSenderId}}(f);this.firebaseDependencies={app:f,appConfig:D,installations:I,analyticsProvider:O}}_delete(){return Promise.resolve()}}function zd(m){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,re.Z)(function*(m){try{m.swRegistration=yield navigator.serviceWorker.register(Qc,{scope:Ql}),m.swRegistration.update().catch(()=>{})}catch(f){throw us.create("failed-service-worker-registration",{browserErrorMessage:f.message})}})).apply(this,arguments)}function nd(m,f){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,re.Z)(function*(m,f){if(!f&&!m.swRegistration&&(yield zd(m)),f||!m.swRegistration){if(!(f instanceof ServiceWorkerRegistration))throw us.create("invalid-sw-registration");m.swRegistration=f}})).apply(this,arguments)}function $o(m,f){return Du.apply(this,arguments)}function Du(){return(Du=(0,re.Z)(function*(m,f){f?m.vapidKey=f:m.vapidKey||(m.vapidKey=wl)})).apply(this,arguments)}function xu(){return(xu=(0,re.Z)(function*(m,f){if(!navigator)throw us.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw us.create("permission-blocked");return yield $o(m,null==f?void 0:f.vapidKey),yield nd(m,null==f?void 0:f.serviceWorkerRegistration),Ju(m)})).apply(this,arguments)}function Wo(m,f,I){return Za.apply(this,arguments)}function Za(){return(Za=(0,re.Z)(function*(m,f,I){const O=Ra(f);(yield m.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:I[Yl],message_name:I[xo],message_time:I[du],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ra(m){switch(m){case hu.NOTIFICATION_CLICKED:return"notification_open";case hu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Bi(){return(Bi=(0,re.Z)(function*(m,f){const I=f.data;if(!I.isFirebaseMessaging)return;m.onMessageHandler&&I.messageType===hu.PUSH_RECEIVED&&("function"==typeof m.onMessageHandler?m.onMessageHandler(es(I)):m.onMessageHandler.next(es(I)));const O=I.data;Hd(O)&&"1"===O[ch]&&(yield Wo(m,I.messageType,O))})).apply(this,arguments)}const Zd="@firebase/messaging",Ds=m=>{const f=new Wd(m.getProvider("app").getImmediate(),m.getProvider("installations-internal").getImmediate(),m.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",I=>function kh(m,f){return Bi.apply(this,arguments)}(f,I)),f},bc=m=>{const f=m.getProvider("messaging").getImmediate();return{getToken:O=>function Cl(m,f){return xu.apply(this,arguments)}(f,O)}};function fh(){return qd.apply(this,arguments)}function qd(){return(qd=(0,re.Z)(function*(){try{yield zu()}catch(m){return!1}return"undefined"!=typeof window&&Wu()&&Kl()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Fh(){(0,ce._registerComponent)(new yi("messaging",Ds,"PUBLIC")),(0,ce._registerComponent)(new yi("messaging-internal",bc,"PRIVATE")),(0,ce.registerVersion)(Zd,"0.9.8"),(0,ce.registerVersion)(Zd,"0.9.8","esm2017")}();const yu=[];var Qi=(()=>{return(m=Qi||(Qi={}))[m.DEBUG=0]="DEBUG",m[m.VERBOSE=1]="VERBOSE",m[m.INFO=2]="INFO",m[m.WARN=3]="WARN",m[m.ERROR=4]="ERROR",m[m.SILENT=5]="SILENT",Qi;var m})();const Tl={debug:Qi.DEBUG,verbose:Qi.VERBOSE,info:Qi.INFO,warn:Qi.WARN,error:Qi.ERROR,silent:Qi.SILENT},Ef=Qi.INFO,Ma={[Qi.DEBUG]:"log",[Qi.VERBOSE]:"log",[Qi.INFO]:"info",[Qi.WARN]:"warn",[Qi.ERROR]:"error"},rd=(m,f,...I)=>{if(f<m.logLevel)return;const O=(new Date).toISOString(),D=Ma[f];if(!D)throw new Error(`Attempted to log a message with an invalid logType (value: ${f})`);console[D](`[${O}]  ${m.name}:`,...I)};function od(){const m="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof m&&void 0!==m.id}function Bh(){return"object"==typeof indexedDB}function ya(){return new Promise((m,f)=>{try{let I=!0;const O="validate-browser-context-for-indexeddb-analytics-module",D=self.indexedDB.open(O);D.onsuccess=()=>{D.result.close(),I||self.indexedDB.deleteDatabase(O),m(!0)},D.onupgradeneeded=()=>{I=!1},D.onerror=()=>{var se;f((null===(se=D.error)||void 0===se?void 0:se.message)||"")}}catch(I){f(I)}})}function Jd(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ml extends Error{constructor(f,I,O){super(I),this.code=f,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,Ml.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zi.prototype.create)}}class Zi{constructor(f,I,O){this.service=f,this.serviceName=I,this.errors=O}create(f,...I){const O=I[0]||{},D=`${this.service}/${f}`,se=this.errors[f],je=se?function Cf(m,f){return m.replace(ad,(I,O)=>{const D=f[O];return null!=D?String(D):`<${O}?>`})}(se,O):"Error";return new Ml(D,`${this.serviceName}: ${je} (${D}).`,O)}}const ad=/\{\$([^}]+)}/g;function pd(m,f=1e3,I=2){const O=f*Math.pow(I,m),D=Math.round(.5*O*(Math.random()-.5)*2);return Math.min(144e5,O+D)}class Df{constructor(f,I,O){this.name=f,this.instanceFactory=I,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}const kl="analytics",sa="firebase_id",_u="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bh="https://www.googletagmanager.com/gtag/js",gr=new class ph{constructor(f){this.name=f,this._logLevel=Ef,this._logHandler=rd,this._userLogHandler=null,yu.push(this)}get logLevel(){return this._logLevel}set logLevel(f){if(!(f in Qi))throw new TypeError(`Invalid value "${f}" assigned to \`logLevel\``);this._logLevel=f}setLogLevel(f){this._logLevel="string"==typeof f?Tl[f]:f}get logHandler(){return this._logHandler}set logHandler(f){if("function"!=typeof f)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=f}get userLogHandler(){return this._userLogHandler}set userLogHandler(f){this._userLogHandler=f}debug(...f){this._userLogHandler&&this._userLogHandler(this,Qi.DEBUG,...f),this._logHandler(this,Qi.DEBUG,...f)}log(...f){this._userLogHandler&&this._userLogHandler(this,Qi.VERBOSE,...f),this._logHandler(this,Qi.VERBOSE,...f)}info(...f){this._userLogHandler&&this._userLogHandler(this,Qi.INFO,...f),this._logHandler(this,Qi.INFO,...f)}warn(...f){this._userLogHandler&&this._userLogHandler(this,Qi.WARN,...f),this._logHandler(this,Qi.WARN,...f)}error(...f){this._userLogHandler&&this._userLogHandler(this,Qi.ERROR,...f),this._logHandler(this,Qi.ERROR,...f)}}("@firebase/analytics");function Nc(m){return Promise.all(m.map(f=>f.catch(I=>I)))}function hs(m,f){const I=document.createElement("script");I.src=`${bh}?l=${m}&id=${f}`,I.async=!0,document.head.appendChild(I)}function wh(m,f,I,O,D,se){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,re.Z)(function*(m,f,I,O,D,se){const je=O[D];try{if(je)yield f[je];else{const on=(yield Nc(I)).find(zn=>zn.measurementId===D);on&&(yield f[on.appId])}}catch(Bt){gr.error(Bt)}m("config",D,se)})).apply(this,arguments)}function Qs(m,f,I,O,D){return kc.apply(this,arguments)}function kc(){return(kc=(0,re.Z)(function*(m,f,I,O,D){try{let se=[];if(D&&D.send_to){let je=D.send_to;Array.isArray(je)||(je=[je]);const Bt=yield Nc(I);for(const on of je){const zn=Bt.find(ln=>ln.measurementId===on),Ur=zn&&f[zn.appId];if(!Ur){se=[];break}se.push(Ur)}}0===se.length&&(se=Object.values(f)),yield Promise.all(se),m("event",O,D||{})}catch(se){gr.error(se)}})).apply(this,arguments)}function Ka(){const m=window.document.getElementsByTagName("script");for(const f of Object.values(m))if(f.src&&f.src.includes(bh))return f;return null}const $s=new Zi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Qa=new class lc{constructor(f={},I=1e3){this.throttleMetadata=f,this.intervalMillis=I}getThrottleMetadata(f){return this.throttleMetadata[f]}setThrottleMetadata(f,I){this.throttleMetadata[f]=I}deleteThrottleMetadata(f){delete this.throttleMetadata[f]}};function _a(m){return new Headers({Accept:"application/json","x-goog-api-key":m})}function ko(m){return gd.apply(this,arguments)}function gd(){return(gd=(0,re.Z)(function*(m){var f;const{appId:I,apiKey:O}=m,D={method:"GET",headers:_a(O)},se=_u.replace("{app-id}",I),je=yield fetch(se,D);if(200!==je.status&&304!==je.status){let Bt="";try{const on=yield je.json();(null===(f=on.error)||void 0===f?void 0:f.message)&&(Bt=on.error.message)}catch(on){}throw $s.create("config-fetch-failed",{httpStatus:je.status,responseMessage:Bt})}return je.json()})).apply(this,arguments)}function Ll(m){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,re.Z)(function*(m,f=Qa,I){const{appId:O,apiKey:D,measurementId:se}=m.options;if(!O)throw $s.create("no-app-id");if(!D){if(se)return{measurementId:se,appId:O};throw $s.create("no-api-key")}const je=f.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Bt=new Ya;return setTimeout((0,re.Z)(function*(){Bt.abort()}),void 0!==I?I:6e4),md({appId:O,apiKey:D,measurementId:se},je,Bt,f)})).apply(this,arguments)}function md(m,f,I){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,re.Z)(function*(m,{throttleEndTimeMillis:f,backoffCount:I},O,D=Qa){const{appId:se,measurementId:je}=m;try{yield cn(O,f)}catch(Bt){if(je)return gr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${Bt.message}]`),{appId:se,measurementId:je};throw Bt}try{const Bt=yield ko(m);return D.deleteThrottleMetadata(se),Bt}catch(Bt){if(!Xh(Bt)){if(D.deleteThrottleMetadata(se),je)return gr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${Bt.message}]`),{appId:se,measurementId:je};throw Bt}const on=503===Number(Bt.customData.httpStatus)?pd(I,D.intervalMillis,30):pd(I,D.intervalMillis),zn={throttleEndTimeMillis:Date.now()+on,backoffCount:I+1};return D.setThrottleMetadata(se,zn),gr.debug(`Calling attemptFetch again in ${on} millis`),md(m,zn,O,D)}})).apply(this,arguments)}function cn(m,f){return new Promise((I,O)=>{const D=Math.max(f-Date.now(),0),se=setTimeout(I,D);m.addEventListener(()=>{clearTimeout(se),O($s.create("fetch-throttle",{throttleEndTimeMillis:f}))})})}function Xh(m){if(!(m instanceof Ml&&m.customData))return!1;const f=Number(m.customData.httpStatus);return 429===f||500===f||503===f||504===f}class Ya{constructor(){this.listeners=[]}addEventListener(f){this.listeners.push(f)}abort(){this.listeners.forEach(f=>f())}}function Ep(){return bu.apply(this,arguments)}function bu(){return(bu=(0,re.Z)(function*(){if(!Bh())return gr.warn($s.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ya()}catch(m){return gr.warn($s.create("indexeddb-unavailable",{errorInfo:m}).message),!1}return!0})).apply(this,arguments)}function Ul(){return(Ul=(0,re.Z)(function*(m,f,I,O,D,se,je){var Bt;const on=Ll(m);on.then(Vi=>{I[Vi.measurementId]=Vi.appId,m.options.measurementId&&Vi.measurementId!==m.options.measurementId&&gr.warn(`The measurement ID in the local Firebase config (${m.options.measurementId}) does not match the measurement ID fetched from the server (${Vi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Vi=>gr.error(Vi)),f.push(on);const zn=Ep().then(Vi=>{if(Vi)return O.getId()}),[Ur,ln]=yield Promise.all([on,zn]);Ka()||hs(se,Ur.measurementId),D("js",new Date);const ei=null!==(Bt=null==je?void 0:je.config)&&void 0!==Bt?Bt:{};return ei.origin="firebase",ei.update=!0,null!=ln&&(ei[sa]=ln),D("config",Ur.measurementId,ei),Ur.measurementId})).apply(this,arguments)}class cl{constructor(f){this.app=f}_delete(){return delete Ic[this.app.options.appId],Promise.resolve()}}let Ic={},Xd=[];const eh={};let vd,Fu,Ro="dataLayer",wu=!1;function Ih(m,f,I){!function Zf(){const m=[];if(od()&&m.push("This is a browser extension environment."),Jd()||m.push("Cookies are not available."),m.length>0){const f=m.map((O,D)=>`(${D+1}) ${O}`).join(" "),I=$s.create("invalid-analytics-context",{errorInfo:f});gr.warn(I.message)}}();const O=m.options.appId;if(!O)throw $s.create("no-app-id");if(!m.options.apiKey){if(!m.options.measurementId)throw $s.create("no-api-key");gr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${m.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ic[O])throw $s.create("already-exists",{id:O});if(!wu){!function no(m){let f=[];Array.isArray(window[m])?f=window[m]:window[m]=f}(Ro);const{wrappedGtag:se,gtagCore:je}=function ws(m,f,I,O,D){let se=function(...je){window[O].push(arguments)};return window[D]&&"function"==typeof window[D]&&(se=window[D]),window[D]=function oa(m,f,I,O){function se(){return(se=(0,re.Z)(function*(je,Bt,on){try{"event"===je?yield Qs(m,f,I,Bt,on):"config"===je?yield wh(m,f,I,O,Bt,on):m("set",Bt)}catch(zn){gr.error(zn)}})).apply(this,arguments)}return function D(je,Bt,on){return se.apply(this,arguments)}}(se,m,f,I),{gtagCore:se,wrappedGtag:window[D]}}(Ic,Xd,eh,Ro,"gtag");Fu=se,vd=je,wu=!0}return Ic[O]=function Fc(m,f,I,O,D,se,je){return Ul.apply(this,arguments)}(m,Xd,eh,f,vd,Ro,I),new cl(m)}function Na(){return(Na=(0,re.Z)(function*(m,f,I,O,D){if(D&&D.global)m("event",I,O);else{const se=yield f;m("event",I,Object.assign(Object.assign({},O),{send_to:se}))}})).apply(this,arguments)}function b(){return L.apply(this,arguments)}function L(){return(L=(0,re.Z)(function*(){if(od()||!Jd()||!Bh())return!1;try{return yield ya()}catch(m){return!1}})).apply(this,arguments)}const gt="@firebase/analytics";!function ut(){(0,ce._registerComponent)(new Df(kl,(f,{options:I})=>Ih(f.getProvider("app").getImmediate(),f.getProvider("installations-internal").getImmediate(),I),"PUBLIC")),(0,ce._registerComponent)(new Df("analytics-internal",function m(f){try{const I=f.getProvider(kl).getImmediate();return{logEvent:(O,D,se)=>function Qe(m,f,I,O){m=function nu(m){return m&&m._delegate?m._delegate:m}(m),function xf(m,f,I,O,D){return Na.apply(this,arguments)}(Fu,Ic[m.app.options.appId],f,I,O).catch(D=>gr.error(D))}(I,O,D,se)}}catch(I){throw $s.create("interop-component-reg-failed",{reason:I})}},"PRIVATE")),(0,ce.registerVersion)(gt,"0.7.5"),(0,ce.registerVersion)(gt,"0.7.5","esm2017")}();var lt=F(4408),et=F(7565);const Pt=new class wt extends et.v{}(class ht extends lt.o{constructor(f,I){super(f,I),this.scheduler=f,this.work=I}schedule(f,I=0){return I>0?super.schedule(f,I):(this.delay=I,this.state=f,this.scheduler.flush(this),this)}execute(f,I){return I>0||this.closed?super.execute(f,I):this._execute(f,I)}requestAsyncId(f,I,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(f,I,O):f.flush(this)}});var sn=F(4986),Zt=F(8505),un=F(5363),fn=F(9468);const mn=new a.GfV("7.3.0"),Rn="__angularfire_symbol__analyticsIsSupportedValue",ur="__angularfire_symbol__analyticsIsSupported",Or="__angularfire_symbol__remoteConfigIsSupportedValue",Wr="__angularfire_symbol__remoteConfigIsSupported",v="__angularfire_symbol__messagingIsSupportedValue",u="__angularfire_symbol__messagingIsSupported";function be(m,f,I){if(f){if(1===f.length)return f[0];const se=f.filter(je=>je.app===I);if(1===se.length)return se[0]}return I.container.getProvider(m).getImmediate({optional:!0})}globalThis[ur]||(globalThis[ur]=b().then(m=>globalThis[Rn]=m).catch(()=>globalThis[Rn]=!1)),globalThis[u]||(globalThis[u]=fh().then(m=>globalThis[v]=m).catch(()=>globalThis[v]=!1)),globalThis[Wr]||(globalThis[Wr]=ah().then(m=>globalThis[Or]=m).catch(()=>globalThis[Or]=!1));const ct=(m,f)=>{const I=f?[f]:(0,y.C6)(),O=[];return I.forEach(D=>{D.container.getProvider(m).instances.forEach(je=>{O.includes(je)||O.push(je)})}),O};function jt(){}class gn{constructor(f,I=Pt){this.zone=f,this.delegate=I}now(){return this.delegate.now()}schedule(f,I,O){const D=this.zone;return this.delegate.schedule(function(je){D.runGuarded(()=>{f.apply(this,[je])})},I,O)}}class Fn{constructor(f){this.zone=f,this.task=null}call(f,I){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jt,{},jt,jt)),I.pipe((0,Zt.b)({next:O,complete:O,error:O})).subscribe(f).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xt=(()=>{class m{constructor(I){this.ngZone=I,this.outsideAngular=I.runOutsideAngular(()=>new gn(Zone.current)),this.insideAngular=I.run(()=>new gn(Zone.current,sn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return m.\u0275fac=function(I){return new(I||m)(a.LFG(a.R0b))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();function Mr(){const m=globalThis.\u0275AngularFireScheduler;if(!m)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return m}function Fa(m){return m.pipe((0,un.Q)(Mr().outsideAngular))}function Fo(m){return Mr(),function dc(m){return function(I){return(I=I.lift(new Fn(m.ngZone))).pipe((0,fn.R)(m.outsideAngular),(0,un.Q)(m.insideAngular))}}(Mr())(m)}},7556:(Kt,st,F)=>{"use strict";F.d(st,{e:()=>Pe});var a=F(127),y=F(4004),re=F(5e3),ce=F(1205),Ie=F(2297),ae=F(832);let Pe=(()=>{class Ne{constructor(Ee,fe,Ae,Ce){this.afAuth=Ee,this.afs=fe,this.router=Ae,this.ngZone=Ce,this.ts=a.Z.firestore.Timestamp.now(),this.afAuth.authState.subscribe(ne=>{ne?(this.userData=ne,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}getHouse(Ee){return this.afs.doc(`sale/${Ee}`).valueChanges()}getHouses(){return this.listingCollection=this.afs.collection("buy",Ee=>Ee.orderBy("listed","desc")),this.listingCollection.snapshotChanges().pipe((0,y.U)(Ee=>Ee.map(fe=>{const Ae=fe.payload.doc.data();return Object.assign({id:fe.payload.doc.id},Ae)})))}SignIn(Ee,fe){return this.afAuth.signInWithEmailAndPassword(Ee,fe).then(Ae=>{this.ngZone.run(()=>{this.router.navigate(["/login"])}),this.SetUserData(Ae.user)}).catch(Ae=>{window.alert(Ae.message)})}SignUp(Ee,fe){return this.afAuth.createUserWithEmailAndPassword(Ee,fe).then(Ae=>{this.SendVerificationMail(),this.SetUserData(Ae.user)}).catch(Ae=>{window.alert(Ae.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(Ee=>Ee.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(Ee){return this.afAuth.sendPasswordResetEmail(Ee).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(fe=>{window.alert(fe)})}get isLoggedIn(){const Ee=JSON.parse(localStorage.getItem("user"));return null!==Ee&&!1!==Ee.emailVerified}GoogleAuth(){return this.AuthLogin(new a.Z.auth.GoogleAuthProvider).then(Ee=>{Ee&&this.router.navigate(["login"])})}AuthLogin(Ee){return this.afAuth.signInWithPopup(Ee).then(fe=>{this.ngZone.run(()=>{this.router.navigate(["login"])}),this.SetUserData(fe.user)}).catch(fe=>{window.alert(fe)})}SetUserData(Ee){return this.afs.doc(`users/${Ee.uid}`).set({uid:Ee.uid,email:Ee.email,displayName:Ee.displayName,photoURL:Ee.photoURL,emailVerified:Ee.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",window.location.reload()})}getUser(Ee){return this.afs.doc(`users/${Ee}`).valueChanges()}updateUser(Ee,fe){this.afs.doc("users/"+Ee).update(fe).then(()=>{window.location.reload()})}createListing(Ee){return this.afs.collection("listings").add(Ee).then(()=>{window.location.reload()}).catch(fe=>{window.alert(fe)})}getMyListings(Ee){return this.listingCollection=this.afs.collection("listings",fe=>fe.orderBy("uploaded","desc").where("uploader_id","==",Ee)),this.listingCollection.snapshotChanges().pipe((0,y.U)(fe=>fe.map(Ae=>{const Ce=Ae.payload.doc.data();return Object.assign({id:Ae.payload.doc.id},Ce)})))}getListing(Ee){return this.afs.doc(`listings/${Ee}`).valueChanges()}saveFavListing(Ee){return this.afs.collection("users/"+this.userData.uid+"/saved").doc(Ee).set({id:Ee,fav:!0})}getFavListing(){return this.afs.collection("users/"+this.userData.uid+"/saved").valueChanges()}getRecentListings(){return this.listingCollection=this.afs.collection("listings",Ee=>Ee.orderBy("uploaded","desc").limit(5)),this.listingCollection.snapshotChanges().pipe((0,y.U)(Ee=>Ee.map(fe=>{const Ae=fe.payload.doc.data();return Object.assign({id:fe.payload.doc.id},Ae)})))}getListings(){return this.listingCollection=this.afs.collection("listings",Ee=>Ee.orderBy("uploaded","desc")),this.listingCollection.snapshotChanges().pipe((0,y.U)(Ee=>Ee.map(fe=>{const Ae=fe.payload.doc.data();return Object.assign({id:fe.payload.doc.id},Ae)})))}getLandSaleListings(){return this.listingCollection=this.afs.collection("listings",Ee=>Ee.orderBy("uploaded","desc").where("type","==","land_sale")),this.listingCollection.snapshotChanges().pipe((0,y.U)(Ee=>Ee.map(fe=>{const Ae=fe.payload.doc.data();return Object.assign({id:fe.payload.doc.id},Ae)})))}getLandLeaseListings(){return this.listingCollection=this.afs.collection("listings",Ee=>Ee.orderBy("uploaded","desc").where("type","==","land_lease")),this.listingCollection.snapshotChanges().pipe((0,y.U)(Ee=>Ee.map(fe=>{const Ae=fe.payload.doc.data();return Object.assign({id:fe.payload.doc.id},Ae)})))}getEventSpacesListings(){return this.listingCollection=this.afs.collection("listings",Ee=>Ee.orderBy("uploaded","desc").where("type","==","event_spaces")),this.listingCollection.snapshotChanges().pipe((0,y.U)(Ee=>Ee.map(fe=>{const Ae=fe.payload.doc.data();return Object.assign({id:fe.payload.doc.id},Ae)})))}getHomeSaleListings(){return this.listingCollection=this.afs.collection("listings",Ee=>Ee.orderBy("uploaded","desc").where("type","==","home_sale")),this.listingCollection.snapshotChanges().pipe((0,y.U)(Ee=>Ee.map(fe=>{const Ae=fe.payload.doc.data();return Object.assign({id:fe.payload.doc.id},Ae)})))}getHomeRentListings(){return this.listingCollection=this.afs.collection("listings",Ee=>Ee.orderBy("uploaded","desc").where("type","==","home_rent")),this.listingCollection.snapshotChanges().pipe((0,y.U)(Ee=>Ee.map(fe=>{const Ae=fe.payload.doc.data();return Object.assign({id:fe.payload.doc.id},Ae)})))}getVillasListings(){return this.listingCollection=this.afs.collection("listings",Ee=>Ee.orderBy("uploaded","desc").where("type","==","villas")),this.listingCollection.snapshotChanges().pipe((0,y.U)(Ee=>Ee.map(fe=>{const Ae=fe.payload.doc.data();return Object.assign({id:fe.payload.doc.id},Ae)})))}getApartmentsListings(){return this.listingCollection=this.afs.collection("listings",Ee=>Ee.orderBy("uploaded","desc").where("type","==","apartments")),this.listingCollection.snapshotChanges().pipe((0,y.U)(Ee=>Ee.map(fe=>{const Ae=fe.payload.doc.data();return Object.assign({id:fe.payload.doc.id},Ae)})))}getBeachHouseListings(){return this.listingCollection=this.afs.collection("listings",Ee=>Ee.orderBy("uploaded","desc").where("type","==","beach-house")),this.listingCollection.snapshotChanges().pipe((0,y.U)(Ee=>Ee.map(fe=>{const Ae=fe.payload.doc.data();return Object.assign({id:fe.payload.doc.id},Ae)})))}getDuplexListings(){return this.listingCollection=this.afs.collection("listings",Ee=>Ee.orderBy("uploaded","desc").where("type","==","duplex")),this.listingCollection.snapshotChanges().pipe((0,y.U)(Ee=>Ee.map(fe=>{const Ae=fe.payload.doc.data();return Object.assign({id:fe.payload.doc.id},Ae)})))}getUploaderID(Ee){return this.afs.doc(`users/${Ee}`).valueChanges()}getBlog(Ee){return this.afs.doc(`blogs/${Ee}`).valueChanges()}getBlogs(){return this.blogCollection=this.afs.collection("blogs",Ee=>Ee.orderBy("uploaded","desc")),this.blogCollection.snapshotChanges().pipe((0,y.U)(Ee=>Ee.map(fe=>{const Ae=fe.payload.doc.data();return Object.assign({id:fe.payload.doc.id},Ae)})))}getFirstBlogs(){return this.blogCollection=this.afs.collection("blogs",Ee=>Ee.orderBy("uploaded","asc").limit(2)),this.blogCollection.snapshotChanges().pipe((0,y.U)(Ee=>Ee.map(fe=>{const Ae=fe.payload.doc.data();return Object.assign({id:fe.payload.doc.id},Ae)})))}updateBlog(Ee,fe){this.afs.doc("blogs/"+Ee).update(fe).then(()=>{this.router.navigate(["dashboard/blog"]).then(()=>{})})}createBlog(Ee){return this.afs.collection("blogs").add(Ee)}deleteBlog(Ee){this.afs.doc("blogs/"+Ee).delete()}}return Ne.\u0275fac=function(Ee){return new(Ee||Ne)(re.LFG(ce.zQ),re.LFG(Ie.ST),re.LFG(ae.F0),re.LFG(re.R0b))},Ne.\u0275prov=re.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})()},4466:(Kt,st,F)=>{"use strict";F.d(st,{m:()=>Pe});var a=F(9808),y=F(832),re=F(6955),ce=F(2382),Ie=F(7274),ae=F(5e3);let Pe=(()=>{class Ne{}return Ne.\u0275fac=function(Ee){return new(Ee||Ne)},Ne.\u0275mod=ae.oAB({type:Ne}),Ne.\u0275inj=ae.cJS({imports:[[a.ez,y.Bz,ce.UX,re.gK.forRoot()],re.gK,Ie.$L]}),Ne})()},2340:(Kt,st,F)=>{"use strict";F.d(st,{N:()=>a});const a={production:!0,firebase:{apiKey:"AIzaSyBVxUxveTfOX-87KVycxYTeAeIueA-mH8E",authDomain:"bluerays-ch.firebaseapp.com",projectId:"bluerays-ch",storageBucket:"bluerays-ch.appspot.com",messagingSenderId:"15895974355",appId:"1:15895974355:web:42351fade918fb04a39f26"},mapbox:{accessToken:"pk.eyJ1IjoibXV0c2FtaSIsImEiOiJja3loOXQyOWwxamJ5MnVxaGdtNm8ybjkzIn0.2UreLyCLVQMRLr-fN-ZMyQ"}}},2535:(Kt,st,F)=>{"use strict";var a=F(2313),y=F(5e3),re=F(832),ce=F(7556);let Ie=(()=>{class St{constructor(Ht){this.authService=Ht}ngOnInit(){}}return St.\u0275fac=function(Ht){return new(Ht||St)(y.Y36(ce.e))},St.\u0275cmp=y.Xpm({type:St,selectors:[["app-forgot-password"]],decls:17,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"text-center"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl"],["passwordResetEmail",""],["type","submit","value","Reset Password",1,"btn","btnPrimary",3,"click"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"]],template:function(Ht,En){if(1&Ht){const or=y.EpF();y.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),y._uU(4,"Reset Password"),y.qZA(),y.TgZ(5,"p",3),y._uU(6,"Please enter your email address to request a password reset."),y.qZA(),y.TgZ(7,"div",4),y._UZ(8,"input",5,6),y.qZA(),y.TgZ(10,"div",4)(11,"input",7),y.NdJ("click",function(){y.CHM(or);const _r=y.MAs(9);return En.authService.ForgotPassword(_r.value)}),y.qZA()()(),y.TgZ(12,"div",8)(13,"span"),y._uU(14,"Go back to ? "),y.TgZ(15,"span",9),y._uU(16,"Log In"),y.qZA()()()()()}},directives:[re.rH],styles:[""]}),St})();var ae=F(3577),Pe=F.n(ae),Ne=F(6955),Le=F(9808),Ee=F(5698);const fe=function(St){return["/listings/details",St]};function Ae(St,Ar){if(1&St){const Ht=y.EpF();y.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"a",5),y._UZ(5,"img",6),y.qZA(),y.TgZ(6,"div",7)(7,"span",8),y._UZ(8,"i",9),y.qZA(),y.TgZ(9,"span",10),y._uU(10," Pending"),y.qZA()(),y.TgZ(11,"div",11)(12,"a",12),y.NdJ("click",function(){const nr=y.CHM(Ht).$implicit;return y.oxw().favourite(nr.id)}),y._UZ(13,"i",13),y.qZA()()()(),y.TgZ(14,"div",3)(15,"div",14)(16,"h5",15)(17,"a",16),y._uU(18),y.qZA()(),y.TgZ(19,"span",17),y._uU(20),y.ALo(21,"currency"),y.qZA(),y.TgZ(22,"p",18),y._uU(23),y.qZA(),y.TgZ(24,"div",19)(25,"div",20),y._UZ(26,"i",21),y.TgZ(27,"span",22),y._uU(28),y.qZA()(),y.TgZ(29,"div",23),y._UZ(30,"i",24),y.TgZ(31,"span",22),y._uU(32),y.qZA()(),y.TgZ(33,"div",25),y._UZ(34,"i",26),y.TgZ(35,"span",22),y._uU(36),y.ALo(37,"number"),y.qZA()()(),y.TgZ(38,"div",27)(39,"a",28),y._uU(40,"View Details"),y.qZA()()()()()()}if(2&St){const Ht=Ar.$implicit;y.xp6(4),y.Q6J("routerLink",y.VKq(16,fe,Ht.id)),y.xp6(1),y.Q6J("src",null==Ht.gallery[0]?null:Ht.gallery[0].url,y.LSH),y.xp6(12),y.Q6J("routerLink",y.VKq(18,fe,Ht.id))("title",Ht.name),y.xp6(1),y.Oqu(Ht.name),y.xp6(2),y.Oqu(y.xi3(21,11,Ht.price,"KES ")),y.xp6(3),y.Oqu(Ht.description),y.xp6(5),y.Oqu(Ht.beds),y.xp6(4),y.Oqu(Ht.bathrooms),y.xp6(4),y.hij("",y.lcZ(37,14,Ht.size)," sqft"),y.xp6(3),y.Q6J("routerLink",y.VKq(20,fe,Ht.id))}}let Ce=(()=>{class St{constructor(Ht){this.auth=Ht,this.mailText="",this.auth.getRecentListings().subscribe(En=>{this.recent=En,this.auth.getFavListing().pipe((0,Ee.q)(1)).subscribe(or=>{this.favourites=or})})}ngOnInit(){}checkFav(Ht){this.recent.find(En=>En.id===Ht)&&console.log("donkey",this.recent.find(En=>En.id===Ht).id)}favourite(Ht){this.auth.saveFavListing(Ht)}getUploaderEmail(Ht){this.auth.getUploaderID(Ht).forEach(En=>{this.mailText="mailto:"+(null==En?void 0:En.email),window.location.href=this.mailText})}getUploaderPhone(Ht){this.auth.getUploaderID(Ht).forEach(En=>{this.uploaderPhone=null==En?void 0:En.phoneNumber,this.mailText="tel:"+(null==En?void 0:En.phoneNumber),window.location.href=this.mailText})}sendMail(){}}return St.\u0275fac=function(Ht){return new(Ht||St)(y.Y36(ce.e))},St.\u0275cmp=y.Xpm({type:St,selectors:[["app-recent-listings"]],decls:1,vars:1,consts:[["class","listing listing-list",4,"ngFor","ngForOf"],[1,"listing","listing-list"],[1,"row"],[1,"col-sm-6"],[1,"listing-thumbnail"],[3,"routerLink"],["onerror","this.onerror=null;this.src='https://via.placeholder.com/292x300?';","alt","listing",2,"height","100%","width","auto",3,"src"],[1,"listing-badges"],[1,"listing-badge","featured"],[1,"fas","fa-star"],[1,"listing-badge","pending"],[1,"listing-controls"],[1,"favorite",3,"click"],[1,"far","fa-heart"],[1,"listing-body"],[1,"listing-title"],[3,"routerLink","title"],[1,"listing-price"],[1,"listing-text","ellipsis2"],[1,"acr-listing-icons"],["data-toggle","tooltip","title","","data-original-title","Beds",1,"acr-listing-icon"],[1,"flaticon-bedroom"],[1,"acr-listing-icon-value"],["data-toggle","tooltip","title","","data-original-title","Bathrooms",1,"acr-listing-icon"],[1,"flaticon-bathroom"],["data-toggle","tooltip","title","","data-original-title","Square Feet",1,"acr-listing-icon"],[1,"flaticon-ruler"],[1,"listing-gallery-wrapper"],[1,"btn-custom","btn-sm","secondary",3,"routerLink"]],template:function(Ht,En){1&Ht&&y.YNc(0,Ae,41,22,"div",0),2&Ht&&y.Q6J("ngForOf",En.recent)},directives:[Le.sg,re.yS],pipes:[Le.H9,Le.JJ],styles:[""]}),St})();function ne(St,Ar){if(1&St&&(y.TgZ(0,"p")(1,"a",42),y._uU(2),y.qZA()()),2&St){const Ht=y.oxw().$implicit;y.xp6(2),y.Oqu(Ht.uploader_displayName)}}function ee(St,Ar){if(1&St&&(y.TgZ(0,"p")(1,"a",42),y._uU(2),y.qZA()()),2&St){const Ht=y.oxw().$implicit;y.xp6(2),y.Oqu(Ht.uploader_id)}}const Se=function(St){return["/listings/details",St]};function ue(St,Ar){if(1&St){const Ht=y.EpF();y.TgZ(0,"div",1)(1,"div",2)(2,"a",3),y._UZ(3,"img",4),y.qZA(),y.TgZ(4,"div",5)(5,"span",6),y._UZ(6,"i",7),y.qZA(),y.TgZ(7,"span",8),y._uU(8," On Sale"),y.qZA()(),y.TgZ(9,"div",9)(10,"a",10),y._UZ(11,"i",11),y.qZA(),y.TgZ(12,"a",12),y._UZ(13,"i",13),y.qZA()()(),y.TgZ(14,"div",14)(15,"div",15),y._UZ(16,"img",16),y.TgZ(17,"div",17),y.YNc(18,ne,3,1,"p",18),y.YNc(19,ee,3,1,"p",18),y.TgZ(20,"span",19),y._uU(21),y.ALo(22,"date"),y.qZA()(),y.TgZ(23,"div",20)(24,"a",21),y._UZ(25,"i",22),y.qZA(),y.TgZ(26,"div",23)(27,"ul")(28,"li")(29,"a",24),y.NdJ("click",function(){const nr=y.CHM(Ht).$implicit;return y.oxw().getUploaderPhone(nr.uploader_id)}),y._UZ(30,"i",25),y._uU(31," Call Agent"),y.qZA()(),y.TgZ(32,"li")(33,"a",24),y.NdJ("click",function(){const nr=y.CHM(Ht).$implicit;return y.oxw().getUploaderEmail(nr.uploader_id)}),y._UZ(34,"i",26),y._uU(35," Send Message"),y.qZA()(),y.TgZ(36,"li")(37,"a",3),y._UZ(38,"i",27),y._uU(39," Book Tour"),y.qZA()()()()()(),y.TgZ(40,"h5",28)(41,"a",29),y._uU(42),y.qZA()(),y.TgZ(43,"span",30),y._uU(44),y.ALo(45,"currency"),y.qZA(),y.TgZ(46,"p",31),y._uU(47),y.qZA(),y.TgZ(48,"div",32)(49,"div",33),y._UZ(50,"i",34),y.TgZ(51,"span",35),y._uU(52),y.qZA()(),y.TgZ(53,"div",36),y._UZ(54,"i",37),y.TgZ(55,"span",35),y._uU(56),y.qZA()(),y.TgZ(57,"div",38),y._UZ(58,"i",39),y.TgZ(59,"span",35),y._uU(60),y.qZA()()(),y.TgZ(61,"div",40)(62,"a",41),y._uU(63,"View Details"),y.qZA()()()()}if(2&St){const Ht=Ar.$implicit;y.xp6(2),y.Q6J("routerLink",y.VKq(21,Se,Ht.id)),y.xp6(1),y.Q6J("src",null==Ht.gallery[0]?null:Ht.gallery[0].url,y.LSH),y.xp6(13),y.Q6J("src",Ht.uploader_photoURL,y.LSH),y.xp6(2),y.Q6J("ngIf",Ht.uploader_displayName),y.xp6(1),y.Q6J("ngIf",!Ht.uploader_displayName),y.xp6(2),y.Oqu(y.xi3(22,15,Ht.uploaded.toDate(),"medium")),y.xp6(16),y.Q6J("routerLink",y.VKq(23,Se,Ht.id)),y.xp6(4),y.Q6J("routerLink",y.VKq(25,Se,Ht.id)),y.xp6(1),y.Oqu(Ht.name),y.xp6(2),y.Oqu(y.xi3(45,18,Ht.price,"KES ")),y.xp6(3),y.Oqu(Ht.description),y.xp6(5),y.Oqu(Ht.beds),y.xp6(4),y.Oqu(Ht.bathrooms),y.xp6(4),y.Oqu(Ht.size),y.xp6(2),y.Q6J("routerLink",y.VKq(27,Se,Ht.id))}}let Re=(()=>{class St{constructor(Ht){this.auth=Ht,this.auth.getRecentListings().subscribe(En=>{this.recent=En})}ngOnInit(){}getUploaderEmail(Ht){this.auth.getUploaderID(Ht).forEach(En=>{this.mailText="mailto:"+(null==En?void 0:En.email),window.location.href=this.mailText})}getUploaderPhone(Ht){this.auth.getUploaderID(Ht).forEach(En=>{this.uploaderPhone=null==En?void 0:En.phoneNumber,this.mailText="tel:"+(null==En?void 0:En.phoneNumber),window.location.href=this.mailText})}}return St.\u0275fac=function(Ht){return new(Ht||St)(y.Y36(ce.e))},St.\u0275cmp=y.Xpm({type:St,selectors:[["app-recent-listings-grid"]],decls:1,vars:1,consts:[["class","listing",4,"ngFor","ngForOf"],[1,"listing"],[1,"listing-thumbnail"],[3,"routerLink"],["onerror","this.onerror=null;this.src='https://via.placeholder.com/292x300?';","alt","listing",2,"height","100%",3,"src"],[1,"listing-badges"],[1,"listing-badge","featured"],[1,"fas","fa-star"],[1,"listing-badge","sale"],[1,"listing-controls"],["href","#",1,"favorite"],[1,"far","fa-heart"],["href","#",1,"compare"],[1,"fas","fa-sync-alt"],[1,"listing-body"],[1,"listing-author"],["onerror","this.onerror=null;this.src='https://via.placeholder.com/292x300?';","alt","author",3,"src"],[1,"listing-author-body"],[4,"ngIf"],[1,"listing-date"],[1,"dropdown","options-dropdown"],["href","#","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false"],[1,"fas","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-right"],[3,"click"],[1,"fas","fa-phone"],[1,"fas","fa-envelope"],[1,"fas","fa-bookmark"],[1,"listing-title"],["title","item.name",3,"routerLink"],[1,"listing-price"],[1,"listing-text","ellipsis2"],[1,"acr-listing-icons"],["data-toggle","tooltip","title","","data-original-title","Beds",1,"acr-listing-icon"],[1,"flaticon-bedroom"],[1,"acr-listing-icon-value"],["data-toggle","tooltip","title","","data-original-title","Bathrooms",1,"acr-listing-icon"],[1,"flaticon-bathroom"],["data-toggle","tooltip","title","","data-original-title","Square Feet",1,"acr-listing-icon"],[1,"flaticon-ruler"],[1,"listing-gallery-wrapper"],[1,"btn-custom","btn-sm","secondary",3,"routerLink"],["href","#"]],template:function(Ht,En){1&Ht&&y.YNc(0,ue,64,29,"div",0),2&Ht&&y.Q6J("ngForOf",En.recent)},directives:[Le.sg,re.yS,Le.O5],pipes:[Le.uU,Le.H9],styles:[""]}),St})();function we(St,Ar){if(1&St&&(y.TgZ(0,"div"),y._uU(1),y.qZA()),2&St){const Ht=y.oxw(2).results;y.xp6(1),y.hij(" No results have been found for ",Ht.query,". ")}}const it=function(St){return["/listings/details",St]};function Ze(St,Ar){if(1&St&&(y.TgZ(0,"div")(1,"div",85)(2,"div",31)(3,"div",86)(4,"div",87)(5,"a",88),y._UZ(6,"img",89),y.qZA()()(),y.TgZ(7,"div",90)(8,"div",91)(9,"h6",92)(10,"a",93),y._UZ(11,"ais-highlight",94),y.qZA()(),y.TgZ(12,"span",95),y._uU(13),y.ALo(14,"currency"),y.qZA(),y.TgZ(15,"div",96)(16,"div",97),y._UZ(17,"i",98),y.TgZ(18,"span",99),y._uU(19,"2"),y.qZA()(),y.TgZ(20,"div",100),y._UZ(21,"i",101),y.TgZ(22,"span",99),y._uU(23,"1"),y.qZA()(),y.TgZ(24,"div",102),y._UZ(25,"i",103),y.TgZ(26,"span",99),y._uU(27,"1,780 Sqft"),y.qZA()(),y._UZ(28,"hr"),y.qZA()()()()()()),2&St){const Ht=Ar.$implicit;y.xp6(5),y.Q6J("routerLink",y.VKq(9,it,Ht.objectID)),y.xp6(1),y.Q6J("src",null==Ht.gallery[0]?null:Ht.gallery[0].url,y.LSH),y.xp6(4),y.Q6J("routerLink",y.VKq(11,it,Ht.objectID))("title",Ht.name),y.xp6(1),y.Q6J("hit",Ht),y.xp6(2),y.hij(" ",y.xi3(14,6,Ht.price,"KES "),"")}}function tt(St,Ar){if(1&St&&(y.TgZ(0,"div",82),y.YNc(1,we,2,1,"div",83),y.YNc(2,Ze,29,13,"div",84),y.qZA()),2&St){const Ht=y.oxw().hits;y.xp6(1),y.Q6J("ngIf",0===Ht.length),y.xp6(1),y.Q6J("ngForOf",Ht)}}function _t(St,Ar){if(1&St&&y.YNc(0,tt,3,2,"div",81),2&St){const Ht=Ar.results;y.Q6J("ngIf",(null==Ht?null:Ht.query.length)>0)}}const Ve=function(){return["/land-sale"]},Tt=function(){return["/land-lease"]},Jt=function(){return["/event-spaces"]},ze=function(){return["/home-sale"]},pt=function(){return["/home-rent"]},Dt=function(){return["/staycations"]},Et=function(){return["/listings/grid"]},tn=function(){return["/pricing"]},bt=function(){return["/contact"]};function kt(St,Ar){if(1&St&&(y.TgZ(0,"div",4)(1,"p",9),y._uU(2,"We have sent a confirmation email to "),y.TgZ(3,"strong"),y._uU(4),y.qZA(),y._uU(5,"."),y.qZA(),y.TgZ(6,"p",9),y._uU(7,"Please check your email and click on the link to verfiy your email address."),y.qZA()()),2&St){const Ht=Ar.ngIf;y.xp6(4),y.Oqu(Ht.email)}}const Rt=[{path:"",component:(()=>{class St{constructor(Ht){this.auth=Ht,this.config={indexName:"listings",searchClient:Pe()("MS0SDRBX0K","d7d2fa3a66a52e49a90150f5f632ebf2")},this.auth.getRecentListings().subscribe(En=>{this.recent=En})}ngOnInit(){}getUploaderEmail(Ht){this.auth.getUploaderID(Ht).forEach(En=>{this.mailText="mailto:"+(null==En?void 0:En.email),window.location.href=this.mailText})}getUploaderPhone(Ht){this.auth.getUploaderID(Ht).forEach(En=>{this.uploaderPhone=null==En?void 0:En.phoneNumber,this.mailText="tel:"+(null==En?void 0:En.phoneNumber),window.location.href=this.mailText})}}return St.\u0275fac=function(Ht){return new(Ht||St)(y.Y36(ce.e))},St.\u0275cmp=y.Xpm({type:St,selectors:[["app-home"]],decls:240,vars:19,consts:[[1,"banner","banner-1","banner-3","dark-overlay","bg-cover","bg-center",2,"background-image","url('./../../../assets/img/pexels-julia-kuzenkov-1974596.jpg')"],[1,"row",2,"margin","0%"],[1,"col-sm-2"],[1,"col-sm-8"],[1,"container"],[1,"banner-item"],[1,"banner-inner"],[1,"banner-text"],[1,"title","text-white"],[1,"acr-filter-form",2,"padding","0%"],[1,""],[3,"config"],["placeholder","Enter an address, neighbourhood, city or any property details"],[1,"section","section-padding"],[1,"section-title-wrap","section-header"],[1,"custom-primary"],[1,"title"],[2,"text-align","left","font-style","italic"],[1,"container","scroll-container"],[1,"gridscroll"],["aria-selected","false",1,"card",2,"background-image",'url("https://source.unsplash.com/600x600/?Sydney,home")',3,"routerLink"],[1,"card__overlay"],[1,"card__info"],[1,"card__title"],[1,"card__text"],["aria-selected","false",1,"card",2,"background-image",'url("https://source.unsplash.com/600x600/?Tehran,home")',3,"routerLink"],["aria-selected","false",1,"card",2,"background-image",'url("https://source.unsplash.com/600x600/?Montreal,home")',3,"routerLink"],["aria-selected","false",1,"card",2,"background-image",'url("https://source.unsplash.com/600x600/?Munich,home")',3,"routerLink"],["aria-selected","false",1,"card",2,"background-image",'url("https://source.unsplash.com/600x600/?Maui,home")',3,"routerLink"],["aria-selected","true",1,"card","is-selected",2,"background-image",'url("https://source.unsplash.com/600x600/?Auckland,home")',3,"routerLink"],[1,"section","section-padding","pt-0"],[1,"row"],[1,"col-lg-6"],[1,"cta","cta-2","item1"],[1,"flaticon-sales-agent"],[1,"cta-body"],["routerLinkActive","router-link-active",1,"btn-link",3,"routerLink"],[1,"fas","fa-arrow-right"],[1,"cta","cta-2","item2"],[1,"flaticon-sold"],[1,"btn-link",3,"routerLink"],[1,"section"],[1,"col-lg-8"],[1,"col-lg-4"],[1,"section","section-padding","light-bg"],[1,"post"],[1,"post-thumbnail"],["href","blog-single.html"],["src","https://via.placeholder.com/640x350","alt","blog post"],[1,"post-body"],[1,"post-title"],[1,"post-text"],[1,"post-controls"],["href","#",1,"btn-custom","secondary","btn-sm"],[1,"post-comment-authors"],[1,"post-comment-authors-img"],["href","#"],["src","https://via.placeholder.com/292x300","alt","comment author"],[1,"post","post-list"],["src","https://via.placeholder.com/600","alt","blog post"],[1,"col-lg-8","mb-lg-30"],["id","faqAccordions1",1,"accordion","with-gap"],[1,"card1"],["id","card1","role","button","data-toggle","collapse","data-target","#faqOne","aria-expanded","true","aria-controls","faqOne",1,"card-header"],["id","faqOne","data-parent","#faqAccordions1",1,"collapse","show"],[1,"card-body"],[1,"acr-list","mb-0"],[1,"card2"],["id","card2","data-toggle","collapse","role","button","data-target","#faqTwo","aria-expanded","false","aria-controls","faqTwo",1,"card-header"],["id","faqTwo","data-parent","#faqAccordions1",1,"collapse"],[1,"card-body","cb"],["id","card3",1,"card3"],["data-toggle","collapse","role","button","data-target","#faqThree","aria-expanded","false","aria-controls","faqThree",1,"card-header"],["id","faqThree","data-parent","#faqAccordions1",1,"collapse"],[1,"col-lg-4","infographics-5"],[1,"acr-infographic-item"],[1,"flaticon-telephone"],[1,"acr-infographic-item-body"],["href","tel:+123456789",1,"btn-custom","secondary","btn-sm"],[1,"flaticon-location"],[1,"btn-custom","secondary","btn-sm",3,"routerLink"],["style","max-height: 500px; overflow-y: auto;padding-top: 4%;",4,"ngIf"],[2,"max-height","500px","overflow-y","auto","padding-top","4%"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"listing","listing-list",2,"margin-bottom","0px"],[1,"col-sm-5"],[1,"listing-thumbnail",2,"width","fit-content!important","height","130px"],[3,"routerLink"],["onerror","this.onerror=null;this.src='https://via.placeholder.com/292x300?';","alt","listing",3,"src"],[1,"col-sm-7"],[1,"listing-body"],[1,"listing-title"],[2,"margin-bottom","0px",3,"routerLink","title"],["attribute","name",3,"hit"],[1,"listing-price",2,"margin-bottom","0px"],[1,"acr-listing-icons",2,"margin-bottom","0px"],["data-toggle","tooltip","title","Beds",1,"acr-listing-icon"],[1,"flaticon-bedroom"],[1,"acr-listing-icon-value"],["data-toggle","tooltip","title","Bathrooms",1,"acr-listing-icon"],[1,"flaticon-bathroom"],["data-toggle","tooltip","title","Square Feet",1,"acr-listing-icon"],[1,"flaticon-ruler"]],template:function(Ht,En){1&Ht&&(y.TgZ(0,"div",0)(1,"div",1),y._UZ(2,"div",2),y.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3",8),y._uU(9,"Find Your Ideal Home Today"),y.qZA(),y.TgZ(10,"div",9)(11,"div",10)(12,"ais-instantsearch",11),y._UZ(13,"ais-search-box",12),y.TgZ(14,"ais-hits"),y.YNc(15,_t,1,1,"ng-template"),y.qZA()()()()()()()()(),y._UZ(16,"div",2),y.qZA()(),y.TgZ(17,"div",13)(18,"div",4)(19,"div",14)(20,"h5",15),y._uU(21,"Neighbourhoods"),y.qZA(),y.TgZ(22,"h2",16),y._uU(23,"Browse By Neighbourhoods"),y.qZA(),y.TgZ(24,"div",17)(25,"p"),y._uU(26,"Scroll to left for more picture"),y.qZA()()(),y.TgZ(27,"div",18)(28,"div",19)(29,"a",20),y._UZ(30,"div",21),y.TgZ(31,"div",22)(32,"div",23),y._uU(33,"Land Sale"),y.qZA(),y.TgZ(34,"div",24),y._uU(35,"1,234 properties"),y.qZA()()(),y.TgZ(36,"a",25),y._UZ(37,"div",21),y.TgZ(38,"div",22)(39,"div",23),y._uU(40,"Land Lease"),y.qZA(),y.TgZ(41,"div",24),y._uU(42,"1,234 properties"),y.qZA()()(),y.TgZ(43,"a",26),y._UZ(44,"div",21),y.TgZ(45,"div",22)(46,"div",23),y._uU(47,"Commercial"),y.qZA(),y.TgZ(48,"div",24),y._uU(49,"1,234 properties"),y.qZA()()(),y.TgZ(50,"a",27),y._UZ(51,"div",21),y.TgZ(52,"div",22)(53,"div",23),y._uU(54,"Home Sale"),y.qZA(),y.TgZ(55,"div",24),y._uU(56,"1,234 properties"),y.qZA()()(),y.TgZ(57,"a",28),y._UZ(58,"div",21),y.TgZ(59,"div",22)(60,"div",23),y._uU(61,"Home Rent"),y.qZA(),y.TgZ(62,"div",24),y._uU(63,"1,234 properties"),y.qZA()()(),y.TgZ(64,"a",29),y._UZ(65,"div",21),y.TgZ(66,"div",22)(67,"div",23),y._uU(68,"Staycations"),y.qZA(),y.TgZ(69,"div",24),y._uU(70,"1,234 properties"),y.qZA()()()()()()(),y.TgZ(71,"div",30)(72,"div",4)(73,"div",31)(74,"div",32)(75,"div",33),y._UZ(76,"i",34),y.TgZ(77,"div",35)(78,"h4"),y._uU(79,"Buying a Home?"),y.qZA(),y.TgZ(80,"a",36),y._uU(81,"Search homes"),y._UZ(82,"i",37),y.qZA()()()(),y.TgZ(83,"div",32)(84,"div",38),y._UZ(85,"i",39),y.TgZ(86,"div",35)(87,"h4"),y._uU(88,"Selling a Home?"),y.qZA(),y.TgZ(89,"a",40),y._uU(90,"Start listing"),y._UZ(91,"i",37),y.qZA()()()()()()(),y.TgZ(92,"div",41)(93,"div",4)(94,"div",14)(95,"h5",15),y._uU(96,"Find Your Home"),y.qZA(),y.TgZ(97,"h2",16),y._uU(98,"Recent Listings"),y.qZA()(),y.TgZ(99,"div",31)(100,"div",42),y._UZ(101,"app-recent-listings"),y.qZA(),y.TgZ(102,"div",43),y._UZ(103,"app-recent-listings-grid"),y.qZA()()()(),y.TgZ(104,"div",44)(105,"div",4)(106,"div",14)(107,"h5",15),y._uU(108,"Latest News"),y.qZA(),y.TgZ(109,"h2",16),y._uU(110,"From Our Blog"),y.qZA()(),y.TgZ(111,"div",31)(112,"div",32)(113,"article",45)(114,"div",46)(115,"a",47),y._UZ(116,"img",48),y.qZA()(),y.TgZ(117,"div",49)(118,"h5",50)(119,"a",47),y._uU(120,"What agencies are looking for in an agent"),y.qZA()(),y.TgZ(121,"p",51),y._uU(122," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s "),y.qZA(),y.TgZ(123,"div",52)(124,"a",53),y._uU(125,"Read More"),y.qZA(),y.TgZ(126,"div",54)(127,"span"),y._uU(128,"Comments by: "),y.qZA(),y.TgZ(129,"div",55)(130,"a",56),y._UZ(131,"img",57),y.qZA(),y.TgZ(132,"a",56),y._UZ(133,"img",57),y.qZA(),y.TgZ(134,"a",56),y._uU(135," +3 "),y.qZA()()()()()()(),y.TgZ(136,"div",32)(137,"article",58)(138,"div",46)(139,"a",47),y._UZ(140,"img",59),y.qZA()(),y.TgZ(141,"div",49)(142,"h5",50)(143,"a",47),y._uU(144,"Changing the way we sell and buy real estate"),y.qZA()(),y.TgZ(145,"p",51),y._uU(146," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s "),y.qZA()()(),y.TgZ(147,"article",58)(148,"div",46)(149,"a",47),y._UZ(150,"img",59),y.qZA()(),y.TgZ(151,"div",49)(152,"h5",50)(153,"a",47),y._uU(154,"Families, its the best time to start buying"),y.qZA()(),y.TgZ(155,"p",51),y._uU(156," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s "),y.qZA()()()()()()(),y.TgZ(157,"div",41)(158,"div",4)(159,"div",14)(160,"h5",15),y._uU(161,"FAQ"),y.qZA(),y.TgZ(162,"h2",16),y._uU(163,"FAQ Pricing"),y.qZA()(),y.TgZ(164,"div",31)(165,"div",60)(166,"div",61)(167,"div",62)(168,"div",63),y._uU(169," How can I start with buying a home? "),y.qZA(),y.TgZ(170,"div",64)(171,"div",65)(172,"p"),y._uU(173," Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. "),y.qZA(),y.TgZ(174,"p"),y._uU(175," Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. "),y.qZA(),y.TgZ(176,"ul",66)(177,"li"),y._uU(178," Lorem Ipsum is simply dummy text of the printing and typesetting industry. "),y.qZA(),y.TgZ(179,"li"),y._uU(180," Many desktop publishing packages and web page editors now use Lorem Ipsum "),y.qZA(),y.TgZ(181,"li"),y._uU(182," There are many variations of passages of Lorem Ipsum "),y.qZA(),y.TgZ(183,"li"),y._uU(184," Internet tend to repeat predefined chunks as necessary "),y.qZA()()()()(),y.TgZ(185,"div",67)(186,"div",68),y._uU(187," Is the service free? "),y.qZA(),y.TgZ(188,"div",69)(189,"div",70)(190,"p"),y._uU(191," Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. "),y.qZA(),y.TgZ(192,"p"),y._uU(193," Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. "),y.qZA(),y.TgZ(194,"ul",66)(195,"li"),y._uU(196," Lorem Ipsum is simply dummy text of the printing and typesetting industry. "),y.qZA(),y.TgZ(197,"li"),y._uU(198," Many desktop publishing packages and web page editors now use Lorem Ipsum "),y.qZA(),y.TgZ(199,"li"),y._uU(200," There are many variations of passages of Lorem Ipsum "),y.qZA(),y.TgZ(201,"li"),y._uU(202," Internet tend to repeat predefined chunks as necessary "),y.qZA()()()()(),y.TgZ(203,"div",71)(204,"div",72),y._uU(205," How many agents can I have at once? "),y.qZA(),y.TgZ(206,"div",73)(207,"div",65)(208,"p"),y._uU(209," Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. "),y.qZA(),y.TgZ(210,"p"),y._uU(211," Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. "),y.qZA(),y.TgZ(212,"ul",66)(213,"li"),y._uU(214," Lorem Ipsum is simply dummy text of the printing and typesetting industry. "),y.qZA(),y.TgZ(215,"li"),y._uU(216," Many desktop publishing packages and web page editors now use Lorem Ipsum "),y.qZA(),y.TgZ(217,"li"),y._uU(218," There are many variations of passages of Lorem Ipsum "),y.qZA(),y.TgZ(219,"li"),y._uU(220," Internet tend to repeat predefined chunks as necessary "),y.qZA()()()()()()(),y.TgZ(221,"div",74)(222,"div",75),y._UZ(223,"i",76),y.TgZ(224,"div",77)(225,"h5"),y._uU(226,"Reach Out"),y.qZA(),y.TgZ(227,"p"),y._uU(228,"Lorem Ipsum is simply dummy text of the printing and typesetting industry."),y.qZA(),y.TgZ(229,"a",78),y._uU(230,"Call Us"),y.qZA()()(),y.TgZ(231,"div",75),y._UZ(232,"i",79),y.TgZ(233,"div",77)(234,"h5"),y._uU(235,"Find Us"),y.qZA(),y.TgZ(236,"p"),y._uU(237,"Lorem Ipsum is simply dummy text of the printing and typesetting industry."),y.qZA(),y.TgZ(238,"a",80),y._uU(239,"Get Directions"),y.qZA()()()()()()()),2&Ht&&(y.xp6(12),y.Q6J("config",En.config),y.xp6(17),y.Q6J("routerLink",y.DdM(10,Ve)),y.xp6(7),y.Q6J("routerLink",y.DdM(11,Tt)),y.xp6(7),y.Q6J("routerLink",y.DdM(12,Jt)),y.xp6(7),y.Q6J("routerLink",y.DdM(13,ze)),y.xp6(7),y.Q6J("routerLink",y.DdM(14,pt)),y.xp6(7),y.Q6J("routerLink",y.DdM(15,Dt)),y.xp6(16),y.Q6J("routerLink",y.DdM(16,Et)),y.xp6(9),y.Q6J("routerLink",y.DdM(17,tn)),y.xp6(149),y.Q6J("routerLink",y.DdM(18,bt)))},directives:[Ne.Lc,Ne.Ut,Ne.bb,Le.O5,Le.sg,re.yS,Ne.Yi,re.Od,Ce,Re],pipes:[Le.H9],styles:[".card-wrap[_ngcontent-%COMP%]{width:100%;margin:hidden;height:400px}.card-wrap[_ngcontent-%COMP%]:focus, .card-wrap[_ngcontent-%COMP%]:active{outline:0}.card[_ngcontent-%COMP%]{display:inline-block;width:100%;max-width:190px;min-width:190px;border-radius:.6rem;position:relative;min-height:240px;background-size:cover;background-repeat:no-repeat;background-position:center center;margin:1rem}.card-body[_ngcontent-%COMP%]{background:aliceblue}.flickity-viewport[_ngcontent-%COMP%]{height:340px}.card__overlay[_ngcontent-%COMP%]{border-radius:.6rem;position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.12);background:linear-gradient(to top,rgba(0,0,0,.8),rgba(0,0,0,0),rgba(255,255,255,.3));opacity:.7;transition:all .35s ease-out 0s}.card__info[_ngcontent-%COMP%]{padding:3rem 1.5rem;width:100%;text-align:center;color:#fff;position:absolute;bottom:0;text-shadow:0px 3px 5px rgba(0,0,0,.4)}.card__title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:800;margin-bottom:.5rem;text-align:center}a.card[_ngcontent-%COMP%]{transition:all .35s ease-out 0s;overflow:hidden}a.card[_ngcontent-%COMP%]:hover, a.card[_ngcontent-%COMP%]:focus{transform:scale(1.1) translateY(8px);transition:all .35s ease}a.card[_ngcontent-%COMP%]:hover   .card__overlay[_ngcontent-%COMP%], a.card[_ngcontent-%COMP%]:focus   .card__overlay[_ngcontent-%COMP%]{opacity:1;top:0px}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;pointer-events:none;bottom:0;right:0;left:0;background:transparent;background:linear-gradient(to right,rgba(255,255,255,1) 1%,rgba(255,255,255,0) 20%,rgba(255,255,255,0) 80%,rgba(255,255,255,1) 99%);z-index:100}h1[_ngcontent-%COMP%]{z-index:101;text-shadow:5px 15px 25px rgba(0,0,0,.17),3px 8px 15px rgba(0,0,0,.1)}@media screen and (max-width: 700px){h1[_ngcontent-%COMP%]{font-size:24px}}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:0px!important;width:50px}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px gray;border-radius:10px}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--medium);border-radius:10px}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--medium)}.scroll-container[_ngcontent-%COMP%]{overflow:auto;white-space:nowrap;padding:5px 70px 5px 20px;background:transparent;height:100%;border-radius:15px}.gridscroll[_ngcontent-%COMP%]{display:inline-block}.gridscroll[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:22px}@media screen and (min-width: 768px){.card1[_ngcontent-%COMP%], .card2[_ngcontent-%COMP%], .card3[_ngcontent-%COMP%]{display:block;width:100%;max-width:190px;min-width:190px;border-radius:.6rem;position:static;min-height:240px;background-size:cover;background-repeat:no-repeat;background-position:center center;margin:1rem}}"]}),St})()},{path:"login",loadChildren:()=>F.e(148).then(F.bind(F,2148)).then(St=>St.LoginModule)},{path:"register",loadChildren:()=>F.e(970).then(F.bind(F,7970)).then(St=>St.RegisterModule)},{path:"listings",loadChildren:()=>Promise.all([F.e(318),F.e(225),F.e(346)]).then(F.bind(F,8346)).then(St=>St.ListingsModule)},{path:"about",loadChildren:()=>F.e(697).then(F.bind(F,6697)).then(St=>St.AboutModule)},{path:"services",loadChildren:()=>F.e(51).then(F.bind(F,4051)).then(St=>St.ServicesModule)},{path:"faq",loadChildren:()=>F.e(309).then(F.bind(F,7309)).then(St=>St.FaqModule)},{path:"pricing",loadChildren:()=>F.e(177).then(F.bind(F,3177)).then(St=>St.PricingModule)},{path:"contact",loadChildren:()=>F.e(774).then(F.bind(F,7774)).then(St=>St.ContactModule)},{path:"blog",loadChildren:()=>Promise.all([F.e(592),F.e(372)]).then(F.bind(F,8372)).then(St=>St.BlogModule)},{path:"legal",loadChildren:()=>F.e(211).then(F.bind(F,211)).then(St=>St.LegalModule)},{path:"dashboard",loadChildren:()=>Promise.all([F.e(225),F.e(592),F.e(839)]).then(F.bind(F,2839)).then(St=>St.DashboardModule)},{path:"sign-in",loadChildren:()=>F.e(148).then(F.bind(F,2148)).then(St=>St.LoginModule)},{path:"register-user",component:(()=>{class St{constructor(){}ngOnInit(){}}return St.\u0275fac=function(Ht){return new(Ht||St)},St.\u0275cmp=y.Xpm({type:St,selectors:[["app-sign-up"]],decls:2,vars:0,template:function(Ht,En){1&Ht&&(y.TgZ(0,"p"),y._uU(1,"sign-up works!"),y.qZA())},styles:[""]}),St})()},{path:"forgot-password",component:Ie},{path:"verify-email-address",component:(()=>{class St{constructor(Ht){this.authService=Ht}ngOnInit(){}}return St.\u0275fac=function(Ht){return new(Ht||St)(y.Y36(ce.e))},St.\u0275cmp=y.Xpm({type:St,selectors:[["app-verify-email"]],decls:15,vars:1,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],["class","formGroup",4,"ngIf"],[1,"formGroup"],["type","button",1,"btn","btnPrimary",3,"click"],[1,"fas","fa-redo-alt"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"],[1,"text-center"]],template:function(Ht,En){1&Ht&&(y.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),y._uU(4,"Thank You for Registering"),y.qZA(),y.YNc(5,kt,8,1,"div",3),y.TgZ(6,"div",4)(7,"button",5),y.NdJ("click",function(){return En.authService.SendVerificationMail()}),y._UZ(8,"i",6),y._uU(9," Resend Verification Email "),y.qZA()()(),y.TgZ(10,"div",7)(11,"span"),y._uU(12,"Go back to?"),y.TgZ(13,"span",8),y._uU(14," Sign in"),y.qZA()()()()()),2&Ht&&(y.xp6(5),y.Q6J("ngIf",En.authService.userData))},directives:[Le.O5,re.rH],styles:[""]}),St})()},{path:"land-sale",loadChildren:()=>Promise.all([F.e(318),F.e(627)]).then(F.bind(F,5627)).then(St=>St.LandSaleModule)},{path:"land-lease",loadChildren:()=>Promise.all([F.e(318),F.e(609)]).then(F.bind(F,7609)).then(St=>St.LandLeaseModule)},{path:"staycations",loadChildren:()=>Promise.all([F.e(318),F.e(991)]).then(F.bind(F,6991)).then(St=>St.StaycationsModule)},{path:"event-spaces",loadChildren:()=>Promise.all([F.e(318),F.e(89)]).then(F.bind(F,9089)).then(St=>St.EventSpacesModule)},{path:"office-space",loadChildren:()=>F.e(952).then(F.bind(F,5952)).then(St=>St.OfficeSpaceModule)},{path:"home-sale",loadChildren:()=>Promise.all([F.e(318),F.e(91)]).then(F.bind(F,8091)).then(St=>St.ResidentialModule)},{path:"home-rent",loadChildren:()=>Promise.all([F.e(318),F.e(205)]).then(F.bind(F,7205)).then(St=>St.CommercialModule)},{path:"staycations",loadChildren:()=>Promise.all([F.e(318),F.e(726)]).then(F.bind(F,9726)).then(St=>St.ApartmentsModule)},{path:"beach-house",loadChildren:()=>Promise.all([F.e(318),F.e(3)]).then(F.bind(F,5003)).then(St=>St.BeachhouseModule)},{path:"duplex",loadChildren:()=>Promise.all([F.e(318),F.e(862)]).then(F.bind(F,2862)).then(St=>St.DuplexModule)}];let Dn=(()=>{class St{}return St.\u0275fac=function(Ht){return new(Ht||St)},St.\u0275mod=y.oAB({type:St}),St.\u0275inj=y.cJS({imports:[[re.Bz.forRoot(Rt,{scrollPositionRestoration:"enabled"})],re.Bz]}),St})();const In=function(){return["/login"]},It=function(){return["/register"]};function At(St,Ar){1&St&&(y.TgZ(0,"ul",45)(1,"li")(2,"a",7),y._uU(3," Login"),y.qZA()(),y.TgZ(4,"li"),y._uU(5,"or"),y.qZA(),y.TgZ(6,"li")(7,"a",7),y._uU(8," Signup"),y.qZA()()()),2&St&&(y.xp6(2),y.Q6J("routerLink",y.DdM(2,In)),y.xp6(5),y.Q6J("routerLink",y.DdM(3,It)))}function Ut(St,Ar){if(1&St){const Ht=y.EpF();y.TgZ(0,"ul",45)(1,"a",46),y.NdJ("click",function(){return y.CHM(Ht),y.oxw().auth.SignOut()}),y._uU(2," Logout"),y.qZA()()}}const an=function(){return["/"]},Sn=function(){return["/about"]},Zn=function(){return["/services"]},$n=function(){return["/pricing"]},ar=function(){return["/listings"]},Vr=function(){return["/faq"]},Zr=function(){return["/blog"]},Pr=function(){return["/contact"]},Gr=function(){return["/listings/submit-page"]};let ti=(()=>{class St{constructor(Ht){this.auth=Ht,this.open1=!1}ngOnInit(){}open(){this.open1=!0}close(){this.open1=!1}}return St.\u0275fac=function(Ht){return new(Ht||St)(y.Y36(ce.e))},St.\u0275cmp=y.Xpm({type:St,selectors:[["app-navbar"]],decls:138,vars:41,consts:[[3,"ngClass"],[1,"aside-title"],[1,"aside-controls","aside-trigger"],[1,"close-btn","close-dark",3,"click"],[1,"aside-scroll"],[1,"menu-section-title"],[1,"menu-item"],[3,"routerLink"],[1,"flaticon-info"],[1,"flaticon-info-1"],["href","#"],[1,"flaticon-facebook"],[1,"flaticon-linkedin"],[1,"flaticon-twitter"],[1,"flaticon-instagram"],[1,"aside-overlay","aside-trigger"],[1,"main-header"],[1,"top-header"],[1,"container"],[1,"top-header-inner"],[1,"social-media"],[1,"fab","fa-facebook-f"],[1,"fab","fa-pinterest-p"],[1,"fab","fa-linkedin-in"],[1,"fab","fa-twitter"],["class","top-header-nav",4,"ngIf"],[1,"navbar"],["routerLinkActive","router-link-active",1,"navbar-brand",3,"routerLink"],["src","./../../../assets/img/logo_assets/logo_blue_bg.svg","alt","logo",2,"height","70px"],[1,"navbar-nav"],[1,"menu-item","menu-item-has-children"],[1,"menu-item","menu-item-has-children","mega-menu-wrapper"],[1,"submenu"],["src","./../../../assets/megamenu.png","alt","img"],[1,"row"],[1,"col-lg-4"],[1,"mega-menu-item"],["routerLinkActive","router-link-active",1,"btn-custom","secondary",3,"routerLink"],[1,"offset-lg-1","col-lg-7"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"header-controls"],[1,"header-controls-inner","d-none","d-lg-flex"],[1,"btn-custom","primary",3,"routerLink"],[1,"fas","fa-plus"],[1,"aside-toggler","aside-trigger",3,"click"],[1,"top-header-nav"],[2,"color","white","cursor","pointer",3,"click"]],template:function(Ht,En){1&Ht&&(y.TgZ(0,"aside",0)(1,"div",1)(2,"div",2)(3,"h4"),y._uU(4,"Menu"),y.qZA(),y.TgZ(5,"div",3),y.NdJ("click",function(){return En.close()}),y._UZ(6,"span")(7,"span"),y.qZA()()(),y.TgZ(8,"div",4)(9,"ul")(10,"li",5),y._uU(11,"Pages"),y.qZA(),y.TgZ(12,"li",6)(13,"a",7),y._UZ(14,"i",8),y._uU(15," Home Page"),y.qZA()(),y.TgZ(16,"li",6)(17,"a",7),y._UZ(18,"i",8),y._uU(19," About us"),y.qZA()(),y.TgZ(20,"li",6)(21,"a",7),y._UZ(22,"i",8),y._uU(23," Services"),y.qZA()(),y.TgZ(24,"li",6)(25,"a",7),y._UZ(26,"i",8),y._uU(27," Pricing"),y.qZA()(),y.TgZ(28,"li",6)(29,"a",7),y._UZ(30,"i",8),y._uU(31," Listings"),y.qZA()(),y.TgZ(32,"li",6)(33,"a",7),y._UZ(34,"i",9),y._uU(35," FAQ"),y.qZA()(),y.TgZ(36,"li",6)(37,"a",7),y._UZ(38,"i",9),y._uU(39," Blog"),y.qZA()(),y.TgZ(40,"li",6)(41,"a",7),y._UZ(42,"i",9),y._uU(43," Contact us"),y.qZA()(),y.TgZ(44,"li",5),y._uU(45,"Get Social"),y.qZA(),y.TgZ(46,"li",6)(47,"a",10),y._UZ(48,"i",11),y._uU(49,"Facebook"),y.qZA()(),y.TgZ(50,"li",6)(51,"a",10),y._UZ(52,"i",12),y._uU(53," Linkedin "),y.qZA()(),y.TgZ(54,"li",6)(55,"a",10),y._UZ(56,"i",13),y._uU(57," Twitter "),y.qZA()(),y.TgZ(58,"li",6)(59,"a",10),y._UZ(60,"i",14),y._uU(61," Instagram "),y.qZA()()()()(),y._UZ(62,"div",15),y.TgZ(63,"header",16)(64,"div",17)(65,"div",18)(66,"div",19)(67,"ul",20)(68,"li")(69,"a",10),y._UZ(70,"i",21),y.qZA()(),y.TgZ(71,"li")(72,"a",10),y._UZ(73,"i",22),y.qZA()(),y.TgZ(74,"li")(75,"a",10),y._UZ(76,"i",23),y.qZA()(),y.TgZ(77,"li")(78,"a",10),y._UZ(79,"i",24),y.qZA()()(),y.YNc(80,At,9,4,"ul",25),y.YNc(81,Ut,3,0,"ul",25),y.qZA()()(),y.TgZ(82,"nav",26)(83,"div",18)(84,"a",27),y._UZ(85,"img",28),y.qZA(),y.TgZ(86,"ul",29)(87,"li",30)(88,"a",7),y._uU(89,"Homepage"),y.qZA()(),y.TgZ(90,"li",31)(91,"a"),y._uU(92,"About"),y.qZA(),y.TgZ(93,"ul",32)(94,"li"),y._UZ(95,"img",33),y.TgZ(96,"div",18)(97,"div",34)(98,"div",35)(99,"div",36)(100,"h5"),y._uU(101,"Featured Listings"),y.qZA(),y.TgZ(102,"p"),y._uU(103," Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. "),y.qZA(),y.TgZ(104,"a",37),y._uU(105,"View All"),y.qZA()()(),y.TgZ(106,"div",38)(107,"div",36)(108,"h5"),y._uU(109,"Pages"),y.qZA(),y.TgZ(110,"a",39),y._uU(111,"About Us"),y.qZA(),y.TgZ(112,"a",7),y._uU(113,"Services"),y.qZA(),y.TgZ(114,"a",7),y._uU(115,"Pricing"),y.qZA()()()()()()()(),y.TgZ(116,"li",6)(117,"a",39),y._uU(118,"Listings"),y.qZA()(),y.TgZ(119,"li",6)(120,"a",7),y._uU(121,"Blog"),y.qZA()(),y.TgZ(122,"li",6)(123,"a",7),y._uU(124,"FAQ"),y.qZA()(),y.TgZ(125,"li",6)(126,"a",7),y._uU(127,"Contact Us"),y.qZA()()(),y.TgZ(128,"div",40)(129,"ul",41)(130,"li")(131,"a",42),y._uU(132,"Submit Listing "),y._UZ(133,"i",43),y.qZA()()(),y.TgZ(134,"div",44),y.NdJ("click",function(){return En.open()}),y._UZ(135,"span")(136,"span")(137,"span"),y.qZA()()()()()),2&Ht&&(y.Q6J("ngClass","main-aside "+(En.open1?"main-aside open":"")),y.xp6(13),y.Q6J("routerLink",y.DdM(22,an)),y.xp6(4),y.Q6J("routerLink",y.DdM(23,Sn)),y.xp6(4),y.Q6J("routerLink",y.DdM(24,Zn)),y.xp6(4),y.Q6J("routerLink",y.DdM(25,$n)),y.xp6(4),y.Q6J("routerLink",y.DdM(26,ar)),y.xp6(4),y.Q6J("routerLink",y.DdM(27,Vr)),y.xp6(4),y.Q6J("routerLink",y.DdM(28,Zr)),y.xp6(4),y.Q6J("routerLink",y.DdM(29,Pr)),y.xp6(39),y.Q6J("ngIf",!En.auth.userData),y.xp6(1),y.Q6J("ngIf",En.auth.userData),y.xp6(3),y.Q6J("routerLink",y.DdM(30,an)),y.xp6(4),y.Q6J("routerLink",y.DdM(31,an)),y.xp6(16),y.Q6J("routerLink",y.DdM(32,ar)),y.xp6(6),y.Q6J("routerLink",y.DdM(33,Sn)),y.xp6(2),y.Q6J("routerLink",y.DdM(34,Zn)),y.xp6(2),y.Q6J("routerLink",y.DdM(35,$n)),y.xp6(3),y.Q6J("routerLink",y.DdM(36,ar)),y.xp6(3),y.Q6J("routerLink",y.DdM(37,Zr)),y.xp6(3),y.Q6J("routerLink",y.DdM(38,Vr)),y.xp6(3),y.Q6J("routerLink",y.DdM(39,Pr)),y.xp6(5),y.Q6J("routerLink",y.DdM(40,Gr)))},directives:[Le.mk,re.yS,Le.O5,re.Od],styles:['.nav-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:inline-block;position:relative;color:var(--dark);text-decoration:none}.nav-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:20%;transform:scaleX(0);border-radius:15px;height:.15em;bottom:0;left:50%;background:currentcolor;transform-origin:center center;transition:transform .25s ease-out}.nav-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:var(--light)!important}.nav-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:center center;color:var(--dark)!important}']}),St})();const er=function(){return["/"]},wr=function(){return["/listings"]},vr=function(){return["/listings/submit"]},xr=function(){return["/blog"]},gi=function(){return["/legal"]};let Je=(()=>{class St{constructor(){}ngOnInit(){}}return St.\u0275fac=function(Ht){return new(Ht||St)},St.\u0275cmp=y.Xpm({type:St,selectors:[["app-footer"]],decls:78,vars:20,consts:[[1,"acr-footer","footer-dark"],[1,"container"],[1,"row"],[1,"col-lg-3","col-md-4","col-sm-12","footer-widget"],[1,"footer-logo"],[3,"routerLink"],["src","./../../../assets/img/logo_assets/logo_white.svg","alt","acres",2,"height","100px"],[1,"social-media"],["href","#"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-pinterest-p"],[1,"fab","fa-linkedin-in"],[1,"col-lg-2","offset-md-1","col-md-4","col-sm-6","footer-widget"],[1,"widget-title"],[1,"col-lg-2","col-md-3","col-sm-6","footer-widget"],[1,"col-lg-4","col-md-12","footer-widget"],["method","post"],[1,"form-group"],["type","text","placeholder","Email Address","name","newsletter-email","value","",1,"form-control"],["type","submit","name","button",1,"btn-custom","primary","light","btn-block"],[1,"footer-bottom"],[1,"col-lg-7"],[1,"m-0"],[1,"col-lg-5"]],template:function(Ht,En){1&Ht&&(y.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),y._UZ(6,"img",6),y.qZA()(),y.TgZ(7,"p"),y._uU(8,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's "),y.qZA(),y.TgZ(9,"ul",7)(10,"li")(11,"a",8),y._UZ(12,"i",9),y.qZA()(),y.TgZ(13,"li")(14,"a",8),y._UZ(15,"i",10),y.qZA()(),y.TgZ(16,"li")(17,"a",8),y._UZ(18,"i",11),y.qZA()(),y.TgZ(19,"li")(20,"a",8),y._UZ(21,"i",12),y.qZA()()()(),y.TgZ(22,"div",13)(23,"h5",14),y._uU(24,"Menu"),y.qZA(),y.TgZ(25,"ul")(26,"li")(27,"a",5),y._uU(28,"Find Home"),y.qZA()(),y.TgZ(29,"li")(30,"a",5),y._uU(31,"Add Listing"),y.qZA()(),y.TgZ(32,"li")(33,"a",5),y._uU(34,"Listings"),y.qZA()(),y.TgZ(35,"li")(36,"a",5),y._uU(37,"Blog"),y.qZA()()()(),y.TgZ(38,"div",15)(39,"h5",14),y._uU(40,"Legal"),y.qZA(),y.TgZ(41,"ul")(42,"li")(43,"a",5),y._uU(44,"Privacy Policy"),y.qZA()(),y.TgZ(45,"li")(46,"a",5),y._uU(47,"Refund Policy"),y.qZA()(),y.TgZ(48,"li")(49,"a",5),y._uU(50,"Cookie Policy"),y.qZA()()()(),y.TgZ(51,"div",16)(52,"h5",14),y._uU(53,"Newsletter"),y.qZA(),y.TgZ(54,"p"),y._uU(55,"Join our newsletter today, and get the best flats that we have to offer."),y.qZA(),y.TgZ(56,"form",17)(57,"div",18),y._UZ(58,"input",19),y.qZA(),y.TgZ(59,"button",20),y._uU(60,"Join Newsletter"),y.qZA()()()()(),y.TgZ(61,"div",21)(62,"div",1)(63,"div",2)(64,"div",22)(65,"p",23),y._uU(66,"\xa9 Copyright 2022 - "),y.TgZ(67,"a",8),y._uU(68,"Bluerays"),y.qZA(),y._uU(69," All Rights Reserved."),y.qZA()(),y.TgZ(70,"div",24)(71,"ul")(72,"li")(73,"a",5),y._uU(74,"Find a Home"),y.qZA()(),y.TgZ(75,"li")(76,"a",5),y._uU(77,"Add Listing"),y.qZA()()()()()()()()),2&Ht&&(y.xp6(5),y.Q6J("routerLink",y.DdM(10,er)),y.xp6(22),y.Q6J("routerLink",y.DdM(11,wr)),y.xp6(3),y.Q6J("routerLink",y.DdM(12,vr)),y.xp6(3),y.Q6J("routerLink",y.DdM(13,wr)),y.xp6(3),y.Q6J("routerLink",y.DdM(14,xr)),y.xp6(7),y.Q6J("routerLink",y.DdM(15,gi)),y.xp6(3),y.Q6J("routerLink",y.DdM(16,gi)),y.xp6(3),y.Q6J("routerLink",y.DdM(17,gi)),y.xp6(24),y.Q6J("routerLink",y.DdM(18,wr)),y.xp6(3),y.Q6J("routerLink",y.DdM(19,vr)))},directives:[re.yS],styles:[""]}),St})(),Te=(()=>{class St{constructor(){this.title="bluerays-alpha"}}return St.\u0275fac=function(Ht){return new(Ht||St)},St.\u0275cmp=y.Xpm({type:St,selectors:[["app-root"]],decls:3,vars:0,template:function(Ht,En){1&Ht&&y._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},directives:[ti,re.lC,Je],styles:[""]}),St})();var pn=F(2011),Mn=F(2297),lr=F(7164),dn=F(1205),xn=F(2340),Vn=F(4466),Yi=F(7274);let vi=(()=>{class St{}return St.\u0275fac=function(Ht){return new(Ht||St)},St.\u0275mod=y.oAB({type:St,bootstrap:[Te]}),St.\u0275inj=y.cJS({providers:[],imports:[[a.b2,Dn,Vn.m,pn.hO.initializeApp(xn.N.firebase),Mn.yb,dn.ww,lr.TE,Yi.$L.forRoot()]]}),St})();xn.N.production&&(0,y.G48)(),a.q6().bootstrapModule(vi).catch(St=>console.error(St))},3954:(Kt,st,F)=>{"use strict";var a=F(7564),y=F(844),re=F(9484);function ce(Ie,ae,Pe){return new a(Ie,ae,Pe)}ce.version=F(8902),ce.AlgoliaSearchHelper=a,ce.SearchParameters=y,ce.SearchResults=re,Kt.exports=ce},2231:(Kt,st,F)=>{"use strict";var a=F(7452);function re(ce,Ie){this.main=ce,this.fn=Ie,this.lastResults=null}F(2898)(re,a),re.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},re.prototype.getModifiedState=function(ce){return this.fn(ce)},Kt.exports=re},3221:(Kt,st,F)=>{"use strict";var a=F(3569),y=F(8052),re=F(5855),ce={addRefinement:function(ae,Pe,Ne){if(ce.isRefined(ae,Pe,Ne))return ae;var Le=""+Ne,Ee=ae[Pe]?ae[Pe].concat(Le):[Le],fe={};return fe[Pe]=Ee,a({},fe,ae)},removeRefinement:function(ae,Pe,Ne){if(void 0===Ne)return ce.clearRefinement(ae,function(Ee,fe){return Pe===fe});var Le=""+Ne;return ce.clearRefinement(ae,function(Ee,fe){return Pe===fe&&Le===Ee})},toggleRefinement:function(ae,Pe,Ne){if(void 0===Ne)throw new Error("toggleRefinement should be used with a value");return ce.isRefined(ae,Pe,Ne)?ce.removeRefinement(ae,Pe,Ne):ce.addRefinement(ae,Pe,Ne)},clearRefinement:function(ae,Pe,Ne){if(void 0===Pe)return re(ae)?{}:ae;if("string"==typeof Pe)return y(ae,[Pe]);if("function"==typeof Pe){var Le=!1,Ee=Object.keys(ae).reduce(function(fe,Ae){var Ce=ae[Ae]||[],ne=Ce.filter(function(ee){return!Pe(ee,Ae,Ne)});return ne.length!==Ce.length&&(Le=!0),fe[Ae]=ne,fe},{});return Le?Ee:ae}},isRefined:function(ae,Pe,Ne){var Le=!!ae[Pe]&&ae[Pe].length>0;return void 0!==Ne&&Le?-1!==ae[Pe].indexOf(""+Ne):Le}};Kt.exports=ce},844:(Kt,st,F)=>{"use strict";var a=F(955),y=F(3569),re=F(5606),ce=F(3951),Ie=F(7683),ae=F(8052),Pe=F(5855),Ne=F(4087),Le=F(3221);function Ee(Ce,ne){return Array.isArray(Ce)&&Array.isArray(ne)?Ce.length===ne.length&&Ce.every(function(ee,Se){return Ee(ne[Se],ee)}):Ce===ne}function Ae(Ce){var ne=Ce?Ae._parseNumbers(Ce):{};void 0!==ne.userToken&&!Ne(ne.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=ne.facets||[],this.disjunctiveFacets=ne.disjunctiveFacets||[],this.hierarchicalFacets=ne.hierarchicalFacets||[],this.facetsRefinements=ne.facetsRefinements||{},this.facetsExcludes=ne.facetsExcludes||{},this.disjunctiveFacetsRefinements=ne.disjunctiveFacetsRefinements||{},this.numericRefinements=ne.numericRefinements||{},this.tagRefinements=ne.tagRefinements||[],this.hierarchicalFacetsRefinements=ne.hierarchicalFacetsRefinements||{};var ee=this;Object.keys(ne).forEach(function(Se){-1===Ae.PARAMETERS.indexOf(Se)&&void 0!==ne[Se]&&(ee[Se]=ne[Se])})}Ae.PARAMETERS=Object.keys(new Ae),Ae._parseNumbers=function(Ce){if(Ce instanceof Ae)return Ce;var ne={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach(function(ue){var Re=Ce[ue];if("string"==typeof Re){var we=parseFloat(Re);ne[ue]=isNaN(we)?Re:we}}),Array.isArray(Ce.insideBoundingBox)&&(ne.insideBoundingBox=Ce.insideBoundingBox.map(function(ue){return Array.isArray(ue)?ue.map(function(Re){return parseFloat(Re)}):ue})),Ce.numericRefinements){var Se={};Object.keys(Ce.numericRefinements).forEach(function(ue){var Re=Ce.numericRefinements[ue]||{};Se[ue]={},Object.keys(Re).forEach(function(we){var Ze=Re[we].map(function(tt){return Array.isArray(tt)?tt.map(function(_t){return"string"==typeof _t?parseFloat(_t):_t}):"string"==typeof tt?parseFloat(tt):tt});Se[ue][we]=Ze})}),ne.numericRefinements=Se}return a({},Ce,ne)},Ae.make=function(ne){var ee=new Ae(ne);return(ne.hierarchicalFacets||[]).forEach(function(ue){if(ue.rootPath){var Re=ee.getHierarchicalRefinement(ue.name);Re.length>0&&0!==Re[0].indexOf(ue.rootPath)&&(ee=ee.clearRefinements(ue.name)),0===(Re=ee.getHierarchicalRefinement(ue.name)).length&&(ee=ee.toggleHierarchicalFacetRefinement(ue.name,ue.rootPath))}}),ee},Ae.validate=function(Ce,ne){var ee=ne||{};return Ce.tagFilters&&ee.tagRefinements&&ee.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):Ce.tagRefinements.length>0&&ee.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):Ce.numericFilters&&ee.numericRefinements&&Pe(ee.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):Pe(Ce.numericRefinements)&&ee.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},Ae.prototype={constructor:Ae,clearRefinements:function(ne){var ee={numericRefinements:this._clearNumericRefinements(ne),facetsRefinements:Le.clearRefinement(this.facetsRefinements,ne,"conjunctiveFacet"),facetsExcludes:Le.clearRefinement(this.facetsExcludes,ne,"exclude"),disjunctiveFacetsRefinements:Le.clearRefinement(this.disjunctiveFacetsRefinements,ne,"disjunctiveFacet"),hierarchicalFacetsRefinements:Le.clearRefinement(this.hierarchicalFacetsRefinements,ne,"hierarchicalFacet")};return ee.numericRefinements===this.numericRefinements&&ee.facetsRefinements===this.facetsRefinements&&ee.facetsExcludes===this.facetsExcludes&&ee.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&ee.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(ee)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(ne){return ne===this.index?this:this.setQueryParameters({index:ne})},setQuery:function(ne){return ne===this.query?this:this.setQueryParameters({query:ne})},setPage:function(ne){return ne===this.page?this:this.setQueryParameters({page:ne})},setFacets:function(ne){return this.setQueryParameters({facets:ne})},setDisjunctiveFacets:function(ne){return this.setQueryParameters({disjunctiveFacets:ne})},setHitsPerPage:function(ne){return this.hitsPerPage===ne?this:this.setQueryParameters({hitsPerPage:ne})},setTypoTolerance:function(ne){return this.typoTolerance===ne?this:this.setQueryParameters({typoTolerance:ne})},addNumericRefinement:function(Ce,ne,ee){var Se=Ie(ee);if(this.isNumericRefined(Ce,ne,Se))return this;var ue=a({},this.numericRefinements);return ue[Ce]=a({},ue[Ce]),ue[Ce][ne]?(ue[Ce][ne]=ue[Ce][ne].slice(),ue[Ce][ne].push(Se)):ue[Ce][ne]=[Se],this.setQueryParameters({numericRefinements:ue})},getConjunctiveRefinements:function(Ce){return this.isConjunctiveFacet(Ce)&&this.facetsRefinements[Ce]||[]},getDisjunctiveRefinements:function(Ce){return this.isDisjunctiveFacet(Ce)&&this.disjunctiveFacetsRefinements[Ce]||[]},getHierarchicalRefinement:function(Ce){return this.hierarchicalFacetsRefinements[Ce]||[]},getExcludeRefinements:function(Ce){return this.isConjunctiveFacet(Ce)&&this.facetsExcludes[Ce]||[]},removeNumericRefinement:function(Ce,ne,ee){return void 0!==ee?this.isNumericRefined(Ce,ne,ee)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(Se,ue){return ue===Ce&&Se.op===ne&&Ee(Se.val,Ie(ee))})}):this:void 0!==ne?this.isNumericRefined(Ce,ne)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(Se,ue){return ue===Ce&&Se.op===ne})}):this:this.isNumericRefined(Ce)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(Se,ue){return ue===Ce})}):this},getNumericRefinements:function(Ce){return this.numericRefinements[Ce]||{}},getNumericRefinement:function(Ce,ne){return this.numericRefinements[Ce]&&this.numericRefinements[Ce][ne]},_clearNumericRefinements:function(ne){if(void 0===ne)return Pe(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof ne)return ae(this.numericRefinements,[ne]);if("function"==typeof ne){var ee=!1,Se=this.numericRefinements,ue=Object.keys(Se).reduce(function(Re,we){var it=Se[we],Ze={};return it=it||{},Object.keys(it).forEach(function(tt){var _t=it[tt]||[],Ve=[];_t.forEach(function(Tt){ne({val:Tt,op:tt},we,"numeric")||Ve.push(Tt)}),Ve.length!==_t.length&&(ee=!0),Ze[tt]=Ve}),Re[we]=Ze,Re},{});return ee?ue:this.numericRefinements}},addFacet:function(ne){return this.isConjunctiveFacet(ne)?this:this.setQueryParameters({facets:this.facets.concat([ne])})},addDisjunctiveFacet:function(ne){return this.isDisjunctiveFacet(ne)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([ne])})},addHierarchicalFacet:function(ne){if(this.isHierarchicalFacet(ne.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+ne.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([ne])})},addFacetRefinement:function(ne,ee){if(!this.isConjunctiveFacet(ne))throw new Error(ne+" is not defined in the facets attribute of the helper configuration");return Le.isRefined(this.facetsRefinements,ne,ee)?this:this.setQueryParameters({facetsRefinements:Le.addRefinement(this.facetsRefinements,ne,ee)})},addExcludeRefinement:function(ne,ee){if(!this.isConjunctiveFacet(ne))throw new Error(ne+" is not defined in the facets attribute of the helper configuration");return Le.isRefined(this.facetsExcludes,ne,ee)?this:this.setQueryParameters({facetsExcludes:Le.addRefinement(this.facetsExcludes,ne,ee)})},addDisjunctiveFacetRefinement:function(ne,ee){if(!this.isDisjunctiveFacet(ne))throw new Error(ne+" is not defined in the disjunctiveFacets attribute of the helper configuration");return Le.isRefined(this.disjunctiveFacetsRefinements,ne,ee)?this:this.setQueryParameters({disjunctiveFacetsRefinements:Le.addRefinement(this.disjunctiveFacetsRefinements,ne,ee)})},addTagRefinement:function(ne){if(this.isTagRefined(ne))return this;var ee={tagRefinements:this.tagRefinements.concat(ne)};return this.setQueryParameters(ee)},removeFacet:function(ne){return this.isConjunctiveFacet(ne)?this.clearRefinements(ne).setQueryParameters({facets:this.facets.filter(function(ee){return ee!==ne})}):this},removeDisjunctiveFacet:function(ne){return this.isDisjunctiveFacet(ne)?this.clearRefinements(ne).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(ee){return ee!==ne})}):this},removeHierarchicalFacet:function(ne){return this.isHierarchicalFacet(ne)?this.clearRefinements(ne).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(ee){return ee.name!==ne})}):this},removeFacetRefinement:function(ne,ee){if(!this.isConjunctiveFacet(ne))throw new Error(ne+" is not defined in the facets attribute of the helper configuration");return Le.isRefined(this.facetsRefinements,ne,ee)?this.setQueryParameters({facetsRefinements:Le.removeRefinement(this.facetsRefinements,ne,ee)}):this},removeExcludeRefinement:function(ne,ee){if(!this.isConjunctiveFacet(ne))throw new Error(ne+" is not defined in the facets attribute of the helper configuration");return Le.isRefined(this.facetsExcludes,ne,ee)?this.setQueryParameters({facetsExcludes:Le.removeRefinement(this.facetsExcludes,ne,ee)}):this},removeDisjunctiveFacetRefinement:function(ne,ee){if(!this.isDisjunctiveFacet(ne))throw new Error(ne+" is not defined in the disjunctiveFacets attribute of the helper configuration");return Le.isRefined(this.disjunctiveFacetsRefinements,ne,ee)?this.setQueryParameters({disjunctiveFacetsRefinements:Le.removeRefinement(this.disjunctiveFacetsRefinements,ne,ee)}):this},removeTagRefinement:function(ne){if(!this.isTagRefined(ne))return this;var ee={tagRefinements:this.tagRefinements.filter(function(Se){return Se!==ne})};return this.setQueryParameters(ee)},toggleRefinement:function(ne,ee){return this.toggleFacetRefinement(ne,ee)},toggleFacetRefinement:function(ne,ee){if(this.isHierarchicalFacet(ne))return this.toggleHierarchicalFacetRefinement(ne,ee);if(this.isConjunctiveFacet(ne))return this.toggleConjunctiveFacetRefinement(ne,ee);if(this.isDisjunctiveFacet(ne))return this.toggleDisjunctiveFacetRefinement(ne,ee);throw new Error("Cannot refine the undeclared facet "+ne+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(ne,ee){if(!this.isConjunctiveFacet(ne))throw new Error(ne+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:Le.toggleRefinement(this.facetsRefinements,ne,ee)})},toggleExcludeFacetRefinement:function(ne,ee){if(!this.isConjunctiveFacet(ne))throw new Error(ne+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:Le.toggleRefinement(this.facetsExcludes,ne,ee)})},toggleDisjunctiveFacetRefinement:function(ne,ee){if(!this.isDisjunctiveFacet(ne))throw new Error(ne+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:Le.toggleRefinement(this.disjunctiveFacetsRefinements,ne,ee)})},toggleHierarchicalFacetRefinement:function(ne,ee){if(!this.isHierarchicalFacet(ne))throw new Error(ne+" is not defined in the hierarchicalFacets attribute of the helper configuration");var Se=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(ne)),ue={},Re=void 0!==this.hierarchicalFacetsRefinements[ne]&&this.hierarchicalFacetsRefinements[ne].length>0&&(this.hierarchicalFacetsRefinements[ne][0]===ee||0===this.hierarchicalFacetsRefinements[ne][0].indexOf(ee+Se));return ue[ne]=Re?-1===ee.indexOf(Se)?[]:[ee.slice(0,ee.lastIndexOf(Se))]:[ee],this.setQueryParameters({hierarchicalFacetsRefinements:y({},ue,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(Ce,ne){if(this.isHierarchicalFacetRefined(Ce))throw new Error(Ce+" is already refined.");if(!this.isHierarchicalFacet(Ce))throw new Error(Ce+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var ee={};return ee[Ce]=[ne],this.setQueryParameters({hierarchicalFacetsRefinements:y({},ee,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(Ce){if(!this.isHierarchicalFacetRefined(Ce))return this;var ne={};return ne[Ce]=[],this.setQueryParameters({hierarchicalFacetsRefinements:y({},ne,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(ne){return this.isTagRefined(ne)?this.removeTagRefinement(ne):this.addTagRefinement(ne)},isDisjunctiveFacet:function(Ce){return this.disjunctiveFacets.indexOf(Ce)>-1},isHierarchicalFacet:function(Ce){return void 0!==this.getHierarchicalFacetByName(Ce)},isConjunctiveFacet:function(Ce){return this.facets.indexOf(Ce)>-1},isFacetRefined:function(ne,ee){return!!this.isConjunctiveFacet(ne)&&Le.isRefined(this.facetsRefinements,ne,ee)},isExcludeRefined:function(ne,ee){return!!this.isConjunctiveFacet(ne)&&Le.isRefined(this.facetsExcludes,ne,ee)},isDisjunctiveFacetRefined:function(ne,ee){return!!this.isDisjunctiveFacet(ne)&&Le.isRefined(this.disjunctiveFacetsRefinements,ne,ee)},isHierarchicalFacetRefined:function(ne,ee){if(!this.isHierarchicalFacet(ne))return!1;var Se=this.getHierarchicalRefinement(ne);return ee?-1!==Se.indexOf(ee):Se.length>0},isNumericRefined:function(ne,ee,Se){if(void 0===Se&&void 0===ee)return!!this.numericRefinements[ne];var ue=this.numericRefinements[ne]&&void 0!==this.numericRefinements[ne][ee];if(void 0===Se||!ue)return ue;var Re=Ie(Se),we=void 0!==function fe(Ce,ne){return ce(Ce,function(ee){return Ee(ee,ne)})}(this.numericRefinements[ne][ee],Re);return ue&&we},isTagRefined:function(ne){return-1!==this.tagRefinements.indexOf(ne)},getRefinedDisjunctiveFacets:function(){var ne=this,ee=re(Object.keys(this.numericRefinements).filter(function(Se){return Object.keys(ne.numericRefinements[Se]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(Se){return ne.disjunctiveFacetsRefinements[Se].length>0}).concat(ee).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var ne=this;return re(this.hierarchicalFacets.map(function(ee){return ee.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(ee){return ne.hierarchicalFacetsRefinements[ee].length>0}))},getUnrefinedDisjunctiveFacets:function(){var Ce=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(ne){return-1===Ce.indexOf(ne)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var ne=this.managedParameters,ee={},Se=this;return Object.keys(this).forEach(function(ue){var Re=Se[ue];-1===ne.indexOf(ue)&&void 0!==Re&&(ee[ue]=Re)}),ee},setQueryParameter:function(ne,ee){if(this[ne]===ee)return this;var Se={};return Se[ne]=ee,this.setQueryParameters(Se)},setQueryParameters:function(ne){if(!ne)return this;var ee=Ae.validate(this,ne);if(ee)throw ee;var Se=this,ue=Ae._parseNumbers(ne),Re=Object.keys(this).reduce(function(it,Ze){return it[Ze]=Se[Ze],it},{}),we=Object.keys(ue).reduce(function(it,Ze){var _t=void 0!==ue[Ze];return void 0===it[Ze]||_t?(_t&&(it[Ze]=ue[Ze]),it):ae(it,[Ze])},Re);return new this.constructor(we)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(Ce){return Ce.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(Ce){return Ce.separator||" > "},_getHierarchicalRootPath:function(Ce){return Ce.rootPath||null},_getHierarchicalShowParentLevel:function(Ce){return"boolean"!=typeof Ce.showParentLevel||Ce.showParentLevel},getHierarchicalFacetByName:function(Ce){return ce(this.hierarchicalFacets,function(ne){return ne.name===Ce})},getHierarchicalFacetBreadcrumb:function(Ce){if(!this.isHierarchicalFacet(Ce))return[];var ne=this.getHierarchicalRefinement(Ce)[0];if(!ne)return[];var ee=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(Ce));return ne.split(ee).map(function(ue){return ue.trim()})},toString:function(){return JSON.stringify(this,null,2)}},Kt.exports=Ae},927:(Kt,st,F)=>{"use strict";Kt.exports=function Pe(fe){return function(Ce,ne){var ee=fe.hierarchicalFacets[ne],Se=fe.hierarchicalFacetsRefinements[ee.name]&&fe.hierarchicalFacetsRefinements[ee.name][0]||"",ue=fe._getHierarchicalFacetSeparator(ee),Re=fe._getHierarchicalRootPath(ee),we=fe._getHierarchicalShowParentLevel(ee),it=re(fe._getHierarchicalFacetSortBy(ee)),Ze=Ce.every(function(Ve){return Ve.exhaustive}),tt=function Ne(fe,Ae,Ce,ne,ee){return function(ue,Re,we){var it=ue;if(we>0){var Ze=0;for(it=ue;Ze<we;){var tt=it&&Array.isArray(it.data)?it.data:[];it=y(tt,function(Ve){return Ve.isRefined}),Ze++}}if(it){var _t=Object.keys(Re.data).map(function(Ve){return[Ve,Re.data[Ve]]}).filter(function(Ve){return function Le(fe,Ae,Ce,ne,ee,Se){return(!ee||0===fe.indexOf(ee)&&ee!==fe)&&(!ee&&-1===fe.indexOf(ne)||ee&&fe.split(ne).length-ee.split(ne).length==1||-1===fe.indexOf(ne)&&-1===Ce.indexOf(ne)||0===Ce.indexOf(fe)||0===fe.indexOf(Ae+ne)&&(Se||0===fe.indexOf(Ce)))}(Ve[0],it.path||Ce,ee,Ae,Ce,ne)});it.data=a(_t.map(function(Ve){return function Ee(fe,Ae,Ce,ne,ee){var Se=Ae.split(Ce);return{name:Se[Se.length-1].trim(),path:Ae,escapedValue:Ie(Ae),count:fe,isRefined:ne===Ae||0===ne.indexOf(Ae+Ce),exhaustive:ee,data:null}}(Ve[1],Ve[0],Ae,ae(ee),Re.exhaustive)}),fe[0],fe[1])}return ue}}(it,ue,Re,we,Se),_t=Ce;return Re&&(_t=Ce.slice(Re.split(ue).length)),_t.reduce(tt,{name:fe.hierarchicalFacets[ne].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:Ze,data:null})}};var a=F(756),y=F(3951),re=F(9798),ce=F(5730),Ie=ce.escapeFacetValue,ae=ce.unescapeFacetValue},9484:(Kt,st,F)=>{"use strict";var a=F(955),y=F(3569),re=F(756),ce=F(3270),Ie=F(3951),ae=F(4576),Pe=F(9798),Ne=F(5730),Le=Ne.escapeFacetValue,Ee=Ne.unescapeFacetValue,fe=F(927);function Ae(Ve){var Tt={};return Ve.forEach(function(Jt,ze){Tt[Jt]=ze}),Tt}function Ce(Ve,Tt,Jt){Tt&&Tt[Jt]&&(Ve.stats=Tt[Jt])}function ee(Ve,Tt,Jt){var ze=Tt[0];this._rawResults=Tt;var pt=this;Object.keys(ze).forEach(function(qt){pt[qt]=ze[qt]}),Object.keys(Jt||{}).forEach(function(qt){pt[qt]=Jt[qt]}),this.processingTimeMS=Tt.reduce(function(qt,kt){return void 0===kt.processingTimeMS?qt:qt+kt.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=Ve.hierarchicalFacets.map(function(){return[]}),this.facets=[];var Dt=Ve.getRefinedDisjunctiveFacets(),Et=Ae(Ve.facets),tn=Ae(Ve.disjunctiveFacets),bt=1,Qn=ze.facets||{};Object.keys(Qn).forEach(function(qt){var kt=Qn[qt],zt=function ne(Ve,Tt){return Ie(Ve,function(ze){return(ze.attributes||[]).indexOf(Tt)>-1})}(Ve.hierarchicalFacets,qt);if(zt){var Rt=zt.attributes.indexOf(qt),Dn=ae(Ve.hierarchicalFacets,function(Ut){return Ut.name===zt.name});pt.hierarchicalFacets[Dn][Rt]={attribute:qt,data:kt,exhaustive:ze.exhaustiveFacetsCount}}else{var At,In=-1!==Ve.disjunctiveFacets.indexOf(qt),It=-1!==Ve.facets.indexOf(qt);In&&(pt.disjunctiveFacets[At=tn[qt]]={name:qt,data:kt,exhaustive:ze.exhaustiveFacetsCount},Ce(pt.disjunctiveFacets[At],ze.facets_stats,qt)),It&&(pt.facets[At=Et[qt]]={name:qt,data:kt,exhaustive:ze.exhaustiveFacetsCount},Ce(pt.facets[At],ze.facets_stats,qt))}}),this.hierarchicalFacets=ce(this.hierarchicalFacets),Dt.forEach(function(qt){var kt=Tt[bt],zt=kt&&kt.facets?kt.facets:{},Rt=Ve.getHierarchicalFacetByName(qt);Object.keys(zt).forEach(function(Dn){var It,In=zt[Dn];if(Rt){It=ae(Ve.hierarchicalFacets,function(an){return an.name===Rt.name});var At=ae(pt.hierarchicalFacets[It],function(an){return an.attribute===Dn});if(-1===At)return;pt.hierarchicalFacets[It][At].data=a({},pt.hierarchicalFacets[It][At].data,In)}else pt.disjunctiveFacets[It=tn[Dn]]={name:Dn,data:y({},In,ze.facets&&ze.facets[Dn]||{}),exhaustive:kt.exhaustiveFacetsCount},Ce(pt.disjunctiveFacets[It],kt.facets_stats,Dn),Ve.disjunctiveFacetsRefinements[Dn]&&Ve.disjunctiveFacetsRefinements[Dn].forEach(function(an){!pt.disjunctiveFacets[It].data[an]&&Ve.disjunctiveFacetsRefinements[Dn].indexOf(Ee(an))>-1&&(pt.disjunctiveFacets[It].data[an]=0)})}),bt++}),Ve.getRefinedHierarchicalFacets().forEach(function(qt){var kt=Ve.getHierarchicalFacetByName(qt),zt=Ve._getHierarchicalFacetSeparator(kt),Rt=Ve.getHierarchicalRefinement(qt);if(!(0===Rt.length||Rt[0].split(zt).length<2)){var Dn=Tt[bt],In=Dn&&Dn.facets?Dn.facets:{};Object.keys(In).forEach(function(It){var At=In[It],Ut=ae(Ve.hierarchicalFacets,function($n){return $n.name===kt.name}),an=ae(pt.hierarchicalFacets[Ut],function($n){return $n.attribute===It});if(-1!==an){var Sn={};if(Rt.length>0){var Zn=Rt[0].split(zt)[0];Sn[Zn]=pt.hierarchicalFacets[Ut][an].data[Zn]}pt.hierarchicalFacets[Ut][an].data=y(Sn,At,pt.hierarchicalFacets[Ut][an].data)}}),bt++}}),Object.keys(Ve.facetsExcludes).forEach(function(qt){var kt=Ve.facetsExcludes[qt],zt=Et[qt];pt.facets[zt]={name:qt,data:ze.facets[qt],exhaustive:ze.exhaustiveFacetsCount},kt.forEach(function(Rt){pt.facets[zt]=pt.facets[zt]||{name:qt},pt.facets[zt].data=pt.facets[zt].data||{},pt.facets[zt].data[Rt]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(fe(Ve)),this.facets=ce(this.facets),this.disjunctiveFacets=ce(this.disjunctiveFacets),this._state=Ve}function ue(Ve,Tt,Jt,ze){if(ze=ze||0,Array.isArray(Tt))return Ve(Tt,Jt[ze]);if(!Tt.data||0===Tt.data.length)return Tt;var pt=Tt.data.map(function(tn){return ue(Ve,tn,Jt,ze+1)}),Dt=Ve(pt,Jt[ze]);return y({data:Dt},Tt)}function Ze(Ve,Tt){var Jt=Ie(Ve,function(ze){return ze.name===Tt});return Jt&&Jt.stats}function tt(Ve,Tt,Jt,ze,pt){var Dt=Ie(pt,function(bt){return bt.name===Jt});return{type:Tt,attributeName:Jt,name:ze,count:Dt&&Dt.data&&Dt.data[ze]?Dt.data[ze]:0,exhaustive:Dt&&Dt.exhaustive||!1}}ee.prototype.getFacetByName=function(Ve){function Tt(Jt){return Jt.name===Ve}return Ie(this.facets,Tt)||Ie(this.disjunctiveFacets,Tt)||Ie(this.hierarchicalFacets,Tt)},ee.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],ee.prototype.getFacetValues=function(Ve,Tt){var Jt=function Se(Ve,Tt){function Jt(Dt){return Dt.name===Tt}if(Ve._state.isConjunctiveFacet(Tt)){var ze=Ie(Ve.facets,Jt);return ze?Object.keys(ze.data).map(function(Dt){var Et=Le(Dt);return{name:Dt,escapedValue:Et,count:ze.data[Dt],isRefined:Ve._state.isFacetRefined(Tt,Et),isExcluded:Ve._state.isExcludeRefined(Tt,Dt)}}):[]}if(Ve._state.isDisjunctiveFacet(Tt)){var pt=Ie(Ve.disjunctiveFacets,Jt);return pt?Object.keys(pt.data).map(function(Dt){var Et=Le(Dt);return{name:Dt,escapedValue:Et,count:pt.data[Dt],isRefined:Ve._state.isDisjunctiveFacetRefined(Tt,Et)}}):[]}if(Ve._state.isHierarchicalFacet(Tt))return Ie(Ve.hierarchicalFacets,Jt)}(this,Ve);if(Jt){var ze=y({},Tt,{sortBy:ee.DEFAULT_SORT,facetOrdering:!(Tt&&Tt.sortBy)}),pt=this;return ue(function(tn,bt){if(ze.facetOrdering){var Qn=function it(Ve,Tt){return Ve.renderingContent&&Ve.renderingContent.facetOrdering&&Ve.renderingContent.facetOrdering.values&&Ve.renderingContent.facetOrdering.values[Tt]}(pt,bt);if(Boolean(Qn))return function we(Ve,Tt){var Jt=[],ze=[],Dt=(Tt.order||[]).reduce(function(bt,Qn,qt){return bt[Qn]=qt,bt},{});Ve.forEach(function(bt){var Qn=bt.path||bt.name;void 0!==Dt[Qn]?Jt[Dt[Qn]]=bt:ze.push(bt)}),Jt=Jt.filter(function(bt){return bt});var tn,Et=Tt.sortRemainingBy;return"hidden"===Et?Jt:Jt.concat(re(ze,(tn="alpha"===Et?[["path","name"],["asc","asc"]]:[["count"],["desc"]])[0],tn[1]))}(tn,Qn)}if(Array.isArray(ze.sortBy)){var qt=Pe(ze.sortBy,ee.DEFAULT_SORT);return re(tn,qt[0],qt[1])}if("function"==typeof ze.sortBy)return function Re(Ve,Tt){return Tt.sort(Ve)}(ze.sortBy,tn);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},Jt,Array.isArray(Jt)?[Ve]:pt._state.getHierarchicalFacetByName(Jt.name).attributes)}},ee.prototype.getFacetStats=function(Ve){return this._state.isConjunctiveFacet(Ve)?Ze(this.facets,Ve):this._state.isDisjunctiveFacet(Ve)?Ze(this.disjunctiveFacets,Ve):void 0},ee.prototype.getRefinements=function(){var Ve=this._state,Tt=this,Jt=[];return Object.keys(Ve.facetsRefinements).forEach(function(ze){Ve.facetsRefinements[ze].forEach(function(pt){Jt.push(tt(0,"facet",ze,pt,Tt.facets))})}),Object.keys(Ve.facetsExcludes).forEach(function(ze){Ve.facetsExcludes[ze].forEach(function(pt){Jt.push(tt(0,"exclude",ze,pt,Tt.facets))})}),Object.keys(Ve.disjunctiveFacetsRefinements).forEach(function(ze){Ve.disjunctiveFacetsRefinements[ze].forEach(function(pt){Jt.push(tt(0,"disjunctive",ze,pt,Tt.disjunctiveFacets))})}),Object.keys(Ve.hierarchicalFacetsRefinements).forEach(function(ze){Ve.hierarchicalFacetsRefinements[ze].forEach(function(pt){Jt.push(function _t(Ve,Tt,Jt,ze){var pt=Ve.getHierarchicalFacetByName(Tt),Dt=Ve._getHierarchicalFacetSeparator(pt),Et=Jt.split(Dt),tn=Ie(ze,function(zt){return zt.name===Tt}),bt=Et.reduce(function(zt,Rt){var Dn=zt&&Ie(zt.data,function(In){return In.name===Rt});return void 0!==Dn?Dn:zt},tn);return{type:"hierarchical",attributeName:Tt,name:bt&&bt.path||"",count:bt&&bt.count||0,exhaustive:bt&&bt.exhaustive||!1}}(Ve,ze,pt,Tt.hierarchicalFacets))})}),Object.keys(Ve.numericRefinements).forEach(function(ze){var pt=Ve.numericRefinements[ze];Object.keys(pt).forEach(function(Dt){pt[Dt].forEach(function(Et){Jt.push({type:"numeric",attributeName:ze,name:Et,numericValue:Et,operator:Dt})})})}),Ve.tagRefinements.forEach(function(ze){Jt.push({type:"tag",attributeName:"_tags",name:ze})}),Jt},Kt.exports=ee},7564:(Kt,st,F)=>{"use strict";var a=F(844),y=F(9484),re=F(2231),ce=F(8436),Ie=F(7452),ae=F(2898),Pe=F(5855),Ne=F(8052),Le=F(955),Ee=F(8902),fe=F(5730).escapeFacetValue;function Ae(ee,Se,ue){"function"==typeof ee.addAlgoliaAgent&&ee.addAlgoliaAgent("JS Helper ("+Ee+")"),this.setClient(ee);var Re=ue||{};Re.index=Se,this.state=a.make(Re),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function Ce(ee){if(ee<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(ee),isPageReset:!1}),this}function ne(){return this.state.page}ae(Ae,Ie),Ae.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},Ae.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},Ae.prototype.getQuery=function(){return ce._getHitsSearchParams(this.state)},Ae.prototype.searchOnce=function(ee,Se){var ue=ee?this.state.setQueryParameters(ee):this.state,Re=ce._getQueries(ue.index,ue),we=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:ue}),!Se)return this.client.search(Re).then(function(it){return we._currentNbQueries--,0===we._currentNbQueries&&we.emit("searchQueueEmpty"),{content:new y(ue,it.results),state:ue,_originalResponse:it}},function(it){throw we._currentNbQueries--,0===we._currentNbQueries&&we.emit("searchQueueEmpty"),it});this.client.search(Re).then(function(it){we._currentNbQueries--,0===we._currentNbQueries&&we.emit("searchQueueEmpty"),Se(null,new y(ue,it.results),ue)}).catch(function(it){we._currentNbQueries--,0===we._currentNbQueries&&we.emit("searchQueueEmpty"),Se(it,null,ue)})},Ae.prototype.findAnswers=function(ee){var Se=this.state,ue=this.derivedHelpers[0];if(!ue)return Promise.resolve([]);var Re=ue.getModifiedState(Se),we=Le({attributesForPrediction:ee.attributesForPrediction,nbHits:ee.nbHits},{params:Ne(ce._getHitsSearchParams(Re),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),it="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(it);var Ze=this.client.initIndex(Re.index);if("function"!=typeof Ze.findAnswers)throw new Error(it);return Ze.findAnswers(Re.query,ee.queryLanguages,we)},Ae.prototype.searchForFacetValues=function(ee,Se,ue,Re){var we="function"==typeof this.client.searchForFacetValues;if(!we&&"function"!=typeof this.client.initIndex)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var it=this.state.setQueryParameters(Re||{}),Ze=it.isDisjunctiveFacet(ee),tt=ce.getSearchForFacetQuery(ee,Se,ue,it);this._currentNbQueries++;var _t=this;return this.emit("searchForFacetValues",{state:it,facet:ee,query:Se}),(we?this.client.searchForFacetValues([{indexName:it.index,params:tt}]):this.client.initIndex(it.index).searchForFacetValues(tt)).then(function(Jt){return _t._currentNbQueries--,0===_t._currentNbQueries&&_t.emit("searchQueueEmpty"),(Jt=Array.isArray(Jt)?Jt[0]:Jt).facetHits.forEach(function(ze){ze.escapedValue=fe(ze.value),ze.isRefined=Ze?it.isDisjunctiveFacetRefined(ee,ze.escapedValue):it.isFacetRefined(ee,ze.escapedValue)}),Jt},function(Tt){throw _t._currentNbQueries--,0===_t._currentNbQueries&&_t.emit("searchQueueEmpty"),Tt})},Ae.prototype.setQuery=function(ee){return this._change({state:this.state.resetPage().setQuery(ee),isPageReset:!0}),this},Ae.prototype.clearRefinements=function(ee){return this._change({state:this.state.resetPage().clearRefinements(ee),isPageReset:!0}),this},Ae.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},Ae.prototype.addDisjunctiveFacetRefinement=function(ee,Se){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(ee,Se),isPageReset:!0}),this},Ae.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},Ae.prototype.addHierarchicalFacetRefinement=function(ee,Se){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(ee,Se),isPageReset:!0}),this},Ae.prototype.addNumericRefinement=function(ee,Se,ue){return this._change({state:this.state.resetPage().addNumericRefinement(ee,Se,ue),isPageReset:!0}),this},Ae.prototype.addFacetRefinement=function(ee,Se){return this._change({state:this.state.resetPage().addFacetRefinement(ee,Se),isPageReset:!0}),this},Ae.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},Ae.prototype.addFacetExclusion=function(ee,Se){return this._change({state:this.state.resetPage().addExcludeRefinement(ee,Se),isPageReset:!0}),this},Ae.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},Ae.prototype.addTag=function(ee){return this._change({state:this.state.resetPage().addTagRefinement(ee),isPageReset:!0}),this},Ae.prototype.removeNumericRefinement=function(ee,Se,ue){return this._change({state:this.state.resetPage().removeNumericRefinement(ee,Se,ue),isPageReset:!0}),this},Ae.prototype.removeDisjunctiveFacetRefinement=function(ee,Se){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(ee,Se),isPageReset:!0}),this},Ae.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},Ae.prototype.removeHierarchicalFacetRefinement=function(ee){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(ee),isPageReset:!0}),this},Ae.prototype.removeFacetRefinement=function(ee,Se){return this._change({state:this.state.resetPage().removeFacetRefinement(ee,Se),isPageReset:!0}),this},Ae.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},Ae.prototype.removeFacetExclusion=function(ee,Se){return this._change({state:this.state.resetPage().removeExcludeRefinement(ee,Se),isPageReset:!0}),this},Ae.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},Ae.prototype.removeTag=function(ee){return this._change({state:this.state.resetPage().removeTagRefinement(ee),isPageReset:!0}),this},Ae.prototype.toggleFacetExclusion=function(ee,Se){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(ee,Se),isPageReset:!0}),this},Ae.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},Ae.prototype.toggleRefinement=function(ee,Se){return this.toggleFacetRefinement(ee,Se)},Ae.prototype.toggleFacetRefinement=function(ee,Se){return this._change({state:this.state.resetPage().toggleFacetRefinement(ee,Se),isPageReset:!0}),this},Ae.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},Ae.prototype.toggleTag=function(ee){return this._change({state:this.state.resetPage().toggleTagRefinement(ee),isPageReset:!0}),this},Ae.prototype.nextPage=function(){return this.setPage((this.state.page||0)+1)},Ae.prototype.previousPage=function(){return this.setPage((this.state.page||0)-1)},Ae.prototype.setCurrentPage=Ce,Ae.prototype.setPage=Ce,Ae.prototype.setIndex=function(ee){return this._change({state:this.state.resetPage().setIndex(ee),isPageReset:!0}),this},Ae.prototype.setQueryParameter=function(ee,Se){return this._change({state:this.state.resetPage().setQueryParameter(ee,Se),isPageReset:!0}),this},Ae.prototype.setState=function(ee){return this._change({state:a.make(ee),isPageReset:!1}),this},Ae.prototype.overrideStateWithoutTriggeringChangeEvent=function(ee){return this.state=new a(ee),this},Ae.prototype.hasRefinements=function(ee){return!!Pe(this.state.getNumericRefinements(ee))||(this.state.isConjunctiveFacet(ee)?this.state.isFacetRefined(ee):this.state.isDisjunctiveFacet(ee)?this.state.isDisjunctiveFacetRefined(ee):!!this.state.isHierarchicalFacet(ee)&&this.state.isHierarchicalFacetRefined(ee))},Ae.prototype.isExcluded=function(ee,Se){return this.state.isExcludeRefined(ee,Se)},Ae.prototype.isDisjunctiveRefined=function(ee,Se){return this.state.isDisjunctiveFacetRefined(ee,Se)},Ae.prototype.hasTag=function(ee){return this.state.isTagRefined(ee)},Ae.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},Ae.prototype.getIndex=function(){return this.state.index},Ae.prototype.getCurrentPage=ne,Ae.prototype.getPage=ne,Ae.prototype.getTags=function(){return this.state.tagRefinements},Ae.prototype.getRefinements=function(ee){var Se=[];this.state.isConjunctiveFacet(ee)?(this.state.getConjunctiveRefinements(ee).forEach(function(Ze){Se.push({value:Ze,type:"conjunctive"})}),this.state.getExcludeRefinements(ee).forEach(function(Ze){Se.push({value:Ze,type:"exclude"})})):this.state.isDisjunctiveFacet(ee)&&this.state.getDisjunctiveRefinements(ee).forEach(function(Ze){Se.push({value:Ze,type:"disjunctive"})});var it=this.state.getNumericRefinements(ee);return Object.keys(it).forEach(function(Ze){Se.push({value:it[Ze],operator:Ze,type:"numeric"})}),Se},Ae.prototype.getNumericRefinement=function(ee,Se){return this.state.getNumericRefinement(ee,Se)},Ae.prototype.getHierarchicalFacetBreadcrumb=function(ee){return this.state.getHierarchicalFacetBreadcrumb(ee)},Ae.prototype._search=function(ee){var Se=this.state,ue=[],Re=[];ee.onlyWithDerivedHelpers||(Re=ce._getQueries(Se.index,Se),ue.push({state:Se,queriesCount:Re.length,helper:this}),this.emit("search",{state:Se,results:this.lastResults}));var we=this.derivedHelpers.map(function(tt){var _t=tt.getModifiedState(Se),Ve=ce._getQueries(_t.index,_t);return ue.push({state:_t,queriesCount:Ve.length,helper:tt}),tt.emit("search",{state:_t,results:tt.lastResults}),Ve}),it=Array.prototype.concat.apply(Re,we),Ze=this._queryId++;this._currentNbQueries++;try{this.client.search(it).then(this._dispatchAlgoliaResponse.bind(this,ue,Ze)).catch(this._dispatchAlgoliaError.bind(this,Ze))}catch(tt){this.emit("error",{error:tt})}},Ae.prototype._dispatchAlgoliaResponse=function(ee,Se,ue){if(!(Se<this._lastQueryIdReceived)){this._currentNbQueries-=Se-this._lastQueryIdReceived,this._lastQueryIdReceived=Se,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var Re=ue.results.slice();ee.forEach(function(we){var it=we.state,tt=we.helper,_t=Re.splice(0,we.queriesCount),Ve=tt.lastResults=new y(it,_t);tt.emit("result",{results:Ve,state:it})})}},Ae.prototype._dispatchAlgoliaError=function(ee,Se){ee<this._lastQueryIdReceived||(this._currentNbQueries-=ee-this._lastQueryIdReceived,this._lastQueryIdReceived=ee,this.emit("error",{error:Se}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},Ae.prototype.containsRefinement=function(ee,Se,ue,Re){return ee||0!==Se.length||0!==ue.length||0!==Re.length},Ae.prototype._hasDisjunctiveRefinements=function(ee){return this.state.disjunctiveRefinements[ee]&&this.state.disjunctiveRefinements[ee].length>0},Ae.prototype._change=function(ee){var Se=ee.state,ue=ee.isPageReset;Se!==this.state&&(this.state=Se,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:ue}))},Ae.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},Ae.prototype.setClient=function(ee){return this.client===ee||("function"==typeof ee.addAlgoliaAgent&&ee.addAlgoliaAgent("JS Helper ("+Ee+")"),this.client=ee),this},Ae.prototype.getClient=function(){return this.client},Ae.prototype.derive=function(ee){var Se=new re(this,ee);return this.derivedHelpers.push(Se),Se},Ae.prototype.detachDerivedHelper=function(ee){var Se=this.derivedHelpers.indexOf(ee);if(-1===Se)throw new Error("Derived helper already detached");this.derivedHelpers.splice(Se,1)},Ae.prototype.hasPendingRequests=function(){return this._currentNbQueries>0},Kt.exports=Ae},3270:Kt=>{"use strict";Kt.exports=function(F){return Array.isArray(F)?F.filter(Boolean):[]}},3569:Kt=>{"use strict";Kt.exports=function(){var F=Array.prototype.slice.call(arguments);return F.reduceRight(function(a,y){return Object.keys(Object(y)).forEach(function(re){void 0!==y[re]&&(void 0!==a[re]&&delete a[re],a[re]=y[re])}),a},{})}},5730:Kt=>{"use strict";Kt.exports={escapeFacetValue:function st(a){return"string"!=typeof a?a:String(a).replace(/^-/,"\\-")},unescapeFacetValue:function F(a){return"string"!=typeof a?a:a.replace(/^\\-/,"-")}}},3951:Kt=>{"use strict";Kt.exports=function(F,a){if(Array.isArray(F))for(var y=0;y<F.length;y++)if(a(F[y]))return F[y]}},4576:Kt=>{"use strict";Kt.exports=function(F,a){if(!Array.isArray(F))return-1;for(var y=0;y<F.length;y++)if(a(F[y]))return y;return-1}},9798:(Kt,st,F)=>{"use strict";var a=F(3951);Kt.exports=function(re,ce){var Ie=(ce||[]).map(function(ae){return ae.split(":")});return re.reduce(function(Pe,Ne){var Le=Ne.split(":"),Ee=a(Ie,function(fe){return fe[0]===Le[0]});return Le.length>1||!Ee?(Pe[0].push(Le[0]),Pe[1].push(Le[1]),Pe):(Pe[0].push(Ee[0]),Pe[1].push(Ee[1]),Pe)},[[],[]])}},2898:Kt=>{"use strict";Kt.exports=function st(F,a){F.prototype=Object.create(a.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}})}},5606:Kt=>{"use strict";Kt.exports=function st(F,a){return F.filter(function(y,re){return a.indexOf(y)>-1&&F.indexOf(y)===re})}},955:Kt=>{"use strict";function st(re){return"object"==typeof re&&null!==re?a(Array.isArray(re)?[]:{},re):re}function F(re){return"function"==typeof re||Array.isArray(re)||"[object Object]"===Object.prototype.toString.call(re)}function a(re,ce){if(re===ce)return re;for(var Ie in ce)if(Object.prototype.hasOwnProperty.call(ce,Ie)&&"__proto__"!==Ie){var ae=ce[Ie],Pe=re[Ie];void 0!==Pe&&void 0===ae||(re[Ie]=F(Pe)&&F(ae)?a(Pe,ae):st(ae))}return re}Kt.exports=function y(re){F(re)||(re={});for(var ce=1,Ie=arguments.length;ce<Ie;ce++){var ae=arguments[ce];F(ae)&&a(re,ae)}return re}},5855:Kt=>{"use strict";Kt.exports=function st(F){return F&&Object.keys(F).length>0}},8052:Kt=>{"use strict";Kt.exports=function st(F,a){if(null===F)return{};var ce,Ie,y={},re=Object.keys(F);for(Ie=0;Ie<re.length;Ie++)!(a.indexOf(ce=re[Ie])>=0)&&(y[ce]=F[ce]);return y}},756:Kt=>{"use strict";function st(a,y){if(a!==y){var re=void 0!==a,ce=null===a,Ie=void 0!==y,ae=null===y;if(!ae&&a>y||ce&&Ie||!re)return 1;if(!ce&&a<y||ae&&re||!Ie)return-1}return 0}Kt.exports=function F(a,y,re){if(!Array.isArray(a))return[];Array.isArray(re)||(re=[]);var ce=a.map(function(Ie,ae){return{criteria:y.map(function(Pe){return Ie[Pe]}),index:ae,value:Ie}});return ce.sort(function(ae,Pe){for(var Ne=-1;++Ne<ae.criteria.length;){var Le=st(ae.criteria[Ne],Pe.criteria[Ne]);if(Le)return Ne>=re.length?Le:"desc"===re[Ne]?-Le:Le}return ae.index-Pe.index}),ce.map(function(Ie){return Ie.value})}},7683:Kt=>{"use strict";Kt.exports=function st(F){if("number"==typeof F)return F;if("string"==typeof F)return parseFloat(F);if(Array.isArray(F))return F.map(st);throw new Error("The value should be a number, a parsable string or an array of those.")}},8436:(Kt,st,F)=>{"use strict";var a=F(955),y={_getQueries:function(ce,Ie){var ae=[];return ae.push({indexName:ce,params:y._getHitsSearchParams(Ie)}),Ie.getRefinedDisjunctiveFacets().forEach(function(Pe){ae.push({indexName:ce,params:y._getDisjunctiveFacetSearchParams(Ie,Pe)})}),Ie.getRefinedHierarchicalFacets().forEach(function(Pe){var Ne=Ie.getHierarchicalFacetByName(Pe),Le=Ie.getHierarchicalRefinement(Pe),Ee=Ie._getHierarchicalFacetSeparator(Ne);Le.length>0&&Le[0].split(Ee).length>1&&ae.push({indexName:ce,params:y._getDisjunctiveFacetSearchParams(Ie,Pe,!0)})}),ae},_getHitsSearchParams:function(re){var ce=re.facets.concat(re.disjunctiveFacets).concat(y._getHitsHierarchicalFacetsAttributes(re)),Ie=y._getFacetFilters(re),ae=y._getNumericFilters(re),Pe=y._getTagFilters(re),Ne={facets:ce.indexOf("*")>-1?["*"]:ce,tagFilters:Pe};return Ie.length>0&&(Ne.facetFilters=Ie),ae.length>0&&(Ne.numericFilters=ae),a({},re.getQueryParams(),Ne)},_getDisjunctiveFacetSearchParams:function(re,ce,Ie){var ae=y._getFacetFilters(re,ce,Ie),Pe=y._getNumericFilters(re,ce),Le={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:y._getTagFilters(re),analytics:!1,clickAnalytics:!1},Ee=re.getHierarchicalFacetByName(ce);return Le.facets=Ee?y._getDisjunctiveHierarchicalFacetAttribute(re,Ee,Ie):ce,Pe.length>0&&(Le.numericFilters=Pe),ae.length>0&&(Le.facetFilters=ae),a({},re.getQueryParams(),Le)},_getNumericFilters:function(re,ce){if(re.numericFilters)return re.numericFilters;var Ie=[];return Object.keys(re.numericRefinements).forEach(function(ae){var Pe=re.numericRefinements[ae]||{};Object.keys(Pe).forEach(function(Ne){ce!==ae&&(Pe[Ne]||[]).forEach(function(Ee){if(Array.isArray(Ee)){var fe=Ee.map(function(Ae){return ae+Ne+Ae});Ie.push(fe)}else Ie.push(ae+Ne+Ee)})})}),Ie},_getTagFilters:function(re){return re.tagFilters?re.tagFilters:re.tagRefinements.join(",")},_getFacetFilters:function(re,ce,Ie){var ae=[],Pe=re.facetsRefinements||{};Object.keys(Pe).forEach(function(fe){(Pe[fe]||[]).forEach(function(Ce){ae.push(fe+":"+Ce)})});var Ne=re.facetsExcludes||{};Object.keys(Ne).forEach(function(fe){(Ne[fe]||[]).forEach(function(Ce){ae.push(fe+":-"+Ce)})});var Le=re.disjunctiveFacetsRefinements||{};Object.keys(Le).forEach(function(fe){var Ae=Le[fe]||[];if(fe!==ce&&Ae&&0!==Ae.length){var Ce=[];Ae.forEach(function(ne){Ce.push(fe+":"+ne)}),ae.push(Ce)}});var Ee=re.hierarchicalFacetsRefinements||{};return Object.keys(Ee).forEach(function(fe){var Ce=(Ee[fe]||[])[0];if(void 0!==Ce){var ue,Re,ne=re.getHierarchicalFacetByName(fe),ee=re._getHierarchicalFacetSeparator(ne),Se=re._getHierarchicalRootPath(ne);if(ce===fe){if(-1===Ce.indexOf(ee)||!Se&&!0===Ie||Se&&Se.split(ee).length===Ce.split(ee).length)return;Se?(Re=Se.split(ee).length-1,Ce=Se):(Re=Ce.split(ee).length-2,Ce=Ce.slice(0,Ce.lastIndexOf(ee))),ue=ne.attributes[Re]}else Re=Ce.split(ee).length-1,ue=ne.attributes[Re];ue&&ae.push([ue+":"+Ce])}}),ae},_getHitsHierarchicalFacetsAttributes:function(re){return re.hierarchicalFacets.reduce(function(ae,Pe){var Ne=re.getHierarchicalRefinement(Pe.name)[0];if(!Ne)return ae.push(Pe.attributes[0]),ae;var Le=re._getHierarchicalFacetSeparator(Pe),Ee=Ne.split(Le).length,fe=Pe.attributes.slice(0,Ee+1);return ae.concat(fe)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(re,ce,Ie){var ae=re._getHierarchicalFacetSeparator(ce);if(!0===Ie){var Pe=re._getHierarchicalRootPath(ce),Ne=0;return Pe&&(Ne=Pe.split(ae).length),[ce.attributes[Ne]]}var Ee=(re.getHierarchicalRefinement(ce.name)[0]||"").split(ae).length-1;return ce.attributes.slice(0,Ee+1)},getSearchForFacetQuery:function(re,ce,Ie,ae){var Pe=ae.isDisjunctiveFacet(re)?ae.clearRefinements(re):ae,Ne={facetQuery:ce,facetName:re};return"number"==typeof Ie&&(Ne.maxFacetHits=Ie),a({},y._getHitsSearchParams(Pe),Ne)}};Kt.exports=y},4087:Kt=>{"use strict";Kt.exports=function(F){return null!==F&&/^[a-zA-Z0-9_-]{1,64}$/.test(F)}},8902:Kt=>{"use strict";Kt.exports="3.8.1"},3577:function(Kt){Kt.exports=function(){"use strict";function st(It,At,Ut){return At in It?Object.defineProperty(It,At,{value:Ut,enumerable:!0,configurable:!0,writable:!0}):It[At]=Ut,It}function F(It,At){var Ut=Object.keys(It);if(Object.getOwnPropertySymbols){var an=Object.getOwnPropertySymbols(It);At&&(an=an.filter(function(Sn){return Object.getOwnPropertyDescriptor(It,Sn).enumerable})),Ut.push.apply(Ut,an)}return Ut}function a(It){for(var At=1;At<arguments.length;At++){var Ut=null!=arguments[At]?arguments[At]:{};At%2?F(Object(Ut),!0).forEach(function(an){st(It,an,Ut[an])}):Object.getOwnPropertyDescriptors?Object.defineProperties(It,Object.getOwnPropertyDescriptors(Ut)):F(Object(Ut)).forEach(function(an){Object.defineProperty(It,an,Object.getOwnPropertyDescriptor(Ut,an))})}return It}function re(It,At){return function(Ut){if(Array.isArray(Ut))return Ut}(It)||function(Ut,an){if(Symbol.iterator in Object(Ut)||"[object Arguments]"===Object.prototype.toString.call(Ut)){var Sn=[],Zn=!0,$n=!1,ar=void 0;try{for(var Vr,Zr=Ut[Symbol.iterator]();!(Zn=(Vr=Zr.next()).done)&&(Sn.push(Vr.value),!an||Sn.length!==an);Zn=!0);}catch(Pr){$n=!0,ar=Pr}finally{try{Zn||null==Zr.return||Zr.return()}finally{if($n)throw ar}}return Sn}}(It,At)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ce(It){return function(At){if(Array.isArray(At)){for(var Ut=0,an=new Array(At.length);Ut<At.length;Ut++)an[Ut]=At[Ut];return an}}(It)||function(At){if(Symbol.iterator in Object(At)||"[object Arguments]"===Object.prototype.toString.call(At))return Array.from(At)}(It)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ie(It){var At,Ut="algoliasearch-client-js-".concat(It.key),an=function(){return void 0===At&&(At=It.localStorage||window.localStorage),At},Sn=function(){return JSON.parse(an().getItem(Ut)||"{}")};return{get:function(Zn,$n){var ar=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var Vr=JSON.stringify(Zn),Zr=Sn()[Vr];return Promise.all([Zr||$n(),void 0!==Zr])}).then(function(Vr){var Zr=re(Vr,2),Pr=Zr[0];return Promise.all([Pr,Zr[1]||ar.miss(Pr)])}).then(function(Vr){return re(Vr,1)[0]})},set:function(Zn,$n){return Promise.resolve().then(function(){var ar=Sn();return ar[JSON.stringify(Zn)]=$n,an().setItem(Ut,JSON.stringify(ar)),$n})},delete:function(Zn){return Promise.resolve().then(function(){var $n=Sn();delete $n[JSON.stringify(Zn)],an().setItem(Ut,JSON.stringify($n))})},clear:function(){return Promise.resolve().then(function(){an().removeItem(Ut)})}}}function ae(It){var At=ce(It.caches),Ut=At.shift();return void 0===Ut?{get:function(an,Sn){var Zn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Sn().then(function(ar){return Promise.all([ar,Zn.miss(ar)])}).then(function(ar){return re(ar,1)[0]})},set:function(an,Sn){return Promise.resolve(Sn)},delete:function(an){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(an,Sn){var Zn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Ut.get(an,Sn,Zn).catch(function(){return ae({caches:At}).get(an,Sn,Zn)})},set:function(an,Sn){return Ut.set(an,Sn).catch(function(){return ae({caches:At}).set(an,Sn)})},delete:function(an){return Ut.delete(an).catch(function(){return ae({caches:At}).delete(an)})},clear:function(){return Ut.clear().catch(function(){return ae({caches:At}).clear()})}}}function Pe(){var It=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},At={};return{get:function(Ut,an){var Sn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},Zn=JSON.stringify(Ut);if(Zn in At)return Promise.resolve(It.serializable?JSON.parse(At[Zn]):At[Zn]);var $n=an(),ar=Sn&&Sn.miss||function(){return Promise.resolve()};return $n.then(function(Vr){return ar(Vr)}).then(function(){return $n})},set:function(Ut,an){return At[JSON.stringify(Ut)]=It.serializable?JSON.stringify(an):an,Promise.resolve(an)},delete:function(Ut){return delete At[JSON.stringify(Ut)],Promise.resolve()},clear:function(){return At={},Promise.resolve()}}}function Ne(It){for(var At=It.length-1;At>0;At--){var Ut=Math.floor(Math.random()*(At+1)),an=It[At];It[At]=It[Ut],It[Ut]=an}return It}function Le(It,At){return At&&Object.keys(At).forEach(function(Ut){It[Ut]=At[Ut](It)}),It}function Ee(It){for(var At=arguments.length,Ut=new Array(At>1?At-1:0),an=1;an<At;an++)Ut[an-1]=arguments[an];var Sn=0;return It.replace(/%s/g,function(){return encodeURIComponent(Ut[Sn++])})}var fe_WithinQueryParameters=0,fe_WithinHeaders=1;function Ae(It,At){var Ut=It||{},an=Ut.data||{};return Object.keys(Ut).forEach(function(Sn){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(Sn)&&(an[Sn]=Ut[Sn])}),{data:Object.entries(an).length>0?an:void 0,timeout:Ut.timeout||At,headers:Ut.headers||{},queryParameters:Ut.queryParameters||{},cacheable:Ut.cacheable}}var Ce={Read:1,Write:2,Any:3};function ue(It){var At=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a(a({},It),{},{status:At,lastUpdate:Date.now()})}function Re(It){return"string"==typeof It?{protocol:"https",url:It,accept:Ce.Any}:{protocol:It.protocol||"https",url:It.url,accept:It.accept||Ce.Any}}var it="POST";function tt(It,At,Ut,an){var er,wr,vr,Sn=[],Zn=function(ti,er){if("GET"!==ti.method&&(void 0!==ti.data||void 0!==er.data)){var wr=Array.isArray(ti.data)?ti.data:a(a({},ti.data),er.data);return JSON.stringify(wr)}}(Ut,an),$n=(er=an,wr=a(a({},It.headers),er.headers),vr={},Object.keys(wr).forEach(function(xr){var gi=wr[xr];vr[xr.toLowerCase()]=gi}),vr),ar=Ut.method,Vr="GET"!==Ut.method?{}:a(a({},Ut.data),an.data),Zr=a(a(a({"x-algolia-agent":It.userAgent.value},It.queryParameters),Vr),an.queryParameters),Pr=0,Gr=function ti(er,wr){var vr=er.pop();if(void 0===vr)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:Jt(Sn)};var xr={data:Zn,headers:$n,method:ar,url:Ve(vr,Ut.path,Zr),connectTimeout:wr(Pr,It.timeouts.connect),responseTimeout:wr(Pr,an.timeout)},gi=function(Te){var pn={request:xr,response:Te,host:vr,triesLeft:er.length};return Sn.push(pn),pn},Je={onSuccess:function(Te){return function(pn){try{return JSON.parse(pn.content)}catch(Mn){throw{name:"DeserializationError",message:Mn.message,response:pn}}}(Te)},onRetry:function(Te){var pn=gi(Te);return Te.isTimedOut&&Pr++,Promise.all([It.logger.info("Retryable failure",ze(pn)),It.hostsCache.set(vr,ue(vr,Te.isTimedOut?3:2))]).then(function(){return ti(er,wr)})},onFail:function(Te){throw gi(Te),function(pn,Mn){var lr=pn.content,dn=pn.status,xn=lr;try{xn=JSON.parse(lr).message}catch(Vn){}return{name:"ApiError",message:xn,status:dn,transporterStackTrace:Mn}}(Te,Jt(Sn))}};return It.requester.send(xr).then(function(Te){return Mn=Je,dn=(lr=pn=Te).status,lr.isTimedOut||!(xn=lr).isTimedOut&&0==~~xn.status||2!=~~(dn/100)&&4!=~~(dn/100)?Mn.onRetry(pn):2==~~(pn.status/100)?Mn.onSuccess(pn):Mn.onFail(pn);var pn,Mn,lr,xn,dn})};return function Ze(It,At){return Promise.all(At.map(function(Ut){return It.get(Ut,function(){return Promise.resolve(ue(Ut))})})).then(function(Ut){var an=Ut.filter(function($n){return 1===(ar=$n).status||Date.now()-ar.lastUpdate>12e4;var ar}),Sn=Ut.filter(function($n){return 3===(ar=$n).status&&Date.now()-ar.lastUpdate<=12e4;var ar}),Zn=[].concat(ce(an),ce(Sn));return{getTimeout:function($n,ar){return(0===Sn.length&&0===$n?1:Sn.length+3+$n)*ar},statelessHosts:Zn.length>0?Zn.map(function($n){return Re($n)}):At}})}(It.hostsCache,At).then(function(ti){return Gr(ce(ti.statelessHosts).reverse(),ti.getTimeout)})}function _t(It){var At={value:"Algolia for JavaScript (".concat(It,")"),add:function(Ut){var an="; ".concat(Ut.segment).concat(void 0!==Ut.version?" (".concat(Ut.version,")"):"");return-1===At.value.indexOf(an)&&(At.value="".concat(At.value).concat(an)),At}};return At}function Ve(It,At,Ut){var an=Tt(Ut),Sn="".concat(It.protocol,"://").concat(It.url,"/").concat("/"===At.charAt(0)?At.substr(1):At);return an.length&&(Sn+="?".concat(an)),Sn}function Tt(It){return Object.keys(It).map(function(At){return Ee("%s=%s",At,(Ut=It[At],"[object Object]"===Object.prototype.toString.call(Ut)||"[object Array]"===Object.prototype.toString.call(Ut)?JSON.stringify(It[At]):It[At]));var Ut}).join("&")}function Jt(It){return It.map(function(At){return ze(At)})}function ze(It){var At=It.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return a(a({},It),{},{request:a(a({},It.request),{},{headers:a(a({},It.request.headers),At)})})}var Dt=function(It){return function(At,Ut){return"GET"===At.method?It.transporter.read(At,Ut):It.transporter.write(At,Ut)}},Et=function(It){return function(At){return Le({transporter:It.transporter,appId:It.appId,indexName:At},(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).methods)}},tn=function(It){return function(At,Ut){var an=At.map(function(Sn){return a(a({},Sn),{},{params:Tt(Sn.params||{})})});return It.transporter.read({method:it,path:"1/indexes/*/queries",data:{requests:an},cacheable:!0},Ut)}},bt=function(It){return function(At,Ut){return Promise.all(At.map(function(an){var Sn=an.params,Zn=Sn.facetName,$n=Sn.facetQuery,ar=function y(It,At){if(null==It)return{};var Ut,an,Sn=function($n,ar){if(null==$n)return{};var Vr,Zr,Pr={},Gr=Object.keys($n);for(Zr=0;Zr<Gr.length;Zr++)ar.indexOf(Vr=Gr[Zr])>=0||(Pr[Vr]=$n[Vr]);return Pr}(It,At);if(Object.getOwnPropertySymbols){var Zn=Object.getOwnPropertySymbols(It);for(an=0;an<Zn.length;an++)At.indexOf(Ut=Zn[an])>=0||Object.prototype.propertyIsEnumerable.call(It,Ut)&&(Sn[Ut]=It[Ut])}return Sn}(Sn,["facetName","facetQuery"]);return Et(It)(an.indexName,{methods:{searchForFacetValues:kt}}).searchForFacetValues(Zn,$n,a(a({},Ut),ar))}))}},Qn=function(It){return function(At,Ut,an){return It.transporter.read({method:it,path:Ee("1/answers/%s/prediction",It.indexName),data:{query:At,queryLanguages:Ut},cacheable:!0},an)}},qt=function(It){return function(At,Ut){return It.transporter.read({method:it,path:Ee("1/indexes/%s/query",It.indexName),data:{query:At},cacheable:!0},Ut)}},kt=function(It){return function(At,Ut,an){return It.transporter.read({method:it,path:Ee("1/indexes/%s/facets/%s/query",It.indexName,At),data:{facetQuery:Ut},cacheable:!0},an)}};function In(It,At,Ut){return function(It){var Sn,ar,At=It.appId,Ut=(Sn=void 0!==It.authMode?It.authMode:fe_WithinHeaders,ar={"x-algolia-api-key":It.apiKey,"x-algolia-application-id":At},{headers:function(){return Sn===fe_WithinHeaders?ar:{}},queryParameters:function(){return Sn===fe_WithinQueryParameters?ar:{}}}),an=function(Sn){var wr={hostsCache:Sn.hostsCache,logger:Sn.logger,requester:Sn.requester,requestsCache:Sn.requestsCache,responsesCache:Sn.responsesCache,timeouts:Sn.timeouts,userAgent:Sn.userAgent,headers:Sn.headers,queryParameters:Sn.queryParameters,hosts:Sn.hosts.map(function(vr){return Re(vr)}),read:function(vr,xr){var gi=Ae(xr,wr.timeouts.read),Je=function(){return tt(wr,wr.hosts.filter(function(pn){return 0!=(pn.accept&Ce.Read)}),vr,gi)};if(!0!==(void 0!==gi.cacheable?gi.cacheable:vr.cacheable))return Je();var Te={request:vr,mappedRequestOptions:gi,transporter:{queryParameters:wr.queryParameters,headers:wr.headers}};return wr.responsesCache.get(Te,function(){return wr.requestsCache.get(Te,function(){return wr.requestsCache.set(Te,Je()).then(function(pn){return Promise.all([wr.requestsCache.delete(Te),pn])},function(pn){return Promise.all([wr.requestsCache.delete(Te),Promise.reject(pn)])}).then(function(pn){return re(pn,2)[1]})})},{miss:function(pn){return wr.responsesCache.set(Te,pn)}})},write:function(vr,xr){return tt(wr,wr.hosts.filter(function(gi){return 0!=(gi.accept&Ce.Write)}),vr,Ae(xr,wr.timeouts.write))}};return wr}(a(a({hosts:[{url:"".concat(At,"-dsn.algolia.net"),accept:Ce.Read},{url:"".concat(At,".algolia.net"),accept:Ce.Write}].concat(Ne([{url:"".concat(At,"-1.algolianet.com")},{url:"".concat(At,"-2.algolianet.com")},{url:"".concat(At,"-3.algolianet.com")}]))},It),{},{headers:a(a(a({},Ut.headers()),{"content-type":"application/x-www-form-urlencoded"}),It.headers),queryParameters:a(a({},Ut.queryParameters()),It.queryParameters)}));return Le({transporter:an,appId:At,addAlgoliaAgent:function(Sn,Zn){an.userAgent.add({segment:Sn,version:Zn})},clearCache:function(){return Promise.all([an.requestsCache.clear(),an.responsesCache.clear()]).then(function(){})}},It.methods)}(a(a(a({},{appId:It,apiKey:At,timeouts:{connect:1,read:2,write:30},requester:{send:function(Zn){return new Promise(function($n){var ar=new XMLHttpRequest;ar.open(Zn.method,Zn.url,!0),Object.keys(Zn.headers).forEach(function(Gr){return ar.setRequestHeader(Gr,Zn.headers[Gr])});var Vr,Zr=function(Gr,ti){return setTimeout(function(){ar.abort(),$n({status:0,content:ti,isTimedOut:!0})},1e3*Gr)},Pr=Zr(Zn.connectTimeout,"Connection timeout");ar.onreadystatechange=function(){ar.readyState>ar.OPENED&&void 0===Vr&&(clearTimeout(Pr),Vr=Zr(Zn.responseTimeout,"Socket timeout"))},ar.onerror=function(){0===ar.status&&(clearTimeout(Pr),clearTimeout(Vr),$n({content:ar.responseText||"Network request failed",status:ar.status,isTimedOut:!1}))},ar.onload=function(){clearTimeout(Pr),clearTimeout(Vr),$n({content:ar.responseText,status:ar.status,isTimedOut:!1})},ar.send(Zn.data)})}},logger:(3,{debug:function(Zn,$n){return Promise.resolve()},info:function(Zn,$n){return Promise.resolve()},error:function(Zn,$n){return console.error(Zn,$n),Promise.resolve()}}),responsesCache:Pe(),requestsCache:Pe({serializable:!1}),hostsCache:ae({caches:[Ie({key:"".concat("4.13.0","-").concat(It)}),Pe()]}),userAgent:_t("4.13.0").add({segment:"Browser",version:"lite"}),authMode:fe_WithinQueryParameters}),Ut),{},{methods:{search:tn,searchForFacetValues:bt,multipleQueries:tn,multipleSearchForFacetValues:bt,customRequest:Dt,initIndex:function(Zn){return function($n){return Et(Zn)($n,{methods:{search:qt,searchForFacetValues:kt,findAnswers:Qn}})}}}}))}return In.version="4.13.0",In}()},6955:(Kt,st,F)=>{"use strict";F.d(st,{Lc:()=>ci,gK:()=>ka,ye:()=>sa,bb:()=>wh,Yi:()=>hs,A3:()=>kc,x0:()=>Ka,vM:()=>$s,N6:()=>ko,Ut:()=>Jh,ab:()=>Ep,rX:()=>Ro});var a=F(5e3),y=F(9808),re=function(_){var b=_.connector;return["https://www.algolia.com/doc/api-reference/widgets/",_.name,"/js/",void 0!==b&&b?"#connector":""].join("")},ce=function(){for(var _=arguments.length,h=new Array(_),b=0;b<_;b++)h[b]=arguments[b];var L=h.map(function(Z){return re(Z)}).join(", ");return function(Z){return[Z,"See documentation: ".concat(L)].filter(Boolean).join("\n\n")}};const ae=function Ie(){},Ee=function Le(d,_){if(void 0===d||"function"!=typeof d)throw new Error("The render function is not valid (received type ".concat(function Pe(d){return Object.prototype.toString.call(d).slice(8,-1)}(d),").\n\n").concat(_))};ce({name:"breadcrumb",connector:!0});const Et=function Dt(d){return d.filter(function(_,h,b){return b.indexOf(_)===h})};function tn(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function bt(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?tn(Object(h),!0).forEach(function(b){Qn(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):tn(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function Qn(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}var zt=function(_,h){var lt=function qt(d,_){if(null==d)return{};var b,L,h=function kt(d,_){if(null==d)return{};var L,Z,h={},b=Object.keys(d);for(Z=0;Z<b.length;Z++)!(_.indexOf(L=b[Z])>=0)&&(h[L]=d[L]);return h}(d,_);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(d);for(L=0;L<Z.length;L++)!(_.indexOf(b=Z[L])>=0)&&(!Object.prototype.propertyIsEnumerable.call(d,b)||(h[b]=d[b]))}return h}(h,["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"]);return _.setQueryParameters(lt)},Rt=function(_,h){return h.facets.reduce(function(b,L){return b.addFacet(L)},_)},Dn=function(_,h){return h.disjunctiveFacets.reduce(function(b,L){return b.addDisjunctiveFacet(L)},_)},In=function(_,h){return _.setQueryParameters({hierarchicalFacets:h.hierarchicalFacets.reduce(function(b,L){var Z=function ze(d,_){if(!Array.isArray(d))return-1;for(var h=0;h<d.length;h++)if(_(d[h]))return h;return-1}(b,function(Me){return Me.name===L.name});if(-1===Z)return b.concat(L);var _e=b.slice();return _e.splice(Z,1,L),_e},_.hierarchicalFacets)})},It=function(_,h){return h.tagRefinements.reduce(function(b,L){return b.addTagRefinement(L)},_)},At=function(_,h){return _.setQueryParameters({facetsRefinements:bt(bt({},_.facetsRefinements),h.facetsRefinements)})},Ut=function(_,h){return _.setQueryParameters({facetsExcludes:bt(bt({},_.facetsExcludes),h.facetsExcludes)})},an=function(_,h){return _.setQueryParameters({disjunctiveFacetsRefinements:bt(bt({},_.disjunctiveFacetsRefinements),h.disjunctiveFacetsRefinements)})},Sn=function(_,h){return _.setQueryParameters({numericRefinements:bt(bt({},_.numericRefinements),h.numericRefinements)})},Zn=function(_,h){return _.setQueryParameters({hierarchicalFacetsRefinements:bt(bt({},_.hierarchicalFacetsRefinements),h.hierarchicalFacetsRefinements)})},$n=function(_,h){var b=Et([].concat(_.ruleContexts).concat(h.ruleContexts).filter(Boolean));return b.length>0?_.setQueryParameters({ruleContexts:b}):_};const Vr=function(){for(var _=arguments.length,h=new Array(_),b=0;b<_;b++)h[b]=arguments[b];return h.reduce(function(L,Z){var _e=Zn(L,Z),Me=In(_e,Z),Xe=It(Me,Z),Qe=Sn(Xe,Z),gt=an(Qe,Z),ft=Ut(gt,Z),ut=At(ft,Z),lt=Dn(ut,Z),ht=$n(lt,Z),et=Rt(ht,Z);return zt(et,Z)})},Pr=function Zr(d,_){for(var h,b=0;b<d.length;b++)if(_(h=d[b],b,d))return h},ti=function Gr(d){return String(d).replace(/^\\-/,"-")};function er(d,_,h,b){var Me,L=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],Z={type:_,attribute:h,name:b},_e=Pr(L,function(Qe){return Qe.name===h});"hierarchical"===_?function(){for(var Qe=d.getHierarchicalFacetByName(h),gt=b.split(Qe.separator),ut=function(et){_e=_e&&_e.data&&Pr(Object.keys(_e.data).map(function(et){return function(wt){return et[wt]}}(_e.data)),function(wt){return wt.name===gt[et]})},lt=0;void 0!==_e&&lt<gt.length;++lt)ut(lt);Me=_e&&_e.count}():Me=_e&&_e.data&&_e.data[Z.name];var Xe=_e&&_e.exhaustive;return void 0!==Me&&(Z.count=Me),void 0!==Xe&&(Z.exhaustive=Xe),Z}function _r(d,_){(null==_||_>d.length)&&(_=d.length);for(var h=0,b=new Array(_);h<_;h++)b[h]=d[h];return b}function Ns(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function Kr(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?Ns(Object(h),!0).forEach(function(b){mr(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ns(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function mr(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}ce({name:"clear-refinements",connector:!0});var Qr=ce({name:"current-refinements",connector:!0});function tr(d){var _=d.results,h=d.helper,b=d.includedAttributes,L=d.excludedAttributes,Z=-1!==(b||[]).indexOf("query")||-1===(L||[]).indexOf("query"),_e=b?function(Xe){return-1!==b.indexOf(Xe.attribute)}:function(Xe){return-1===L.indexOf(Xe.attribute)},Me=function wr(d,_){var h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],b=[],L=_.facetsRefinements,Z=void 0===L?{}:L,_e=_.facetsExcludes,Me=void 0===_e?{}:_e,Xe=_.disjunctiveFacetsRefinements,Qe=void 0===Xe?{}:Xe,gt=_.hierarchicalFacetsRefinements,ft=void 0===gt?{}:gt,ut=_.numericRefinements,lt=void 0===ut?{}:ut,ht=_.tagRefinements,et=void 0===ht?[]:ht;return Object.keys(Z).forEach(function(wt){Z[wt].forEach(function(en){b.push(er(_,"facet",wt,en,d.facets))})}),Object.keys(Me).forEach(function(wt){Me[wt].forEach(function(en){b.push({type:"exclude",attribute:wt,name:en,exclude:!0})})}),Object.keys(Qe).forEach(function(wt){Qe[wt].forEach(function(en){b.push(er(_,"disjunctive",wt,ti(en),d.disjunctiveFacets))})}),Object.keys(ft).forEach(function(wt){ft[wt].forEach(function(en){b.push(er(_,"hierarchical",wt,en,d.hierarchicalFacets))})}),Object.keys(lt).forEach(function(wt){var Pt=lt[wt];Object.keys(Pt).forEach(function(en){var sn=en,Zt=Pt[sn];(Array.isArray(Zt)?Zt:[Zt]).forEach(function(fn){b.push({type:"numeric",attribute:wt,name:"".concat(fn),numericValue:fn,operator:sn})})})}),et.forEach(function(wt){b.push({type:"tag",attribute:"_tags",name:wt})}),h&&_.query&&_.query.trim()&&b.push({attribute:"query",type:"query",name:_.query,query:_.query}),b}(_,h.state,Z).map(po).filter(_e);return Me.reduce(function(Xe,Qe){return[].concat(function Ar(d){return function nr(d){if(Array.isArray(d))return _r(d)}(d)||function or(d){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(d))return Array.from(d)}(d)||function En(d,_){if(d){if("string"==typeof d)return _r(d,_);var h=Object.prototype.toString.call(d).slice(8,-1);if("Object"===h&&d.constructor&&(h=d.constructor.name),"Map"===h||"Set"===h)return Array.from(d);if("Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return _r(d,_)}}(d)||function Ht(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Xe.filter(function(gt){return gt.attribute!==Qe.attribute})),[{indexName:h.state.index,attribute:Qe.attribute,label:Qe.attribute,refinements:Me.filter(function(gt){return gt.attribute===Qe.attribute}).sort(function(gt,ft){return"numeric"===gt.type?gt.value-ft.value:0}),refine:function(ft){return Ys(h,ft)}}])},[])}function ks(d,_){switch(_.type){case"facet":return d.removeFacetRefinement(_.attribute,String(_.value));case"disjunctive":return d.removeDisjunctiveFacetRefinement(_.attribute,String(_.value));case"hierarchical":return d.removeHierarchicalFacetRefinement(_.attribute);case"exclude":return d.removeExcludeRefinement(_.attribute,String(_.value));case"numeric":return d.removeNumericRefinement(_.attribute,_.operator,String(_.value));case"tag":return d.removeTagRefinement(String(_.value));case"query":return d.setQueryParameter("query","");default:return d}}function Ys(d,_){d.setState(ks(d.state,_)).search()}function po(d){var _="numeric"===d.type?Number(d.name):d.name,h=d.operator?"".concat(function ni(d){switch(d){case">=":return"\u2265";case"<=":return"\u2264";default:return d}}(d.operator)," ").concat(d.name):d.name,b={attribute:d.attribute,type:d.type,value:_,label:h};return void 0!==d.operator&&(b.operator=d.operator),void 0!==d.count&&(b.count=d.count),void 0!==d.exhaustive&&(b.exhaustive=d.exhaustive),b}const Ws=function(_){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae;return Ee(_,Qr()),function(b){if((b||{}).includedAttributes&&(b||{}).excludedAttributes)throw new Error(Qr("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var L=b||{},Z=L.includedAttributes,_e=L.excludedAttributes,Me=void 0===_e?["query"]:_e,Xe=L.transformItems,Qe=void 0===Xe?function(gt){return gt}:Xe;return{$$type:"ais.currentRefinements",init:function(ft){var ut=ft.instantSearchInstance;_(Kr(Kr({},this.getWidgetRenderState(ft)),{},{instantSearchInstance:ut}),!0)},render:function(ft){var ut=ft.instantSearchInstance;_(Kr(Kr({},this.getWidgetRenderState(ft)),{},{instantSearchInstance:ut}),!1)},dispose:function(){h()},getRenderState:function(ft,ut){return Kr(Kr({},ft),{},{currentRefinements:this.getWidgetRenderState(ut)})},getWidgetRenderState:function(ft){var ut=ft.results,lt=ft.scopedResults,ht=ft.createURL,et=ft.helper,Pt=function wt(){return ut?lt.reduce(function(en,sn){return en.concat(Qe(tr({results:sn.results,helper:sn.helper,includedAttributes:Z,excludedAttributes:Me}),{results:ut}))},[]):Qe(tr({results:{},helper:et,includedAttributes:Z,excludedAttributes:Me}),{results:ut})}();return{items:Pt,canRefine:Pt.length>0,refine:function(sn){return Ys(et,sn)},createURL:function(sn){return ht(ks(et.state,sn))},widgetParams:b}}}}};function qi(d,_,h){return d.state.isHierarchicalFacet(_)?d.state.isHierarchicalFacetRefined(_,h):d.state.isConjunctiveFacet(_)?d.state.isFacetRefined(_,h):d.state.isDisjunctiveFacetRefined(_,h)}function Nt(d){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function at(d){var _=d.instantSearchInstance,h=d.helper,b=d.attribute,L=d.widgetType;return function(){for(var Me=arguments.length,Xe=new Array(Me),Qe=0;Qe<Me;Qe++)Xe[Qe]=arguments[Qe];var gt=Xe[0],ft=Xe[1],ut=Xe[2],lt=void 0===ut?"Filter Applied":ut;1===Xe.length&&"object"===Nt(Xe[0])?_.sendEventToInsights(Xe[0]):"click"===gt&&(2===Xe.length||3===Xe.length)&&(qi(h,b,ft)||_.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:L,eventType:gt,payload:{eventName:lt,index:h.getIndex(),filters:["".concat(b,":").concat(ft)]},attribute:b}))}}function Hi(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function Ii(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?Hi(Object(h),!0).forEach(function(b){Yr(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Hi(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function Yr(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}ce({name:"hierarchical-menu",connector:!0}),ce({name:"hits-per-page",connector:!0});var Lt=function(_){var h=_.method,Z=_.objectIDs,_e=_.results.index,Me=function(_,h){return h.map(function(b){var L=Pr(_,function(Z){return Z.objectID===b});if(void 0===L)throw new Error('Could not find objectID "'.concat(b,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return L})}(_.hits,Z),Xe=function(_){var h=Et(_.map(function(L){return L.__queryID}));if(h.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var b=h[0];if("string"!=typeof b)throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return b}(Me);switch(h){case"clickedObjectIDsAfterSearch":var Qe=function(_){return _.map(function(h){return h.__position})}(Me);return{index:_e,queryID:Xe,objectIDs:Z,positions:Qe};case"convertedObjectIDsAfterSearch":return{index:_e,queryID:Xe,objectIDs:Z};default:throw new Error('Unsupported method passed to insights: "'.concat(h,'".'))}};function yn(d){return function(_,h){return d(function(b,L){var Z=b.results,_e=b.hits,Me=b.instantSearchInstance;if(Z&&_e&&Me){var Xe=function(_,h,b){return function(L){for(var Z=arguments.length,_e=new Array(Z>1?Z-1:0),Me=1;Me<Z;Me++)_e[Me-1]=arguments[Me];var Xe=_e[0];if(!_){var Qe=ce({name:"instantsearch"});throw new Error(Qe("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(Xe.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var gt=Lt({method:L,results:h,hits:b,objectIDs:Xe.objectIDs});_(L,Ii(Ii({},gt),Xe))}}(Me.insightsClient,Z,_e);return _(Ii(Ii({},b),{},{insights:Xe}),L)}return _(b,L)},h)}}function Cn(d){return btoa(encodeURIComponent(JSON.stringify(d)))}function Wn(d){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}var Ir=function(_){var h=_.index,b=_.widgetType,Z=_.args;if(1===Z.length&&"object"===Wn(Z[0]))return[Z[0]];var _e=Z[0],Me=Z[1],Xe=Z[2];if(!Me)return[];if(("click"===_e||"conversion"===_e)&&!Xe)return[];var Qe=Array.isArray(Me)?function Si(d){return d.slice()}(Me):[Me];if(0===Qe.length)return[];var gt=Qe[0].__queryID,ft=function ui(d){for(var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,h=[],b=0;b<Math.ceil(d.length/_);b++)h.push(d.slice(b*_,(b+1)*_));return h}(Qe),ut=ft.map(function(ht){return ht.map(function(et){return et.objectID})}),lt=ft.map(function(ht){return ht.map(function(et){return et.__position})});return"view"===_e?ft.map(function(ht,et){return{insightsMethod:"viewedObjectIDs",widgetType:b,eventType:_e,payload:{eventName:Xe||"Hits Viewed",index:h,objectIDs:ut[et]},hits:ht}}):"click"===_e?ft.map(function(ht,et){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:b,eventType:_e,payload:{eventName:Xe,index:h,queryID:gt,objectIDs:ut[et],positions:lt[et]},hits:ht}}):"conversion"===_e?ft.map(function(ht,et){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:b,eventType:_e,payload:{eventName:Xe,index:h,queryID:gt,objectIDs:ut[et]},hits:ht}}):[]};function Rr(d){var _=d.instantSearchInstance,h=d.index,b=d.widgetType;return function(){for(var _e=arguments.length,Me=new Array(_e),Xe=0;Xe<_e;Xe++)Me[Xe]=arguments[Xe];var Qe=Ir({widgetType:b,index:h,methodName:"sendEvent",args:Me});Qe.forEach(function(gt){return _.sendEventToInsights(gt)})}}function Ci(d){var _=d.index,h=d.widgetType;return function(){for(var Z=arguments.length,_e=new Array(Z),Me=0;Me<Z;Me++)_e[Me]=arguments[Me];var Xe=Ir({widgetType:h,index:_,methodName:"bindEvent",args:_e});return Xe.length?"data-insights-event=".concat(Cn(Xe)):""}}var Tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Is=/[&<>"']/g,Oi=RegExp(Is.source);function Os(d){return(Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}const pe=function $e(d){if(!function Lo(d){return"object"===Os(d)&&null!==d}(d)||"[object Object]"!==function io(d){return null===d?void 0===d?"[object Undefined]":"[object Null]":Object.prototype.toString.call(d)}(d))return!1;if(null===Object.getPrototypeOf(d))return!0;for(var _=d;null!==Object.getPrototypeOf(_);)_=Object.getPrototypeOf(_);return Object.getPrototypeOf(d)===_};function qe(){return qe=Object.assign||function(d){for(var _=1;_<arguments.length;_++){var h=arguments[_];for(var b in h)Object.prototype.hasOwnProperty.call(h,b)&&(d[b]=h[b])}return d},qe.apply(this,arguments)}function Ot(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function vt(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?Ot(Object(h),!0).forEach(function(b){Nn(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ot(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function Nn(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}var rr={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"};function Jr(d){return function Mo(d){return d&&Oi.test(d)?d.replace(Is,function(_){return Tr[_]}):d}(d).replace(new RegExp(rr.highlightPreTag,"g"),"<mark>").replace(new RegExp(rr.highlightPostTag,"g"),"</mark>")}function Ri(d){return pe(d)&&"string"!=typeof d.value?Object.keys(d).reduce(function(_,h){return vt(vt({},_),{},Nn({},h,Ri(d[h])))},{}):Array.isArray(d)?d.map(Ri):vt(vt({},d),{},{value:Jr(d.value)})}function Ls(d){return void 0===d.__escaped&&((d=d.map(function(_){var h=qe({},_);return h._highlightResult&&(h._highlightResult=Ri(h._highlightResult)),h._snippetResult&&(h._snippetResult=Ri(h._snippetResult)),h})).__escaped=!0),d}function li(d){return d.map(function(_){return vt(vt({},_),{},{highlighted:Jr(_.highlighted)})})}function hi(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function Ss(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?hi(Object(h),!0).forEach(function(b){go(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):hi(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function go(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}function Uo(d,_,h){return d.map(function(b,L){return Ss(Ss({},b),{},{__position:h*_+L+1})})}function Co(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function mo(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?Co(Object(h),!0).forEach(function(b){Us(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Co(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function Us(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}function Rs(d,_){return _?d.map(function(h){return mo(mo({},h),{},{__queryID:_})}):d}function as(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function Mi(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?as(Object(h),!0).forEach(function(b){gs(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):as(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function gs(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}var Ui=ce({name:"hits",connector:!0});const ns=yn(function(_){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae;return Ee(_,Ui()),function(b){var Qe,gt,L=b||{},Z=L.escapeHTML,_e=void 0===Z||Z,Me=L.transformItems,Xe=void 0===Me?function(ft){return ft}:Me;return{$$type:"ais.hits",init:function(ut){_(Mi(Mi({},this.getWidgetRenderState(ut)),{},{instantSearchInstance:ut.instantSearchInstance}),!0)},render:function(ut){var lt=this.getWidgetRenderState(ut);_(Mi(Mi({},lt),{},{instantSearchInstance:ut.instantSearchInstance}),!1),lt.sendEvent("view",lt.hits)},getRenderState:function(ut,lt){return Mi(Mi({},ut),{},{hits:this.getWidgetRenderState(lt)})},getWidgetRenderState:function(ut){var lt=ut.results,ht=ut.helper;if(Qe||(Qe=Rr({instantSearchInstance:ut.instantSearchInstance,index:ht.getIndex(),widgetType:this.$$type})),gt||(gt=Ci({index:ht.getIndex(),widgetType:this.$$type})),!lt)return{hits:[],results:void 0,sendEvent:Qe,bindEvent:gt,widgetParams:b};_e&&lt.hits.length>0&&(lt.hits=Ls(lt.hits));var Pt=Rs(Uo(lt.hits,lt.page,lt.hitsPerPage),lt.queryID);return{hits:Xe(Pt,{results:lt}),results:lt,sendEvent:Qe,bindEvent:gt,widgetParams:b}},dispose:function(ut){var lt=ut.state;return h(),_e?lt.setQueryParameters(Object.keys(rr).reduce(function(ht,et){return Mi(Mi({},ht),{},gs({},et,void 0))},{})):lt},getWidgetSearchParameters:function(ut){return _e?ut.setQueryParameters(rr):ut}}}});function so(d){return d!==Object(d)}const As=function To(d,_){if(d===_)return!0;if(so(d)||so(_)||"function"==typeof d||"function"==typeof _)return d===_;if(Object.keys(d).length!==Object.keys(_).length)return!1;for(var h=0,b=Object.keys(d);h<b.length;h++){var L=b[h];if(!(L in _)||!To(d[L],_[L]))return!1}return!0};function ms(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function Wi(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?ms(Object(h),!0).forEach(function(b){bi(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):ms(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function bi(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}function q(d){return function nt(d){if(Array.isArray(d))return Gt(d)}(d)||function ve(d){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(d))return Array.from(d)}(d)||function W(d,_){if(d){if("string"==typeof d)return Gt(d,_);var h=Object.prototype.toString.call(d).slice(8,-1);if("Object"===h&&d.constructor&&(h=d.constructor.name),"Map"===h||"Set"===h)return Array.from(d);if("Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return Gt(d,_)}}(d)||function de(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(d,_){(null==_||_>d.length)&&(_=d.length);for(var h=0,b=new Array(_);h<_;h++)b[h]=d[h];return b}var di=ce({name:"infinite-hits",connector:!0});function Nr(d){return function hn(d,_){if(null==d)return{};var b,L,h=function dr(d,_){if(null==d)return{};var L,Z,h={},b=Object.keys(d);for(Z=0;Z<b.length;Z++)!(_.indexOf(L=b[Z])>=0)&&(h[L]=d[L]);return h}(d,_);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(d);for(L=0;L<Z.length;L++)!(_.indexOf(b=Z[L])>=0)&&(!Object.prototype.propertyIsEnumerable.call(d,b)||(h[b]=d[b]))}return h}(d||{},["page"])}function Kn(){var d=null,_=null;return{read:function(b){return As(_,Nr(b.state))?d:null},write:function(b){var Z=b.hits;_=Nr(b.state),d=Z}}}function Xr(d){return Object.keys(d).map(Number).sort(function(_,h){return _-h}).reduce(function(_,h){return _.concat(d[h])},[])}const oo=yn(function(_){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae;return Ee(_,di()),function(b){var ft,ut,lt,ht,L=b||{},Z=L.escapeHTML,_e=void 0===Z||Z,Me=L.transformItems,Xe=void 0===Me?function(sn){return sn}:Me,Qe=L.cache,gt=void 0===Qe?Kn():Qe,et=function(Zt,un){var fn=Zt.page,mn=void 0===fn?0:fn,Rn=Object.keys(un).map(Number);return 0===Rn.length?mn:Math.min.apply(Math,[mn].concat(q(Rn)))},wt=function(Zt,un){var fn=Zt.page,mn=void 0===fn?0:fn,Rn=Object.keys(un).map(Number);return 0===Rn.length?mn:Math.max.apply(Math,[mn].concat(q(Rn)))};return{$$type:"ais.infiniteHits",init:function(Zt){_(Wi(Wi({},this.getWidgetRenderState(Zt)),{},{instantSearchInstance:Zt.instantSearchInstance}),!0)},render:function(Zt){var un=Zt.instantSearchInstance,fn=this.getWidgetRenderState(Zt);_(Wi(Wi({},fn),{},{instantSearchInstance:un}),!1),lt("view",fn.currentPageHits)},getRenderState:function(Zt,un){return Wi(Wi({},Zt),{},{infiniteHits:this.getWidgetRenderState(un)})},getWidgetRenderState:function(Zt){var ur,un=Zt.results,fn=Zt.helper,mn=Zt.state,Rn=Zt.instantSearchInstance,Or=[],Wr=gt.read({state:mn})||{};if(un){var v=mn.page,u=void 0===v?0:v;_e&&un.hits.length>0&&(un.hits=Ls(un.hits));var S=Rs(Uo(un.hits,un.page,un.hitsPerPage),un.queryID),x=Xe(S,{results:un});void 0===Wr[u]&&!un.__isArtificial&&(Wr[u]=x,gt.write({state:mn,hits:Wr})),Or=x,ur=0===et(mn,Wr)}else ft=function(Zt){return function(){Zt.overrideStateWithoutTriggeringChangeEvent(Wi(Wi({},Zt.state),{},{page:et(Zt.state,gt.read({state:Zt.state})||{})-1})).searchWithoutTriggeringOnStateChange()}}(fn),ut=function(Zt){return function(){Zt.setPage(wt(Zt.state,gt.read({state:Zt.state})||{})+1).search()}}(fn),lt=Rr({instantSearchInstance:Rn,index:fn.getIndex(),widgetType:this.$$type}),ht=Ci({index:fn.getIndex(),widgetType:this.$$type}),ur=void 0===mn.page||0===et(mn,Wr);var K=Xr(Wr),be=!un||un.nbPages<=wt(mn,Wr)+1;return{hits:K,currentPageHits:Or,sendEvent:lt,bindEvent:ht,results:un,showPrevious:ft,showMore:ut,isFirstPage:ur,isLastPage:be,widgetParams:b}},dispose:function(Zt){var un=Zt.state;h();var fn=un.setQueryParameter("page",void 0);return _e?fn.setQueryParameters(Object.keys(rr).reduce(function(mn,Rn){return Wi(Wi({},mn),{},bi({},Rn,void 0))},{})):fn},getWidgetUiState:function(Zt,un){var mn=un.searchParameters.page||0;return mn?Wi(Wi({},Zt),{},{page:mn+1}):Zt},getWidgetSearchParameters:function(Zt,un){var fn=un.uiState,mn=Zt;return _e&&(mn=Zt.setQueryParameters(rr)),mn.setQueryParameter("page",fn.page?fn.page-1:0)}}}});function ao(d,_){if(null==d)return{};var b,L,h=function Sr(d,_){if(null==d)return{};var L,Z,h={},b=Object.keys(d);for(Z=0;Z<b.length;Z++)!(_.indexOf(L=b[Z])>=0)&&(h[L]=d[L]);return h}(d,_);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(d);for(L=0;L<Z.length;L++)!(_.indexOf(b=Z[L])>=0)&&(!Object.prototype.propertyIsEnumerable.call(d,b)||(h[b]=d[b]))}return h}function vo(d,_){return function H(d){if(Array.isArray(d))return d}(d)||function Y(d,_){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(d)){var h=[],b=!0,L=!1,Z=void 0;try{for(var Me,_e=d[Symbol.iterator]();!(b=(Me=_e.next()).done)&&(h.push(Me.value),!_||h.length!==_);b=!0);}catch(Xe){L=!0,Z=Xe}finally{try{!b&&null!=_e.return&&_e.return()}finally{if(L)throw Z}}return h}}(d,_)||function Cs(d,_){if(d){if("string"==typeof d)return co(d,_);var h=Object.prototype.toString.call(d).slice(8,-1);if("Object"===h&&d.constructor&&(h=d.constructor.name),"Map"===h||"Set"===h)return Array.from(d);if("Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return co(d,_)}}(d,_)||function Ia(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function co(d,_){(null==_||_>d.length)&&(_=d.length);for(var h=0,b=new Array(_);h<_;h++)b[h]=d[h];return b}function V(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function J(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?V(Object(h),!0).forEach(function(b){Mt(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):V(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function Mt(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}var Bn=ce({name:"menu",connector:!0}),Fr=["isRefined","name:asc"];const Ms=function(_){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae;return Ee(_,Bn()),function(b){var L=b||{},Z=L.attribute,_e=L.limit,Me=void 0===_e?10:_e,Xe=L.showMore,Qe=void 0!==Xe&&Xe,gt=L.showMoreLimit,ft=void 0===gt?20:gt,ut=L.sortBy,lt=void 0===ut?Fr:ut,ht=L.transformItems,et=void 0===ht?function(Rn){return Rn}:ht;if(!Z)throw new Error(Bn("The `attribute` option is required."));if(!0===Qe&&ft<=Me)throw new Error(Bn("The `showMoreLimit` option must be greater than `limit`."));var wt,Pt,en,sn=!1,Zt=function(){};function fn(){Zt()}function mn(){return sn?ft:Me}return{$$type:"ais.menu",init:function(ur){var Or=ur.instantSearchInstance;_(J(J({},this.getWidgetRenderState(ur)),{},{instantSearchInstance:Or}),!0)},render:function(ur){var Or=ur.instantSearchInstance;_(J(J({},this.getWidgetRenderState(ur)),{},{instantSearchInstance:Or}),!1)},dispose:function(ur){var Or=ur.state;return h(),Or.removeHierarchicalFacet(Z).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(ur,Or){return J(J({},ur),{},{menu:J(J({},ur.menu),{},Mt({},Z,this.getWidgetRenderState(Or)))})},getWidgetRenderState:function(ur){var Or=ur.results,Wr=ur.createURL,u=ur.helper,p=[],S=!1;if(wt||(wt=at({instantSearchInstance:ur.instantSearchInstance,helper:u,attribute:Z,widgetType:this.$$type})),Pt||(Pt=function(ct){return Wr(u.state.resetPage().toggleFacetRefinement(Z,ct))}),en||(en=function(ct){var Fn=vo(u.getHierarchicalFacetBreadcrumb(Z),1)[0];wt("click",ct||Fn),u.toggleFacetRefinement(Z,ct||Fn).search()}),ur.results&&(Zt=function un(Rn,ur){return function(){sn=!sn,ur.render(Rn)}}(ur,this)),Or){var x=Or.getFacetValues(Z,{sortBy:lt,facetOrdering:lt===Fr}),K=x&&!Array.isArray(x)&&x.data?x.data:[];S=Qe&&(sn||K.length>mn()),p=et(K.slice(0,mn()).map(function(be){var ct=be.name,jt=be.escapedValue;return J(J({},ao(be,["name","escapedValue","path"])),{},{label:ct,value:jt})}),{results:Or})}return{items:p,createURL:Pt,refine:en,sendEvent:wt,canRefine:p.length>0,widgetParams:b,isShowingMore:sn,toggleShowMore:fn,canToggleShowMore:S}},getWidgetUiState:function(ur,Or){var p=vo(Or.searchParameters.getHierarchicalFacetBreadcrumb(Z),1)[0];return p?J(J({},ur),{},{menu:J(J({},ur.menu),{},Mt({},Z,p))}):ur},getWidgetSearchParameters:function(ur,Or){var Wr=Or.uiState,v=Wr.menu&&Wr.menu[Z],u=ur.removeHierarchicalFacet(Z).addHierarchicalFacet({name:Z,attributes:[Z]}),S=Math.max(u.maxValuesPerFacet||0,Qe?ft:Me),x=u.setQueryParameter("maxValuesPerFacet",S);return v?x.addHierarchicalFacetRefinement(Z,v):x.setQueryParameters({hierarchicalFacetsRefinements:J(J({},x.hierarchicalFacetsRefinements),{},Mt({},Z,[]))})}}}};function Gi(d,_){if(!d)return null;var h=d.numericRefinements[_],b=[];return Object.keys(h).filter(function(L){return Array.isArray(h[L])&&h[L].length>0}).forEach(function(L){h[L].forEach(function(Z){b.push("".concat(_).concat(L).concat(Z))})}),b}const Hr=function Go(d){return"number"==typeof d&&isFinite(d)};function Eu(d,_){return function js(d){if(Array.isArray(d))return d}(d)||function Xs(d,_){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(d)){var h=[],b=!0,L=!1,Z=void 0;try{for(var Me,_e=d[Symbol.iterator]();!(b=(Me=_e.next()).done)&&(h.push(Me.value),!_||h.length!==_);b=!0);}catch(Xe){L=!0,Z=Xe}finally{try{!b&&null!=_e.return&&_e.return()}finally{if(L)throw Z}}return h}}(d,_)||function _o(d,_){if(d){if("string"==typeof d)return La(d,_);var h=Object.prototype.toString.call(d).slice(8,-1);if("Object"===h&&d.constructor&&(h=d.constructor.name),"Map"===h||"Set"===h)return Array.from(d);if("Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return La(d,_)}}(d,_)||function su(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function La(d,_){(null==_||_>d.length)&&(_=d.length);for(var h=0,b=new Array(_);h<_;h++)b[h]=d[h];return b}function ca(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function fi(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?ca(Object(h),!0).forEach(function(b){zs(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):ca(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function zs(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}var Ko=ce({name:"numeric-menu",connector:!0}),oe="ais.numericMenu",Q=function(_){var h=_.instantSearchInstance,b=_.helper,L=_.attribute;return function(){for(var Z=arguments.length,_e=new Array(Z),Me=0;Me<Z;Me++)_e[Me]=arguments[Me];if(1!==_e.length){var Xe=_e[0],Qe=_e[1],gt=_e[2],ft=void 0===gt?"Filter Applied":gt;if("click"===Xe){var ut=Gi(We(b.state,L,Qe),L);ut&&ut.length>0&&h.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:oe,eventType:Xe,payload:{eventName:ft,index:b.getIndex(),filters:ut},attribute:L})}}else h.sendEventToInsights(_e[0])}};function Be(d,_,h){var b=d.getNumericRefinements(_);return void 0!==h.start&&void 0!==h.end?h.start===h.end?Yt(b,"=",h.start):Yt(b,">=",h.start)&&Yt(b,"<=",h.end):void 0!==h.start?Yt(b,">=",h.start):void 0!==h.end?Yt(b,"<=",h.end):void 0===h.start&&void 0===h.end&&Object.keys(b).every(function(L){return 0===(b[L]||[]).length})}function We(d,_,h){var b=d,L=JSON.parse(decodeURI(h)),Z=b.getNumericRefinements(_);if(void 0===L.start&&void 0===L.end)return b.removeNumericRefinement(_);if(Be(b,_,L)||(b=b.removeNumericRefinement(_)),void 0!==L.start&&void 0!==L.end){if(L.start>L.end)throw new Error("option.start should be > to option.end");if(L.start===L.end)return Yt(Z,"=",L.start)?b.removeNumericRefinement(_,"=",L.start):b.addNumericRefinement(_,"=",L.start)}return void 0!==L.start&&(Yt(Z,">=",L.start)&&(b=b.removeNumericRefinement(_,">=",L.start)),b=b.addNumericRefinement(_,">=",L.start)),void 0!==L.end&&(Yt(Z,"<=",L.end)&&(b=b.removeNumericRefinement(_,"<=",L.end)),b=b.addNumericRefinement(_,"<=",L.end)),"number"==typeof b.page&&(b.page=0),b}function Yt(d,_,h){return void 0!==d[_]&&d[_].includes(h)}const Gn=function(_){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae;return Ee(_,Ko()),function(b){var L=b||{},Z=L.attribute,_e=void 0===Z?"":Z,Me=L.items,Xe=void 0===Me?[]:Me,Qe=L.transformItems,gt=void 0===Qe?function(lt){return lt}:Qe;if(""===_e)throw new Error(Ko("The `attribute` option is required."));if(!Xe||0===Xe.length)throw new Error(Ko("The `items` option expects an array of objects."));var ft=function(ht){return Xe.map(function(et){var wt=et.start,Pt=et.end,en=et.label;return{label:en,value:encodeURI(JSON.stringify({start:wt,end:Pt})),isRefined:Be(ht,_e,{start:wt,end:Pt,label:en})}})},ut={};return{$$type:oe,init:function(ht){var et=ht.instantSearchInstance;_(fi(fi({},this.getWidgetRenderState(ht)),{},{instantSearchInstance:et}),!0)},render:function(ht){var et=ht.instantSearchInstance;_(fi(fi({},this.getWidgetRenderState(ht)),{},{instantSearchInstance:et}),!1)},dispose:function(ht){var et=ht.state;return h(),et.clearRefinements(_e)},getWidgetUiState:function(ht,et){var Pt=et.searchParameters.getNumericRefinements(_e),en=Pt["="]&&Pt["="][0];if(en||0===en)return fi(fi({},ht),{},{numericMenu:fi(fi({},ht.numericMenu),{},zs({},_e,"".concat(Pt["="])))});var sn=Pt[">="]&&Pt[">="][0]||"",Zt=Pt["<="]&&Pt["<="][0]||"";return""===sn&&""===Zt?ht:fi(fi({},ht),{},{numericMenu:fi(fi({},ht.numericMenu),{},zs({},_e,"".concat(sn,":").concat(Zt)))})},getWidgetSearchParameters:function(ht,et){var wt=et.uiState,Pt=wt.numericMenu&&wt.numericMenu[_e],en=ht.clearRefinements(_e);if(!Pt)return en.setQueryParameters({numericRefinements:fi(fi({},en.numericRefinements),{},zs({},_e,{}))});if(-1===Pt.indexOf(":"))return en.addNumericRefinement(_e,"=",Number(Pt));var un=Eu(Pt.split(":").map(parseFloat),2),fn=un[0],mn=un[1],Rn=Hr(fn)?en.addNumericRefinement(_e,">=",fn):en;return Hr(mn)?Rn.addNumericRefinement(_e,"<=",mn):Rn},getRenderState:function(ht,et){return fi(fi({},ht),{},{numericMenu:fi(fi({},ht.numericMenu),{},zs({},_e,this.getWidgetRenderState(et)))})},getWidgetRenderState:function(ht){var et=ht.results,wt=ht.state,Pt=ht.instantSearchInstance,en=ht.helper,sn=ht.createURL;return ut.refine||(ut.refine=function(Zt){var un=We(en.state,_e,Zt);ut.sendEvent("click",Zt),en.setState(un).search()}),ut.createURL||(ut.createURL=function(Zt){return function(un){return sn(We(Zt,_e,un))}}),ut.sendEvent||(ut.sendEvent=Q({instantSearchInstance:Pt,helper:en,attribute:_e})),{createURL:ut.createURL(wt),items:gt(ft(wt),{results:et}),hasNoResults:!et||0===et.nbHits,refine:ut.refine,sendEvent:ut.sendEvent,widgetParams:b}}}}};function pc(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function Di(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?pc(Object(h),!0).forEach(function(b){ji(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):pc(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function ji(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}function Yo(d,_){if(null==d)return{};var b,L,h=function zc(d,_){if(null==d)return{};var L,Z,h={},b=Object.keys(d);for(Z=0;Z<b.length;Z++)!(_.indexOf(L=b[Z])>=0)&&(h[L]=d[L]);return h}(d,_);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(d);for(L=0;L<Z.length;L++)!(_.indexOf(b=Z[L])>=0)&&(!Object.prototype.propertyIsEnumerable.call(d,b)||(h[b]=d[b]))}return h}ce({name:"pagination",connector:!0}),ce({name:"range-input",connector:!0},{name:"range-slider",connector:!0});var Ca=ce({name:"refinement-list",connector:!0}),Ua=["isRefined","count:desc","name:asc"];const ml=function(_){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae;return Ee(_,Ca()),function(b){var L=b||{},Z=L.attribute,_e=L.operator,Me=void 0===_e?"or":_e,Xe=L.limit,Qe=void 0===Xe?10:Xe,gt=L.showMore,ft=void 0!==gt&&gt,ut=L.showMoreLimit,lt=void 0===ut?20:ut,ht=L.sortBy,et=void 0===ht?Ua:ht,wt=L.escapeFacetValues,Pt=void 0===wt||wt,en=L.transformItems,sn=void 0===en?function(K){return K}:en;if(!Z)throw new Error(Ca("The `attribute` option is required."));if(!/^(and|or)$/.test(Me))throw new Error(Ca('The `operator` must one of: `"and"`, `"or"` (got "'.concat(Me,'").')));if(!0===ft&&lt<=Qe)throw new Error(Ca("`showMoreLimit` should be greater than `limit`."));var un,Rn,ur,Zt=function(be){var ct=be.name,jt=be.escapedValue;return Di(Di({},Yo(be,["name","escapedValue"])),{},{value:jt,label:ct,highlighted:ct})},fn=[],mn=!0,Or=!1,Wr=function(){};function v(){Wr()}function p(){return Or?lt:Qe}var S=function(){return function(){}};return{$$type:"ais.refinementList",init:function(be){_(Di(Di({},this.getWidgetRenderState(be)),{},{instantSearchInstance:be.instantSearchInstance}),!0)},render:function(be){_(Di(Di({},this.getWidgetRenderState(be)),{},{instantSearchInstance:be.instantSearchInstance}),!1)},getRenderState:function(be,ct){return Di(Di({},be),{},{refinementList:Di(Di({},be.refinementList),{},ji({},Z,this.getWidgetRenderState(ct)))})},getWidgetRenderState:function(be){var ct=be.results,jt=be.state,gn=be.createURL,Xt=be.helper,Mr=[],xi=[];if((!ur||!Rn||!S)&&(ur=at({instantSearchInstance:be.instantSearchInstance,helper:Xt,attribute:Z,widgetType:this.$$type}),Rn=function(f){ur("click",f),Xt.toggleFacetRefinement(Z,f).search()},S=function(be,ct){return function(jt){return function(gn){var Fn=jt.instantSearchInstance,Xt=jt.results;if(""===gn&&fn)_(Di(Di({},ct.getWidgetRenderState(Di(Di({},jt),{},{results:un}))),{},{instantSearchInstance:Fn}),!1);else{var Mr={highlightPreTag:Pt?rr.highlightPreTag:"<mark>",highlightPostTag:Pt?rr.highlightPostTag:"</mark>"};be.searchForFacetValues(Z,gn,Math.min(p(),100),Mr).then(function(xi){var xs=Pt?li(xi.facetHits):xi.facetHits,Fa=sn(xs.map(function(zo){var Fo=zo.escapedValue,dc=zo.value;return Di(Di({},Yo(zo,["escapedValue","value"])),{},{value:Fo,label:dc})}),{results:Xt});_(Di(Di({},ct.getWidgetRenderState(Di(Di({},jt),{},{results:un}))),{},{items:Fa,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:Fn}),!1)})}}}}(Xt,this)),ct){var xs=ct.getFacetValues(Z,{sortBy:et,facetOrdering:et===Ua});xi=xs&&Array.isArray(xs)?xs:[],Mr=sn(xi.slice(0,p()).map(Zt),{results:ct});var Fa=jt.maxValuesPerFacet,zo=p();mn=Fa>zo?xi.length<=zo:xi.length<zo,un=ct,fn=Mr,be.results&&(Wr=function u(K,be){return function(){Or=!Or,be.render(K)}}(be,this))}var Fo=S&&S(be);return{createURL:function(f){return gn(jt.resetPage().toggleFacetRefinement(Z,f))},items:Mr,refine:Rn,searchForItems:Fo,isFromSearch:!1,canRefine:Mr.length>0,widgetParams:b,isShowingMore:Or,canToggleShowMore:Or&&fn.length>Qe||ft&&!mn,toggleShowMore:v,sendEvent:ur,hasExhaustiveItems:mn}},dispose:function(be){var ct=be.state;h();var jt=ct.setQueryParameter("maxValuesPerFacet",void 0);return"and"===Me?jt.removeFacet(Z):jt.removeDisjunctiveFacet(Z)},getWidgetUiState:function(be,ct){var jt=ct.searchParameters,gn="or"===Me?jt.getDisjunctiveRefinements(Z):jt.getConjunctiveRefinements(Z);return gn.length?Di(Di({},be),{},{refinementList:Di(Di({},be.refinementList),{},ji({},Z,gn))}):be},getWidgetSearchParameters:function(be,ct){var jt=ct.uiState,gn="or"===Me,Fn=jt.refinementList&&jt.refinementList[Z],Xt=be.clearRefinements(Z),Mr=gn?Xt.addDisjunctiveFacet(Z):Xt.addFacet(Z),xs=Math.max(Mr.maxValuesPerFacet||0,ft?lt:Qe),Fa=Mr.setQueryParameter("maxValuesPerFacet",xs);if(!Fn){var zo=gn?"disjunctiveFacetsRefinements":"facetsRefinements";return Fa.setQueryParameters(ji({},zo,Di(Di({},Fa[zo]),{},ji({},Z,[]))))}return Fn.reduce(function(Fo,dc){return gn?Fo.addDisjunctiveFacetRefinement(Z,dc):Fo.addFacetRefinement(Z,dc)},Fa)}}}};function nc(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function Ta(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?nc(Object(h),!0).forEach(function(b){Eo(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):nc(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function Eo(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}var $l=ce({name:"search-box",connector:!0}),Wl=function(_,h){return h(_)};const Jo=function(_){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae;return Ee(_,$l()),function(b){var Me,Xe,Z=(b||{}).queryHook,_e=void 0===Z?Wl:Z;return{$$type:"ais.searchBox",init:function(gt){var ft=gt.instantSearchInstance;_(Ta(Ta({},this.getWidgetRenderState(gt)),{},{instantSearchInstance:ft}),!0)},render:function(gt){var ft=gt.instantSearchInstance;_(Ta(Ta({},this.getWidgetRenderState(gt)),{},{instantSearchInstance:ft}),!1)},dispose:function(gt){var ft=gt.state;return h(),ft.setQueryParameter("query",void 0)},getRenderState:function(gt,ft){return Ta(Ta({},gt),{},{searchBox:this.getWidgetRenderState(ft)})},getWidgetRenderState:function(gt){var ft=gt.helper;return Me||(Me=function(et){_e(et,function(wt){return ft.setQuery(wt).search()})},Xe=function(){ft.setQuery("").search()}),{query:gt.state.query||"",refine:Me,clear:Xe,widgetParams:b,isSearchStalled:gt.searchMetadata.isSearchStalled}},getWidgetUiState:function(gt,ft){var lt=ft.searchParameters.query||"";return""===lt||gt&&gt.query===lt?gt:Ta(Ta({},gt),{},{query:lt})},getWidgetSearchParameters:function(gt,ft){return gt.setQueryParameter("query",ft.uiState.query||"")}}}};function Gs(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function pa(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?Gs(Object(h),!0).forEach(function(b){yf(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Gs(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function yf(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}ce({name:"sort-by",connector:!0}),ce({name:"rating-menu",connector:!0});var zl=ce({name:"stats",connector:!0});const Pd=function(_){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae;return Ee(_,zl()),function(b){return{$$type:"ais.stats",init:function(Z){var _e=Z.instantSearchInstance;_(pa(pa({},this.getWidgetRenderState(Z)),{},{instantSearchInstance:_e}),!0)},render:function(Z){var _e=Z.instantSearchInstance;_(pa(pa({},this.getWidgetRenderState(Z)),{},{instantSearchInstance:_e}),!1)},dispose:function(){h()},getRenderState:function(Z,_e){return pa(pa({},Z),{},{stats:this.getWidgetRenderState(_e)})},getWidgetRenderState:function(Z){var _e=Z.results,Me=Z.state;return _e?{hitsPerPage:_e.hitsPerPage,nbHits:_e.nbHits,nbSortedHits:_e.nbSortedHits,areHitsSorted:void 0!==_e.appliedRelevancyStrictness&&_e.appliedRelevancyStrictness>0&&_e.nbSortedHits!==_e.nbHits,nbPages:_e.nbPages,page:_e.page,processingTimeMS:_e.processingTimeMS,query:_e.query,widgetParams:b}:{hitsPerPage:Me.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:Me.page||0,processingTimeMS:-1,query:Me.query||"",widgetParams:b}}}}};ce({name:"toggle-refinement",connector:!0});var ga=F(3954);function rc(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function Ji(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?rc(Object(h),!0).forEach(function(b){ic(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):rc(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function ic(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}var Ld=ce({name:"configure",connector:!0});function Hu(d,_){return d.setQueryParameters(Object.keys(_.searchParameters).reduce(function(h,b){return Ji(Ji({},h),{},ic({},b,void 0))},{}))}const ql=function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae;return function(b){if(!b||!pe(b.searchParameters))throw new Error(Ld("The `searchParameters` option expects an object."));var L={};return{$$type:"ais.configure",init:function(Me){var Xe=Me.instantSearchInstance;_(Ji(Ji({},this.getWidgetRenderState(Me)),{},{instantSearchInstance:Xe}),!0)},render:function(Me){var Xe=Me.instantSearchInstance;_(Ji(Ji({},this.getWidgetRenderState(Me)),{},{instantSearchInstance:Xe}),!1)},dispose:function(Me){var Xe=Me.state;return h(),Hu(Xe,b)},getRenderState:function(Me,Xe){var Qe,gt=this.getWidgetRenderState(Xe);return Ji(Ji({},Me),{},{configure:Ji(Ji({},gt),{},{widgetParams:Ji(Ji({},gt.widgetParams),{},{searchParameters:Vr(new ga.SearchParameters(null===(Qe=Me.configure)||void 0===Qe?void 0:Qe.widgetParams.searchParameters),new ga.SearchParameters(gt.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(Me){return L.refine||(L.refine=function Z(_e){return function(Me){var Xe=Hu(_e.state,b),Qe=Vr(Xe,new ga.SearchParameters(Me));b.searchParameters=Me,_e.setState(Qe).search()}}(Me.helper)),{refine:L.refine,widgetParams:b}},getWidgetSearchParameters:function(Me,Xe){return Vr(Me,new ga.SearchParameters(Ji(Ji({},Xe.uiState.configure),b.searchParameters)))},getWidgetUiState:function(Me){return Ji(Ji({},Me),{},{configure:Ji(Ji({},Me.configure),b.searchParameters)})}}}},Gc=function sc(d,_){return(Array.isArray(_)?_:_.split(".")).reduce(function(b,L){return b&&b[L]},d)};ce({name:"configure-related-items",connector:!0}),ce({name:"query-rules",connector:!0}),ce({name:"voice-search",connector:!0});var ss=F(3577),lo=F.n(ss),Do=F(7452);function bl(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function ta(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?bl(Object(h),!0).forEach(function(b){xa(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):bl(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function xa(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}function Rh(d){return function Bf(d){if(Array.isArray(d))return yi(d)}(d)||function _f(d){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(d))return Array.from(d)}(d)||function Wa(d,_){if(d){if("string"==typeof d)return yi(d,_);var h=Object.prototype.toString.call(d).slice(8,-1);if("Object"===h&&d.constructor&&(h=d.constructor.name),"Map"===h||"Set"===h)return Array.from(d);if("Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return yi(d,_)}}(d)||function bp(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yi(d,_){(null==_||_>d.length)&&(_=d.length);for(var h=0,b=new Array(_);h<_;h++)b[h]=d[h];return b}var Vs=ce({name:"index-widget"});function Lr(d){return"ais.index"===d.$$type}function Gu(d,_){var h=_.state,b=_.isPageReset,L=_._uiState;h!==d.state&&(d.state=h,d.emit("change",{state:d.state,results:d.lastResults,isPageReset:b,_uiState:L}))}function Qc(d,_){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d.reduce(function(b,L){return Lr(L)||!L.getWidgetUiState&&!L.getWidgetState?b:L.getWidgetUiState?L.getWidgetUiState(b,_):L.getWidgetState(b,_)},h)}function Ql(d,_){var h=_.initialSearchParameters,b=function mc(d,_){if(null==d)return{};var b,L,h=function Mh(d,_){if(null==d)return{};var L,Z,h={},b=Object.keys(d);for(Z=0;Z<b.length;Z++)!(_.indexOf(L=b[Z])>=0)&&(h[L]=d[L]);return h}(d,_);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(d);for(L=0;L<Z.length;L++)!(_.indexOf(b=Z[L])>=0)&&(!Object.prototype.propertyIsEnumerable.call(d,b)||(h[b]=d[b]))}return h}(_,["initialSearchParameters"]);return d.filter(function(L){return!Lr(L)}).reduce(function(L,Z){return Z.getWidgetSearchParameters?Z.getWidgetSearchParameters(L,b):L},h)}function wl(d){var _=d.filter(Lr);0!==_.length&&_.forEach(function(h){var b=h.getHelper();Gu(b,{state:b.state.resetPage(),isPageReset:!0}),wl(h.getWidgets())})}function Ni(d){return d.filter(Lr).reduce(function(h,b){return h.concat.apply(h,[{indexId:b.getIndexId(),results:b.getResults(),helper:b.getHelper()}].concat(Rh(Ni(b.getWidgets()))))},[])}const xo=function(_){if(void 0===_||void 0===_.indexName)throw new Error(Vs("The `indexName` option is required."));var h=_.indexName,b=_.indexId,L=void 0===b?h:b,Z=[],_e={},Me=null,Xe=null,Qe=null,gt=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return h},getIndexId:function(){return L},getHelper:function(){return Qe},getResults:function(){return gt&&gt.lastResults},getScopedResults:function(){var ut=this.getParent();return Ni(ut?ut.getWidgets():[this])},getParent:function(){return Xe},createURL:function(ut){return Me._createURL(xa({},L,Qc(Z,{searchParameters:ut,helper:Qe})))},getWidgets:function(){return Z},addWidgets:function(ut){var lt=this;if(!Array.isArray(ut))throw new Error(Vs("The `addWidgets` method expects an array of widgets."));if(ut.some(function(ht){return"function"!=typeof ht.init&&"function"!=typeof ht.render}))throw new Error(Vs("The widget definition expects a `render` and/or an `init` method."));return Z=Z.concat(ut),Me&&Boolean(ut.length)&&(Gu(Qe,{state:Ql(Z,{uiState:_e,initialSearchParameters:Qe.state}),_uiState:_e}),ut.forEach(function(ht){ht.getRenderState&&du({renderState:ht.getRenderState(Me.renderState[lt.getIndexId()]||{},{uiState:Me._initialUiState,helper:lt.getHelper(),parent:lt,instantSearchInstance:Me,state:Qe.state,renderState:Me.renderState,templatesConfig:Me.templatesConfig,createURL:lt.createURL,scopedResults:[],searchMetadata:{isSearchStalled:Me._isSearchStalled}}),instantSearchInstance:Me,parent:lt})}),ut.forEach(function(ht){ht.init&&ht.init({helper:Qe,parent:lt,uiState:Me._initialUiState,instantSearchInstance:Me,state:Qe.state,renderState:Me.renderState,templatesConfig:Me.templatesConfig,createURL:lt.createURL,scopedResults:[],searchMetadata:{isSearchStalled:Me._isSearchStalled}})}),Me.scheduleSearch()),this},removeWidgets:function(ut){var lt=this;if(!Array.isArray(ut))throw new Error(Vs("The `removeWidgets` method expects an array of widgets."));if(ut.some(function(et){return"function"!=typeof et.dispose}))throw new Error(Vs("The widget definition expects a `dispose` method."));if(Z=Z.filter(function(et){return-1===ut.indexOf(et)}),Me&&Boolean(ut.length)){var ht=ut.reduce(function(et,wt){return wt.dispose({helper:Qe,state:et,parent:lt})||et},Qe.state);_e=Qc(Z,{searchParameters:ht,helper:Qe}),Qe.setState(Ql(Z,{uiState:_e,initialSearchParameters:ht})),Z.length&&Me.scheduleSearch()}return this},init:function(ut){var ht,lt=this,et=ut.instantSearchInstance,Pt=ut.uiState;if(null===Qe){Me=et,Xe=ut.parent;var en=et.mainHelper,sn=Ql(Z,{uiState:_e=Pt[L]||{},initialSearchParameters:new ga.SearchParameters({index:h})});(Qe=ga({},sn.index,sn)).search=function(){return et.onStateChange?(et.onStateChange({uiState:et.mainIndex.getWidgetUiState({}),setUiState:et.setUiState.bind(et)}),en):en.search()},Qe.searchWithoutTriggeringOnStateChange=function(){return en.search()},Qe.searchForFacetValues=function(fn,mn,Rn,ur){var Or=Qe.state.setQueryParameters(ur);return en.searchForFacetValues(fn,mn,Rn,Or)},gt=en.derive(function(){return Vr.apply(void 0,Rh(function(_){for(var h=_.getParent(),b=[_.getHelper().state];null!==h;)b=[h.getHelper().state].concat(b),h=h.getParent();return b}(lt)))});var Zt=null===(ht=et._initialResults)||void 0===ht?void 0:ht[this.getIndexId()];if(Zt){var un=new ga.SearchResults(new ga.SearchParameters(Zt.state),Zt.results);gt.lastResults=un,Qe.lastResults=un}Qe.on("change",function(fn){fn.isPageReset&&wl(Z)}),gt.on("search",function(){et.scheduleStalledRender()}),gt.on("result",function(fn){var mn=fn.results;et.scheduleRender(),Qe.lastResults=mn}),Z.forEach(function(fn){fn.getRenderState&&du({renderState:fn.getRenderState(et.renderState[lt.getIndexId()]||{},{uiState:Pt,helper:Qe,parent:lt,instantSearchInstance:et,state:Qe.state,renderState:et.renderState,templatesConfig:et.templatesConfig,createURL:lt.createURL,scopedResults:[],searchMetadata:{isSearchStalled:et._isSearchStalled}}),instantSearchInstance:et,parent:lt})}),Z.forEach(function(fn){fn.init&&fn.init({uiState:Pt,helper:Qe,parent:lt,instantSearchInstance:et,state:Qe.state,renderState:et.renderState,templatesConfig:et.templatesConfig,createURL:lt.createURL,scopedResults:[],searchMetadata:{isSearchStalled:et._isSearchStalled}})}),Qe.on("change",function(fn){_e=Qc(Z,{searchParameters:fn.state,helper:Qe},fn._uiState||{}),et.onStateChange||et.onInternalStateChange()}),Zt&&et.scheduleRender()}},render:function(ut){var lt=this,ht=ut.instantSearchInstance;!this.getResults()||(Z.forEach(function(et){et.getRenderState&&du({renderState:et.getRenderState(ht.renderState[lt.getIndexId()]||{},{helper:lt.getHelper(),parent:lt,instantSearchInstance:ht,results:lt.getResults(),scopedResults:lt.getScopedResults(),state:lt.getResults()._state,renderState:ht.renderState,templatesConfig:ht.templatesConfig,createURL:lt.createURL,searchMetadata:{isSearchStalled:ht._isSearchStalled}}),instantSearchInstance:ht,parent:lt})}),Z.forEach(function(et){et.render&&et.render({helper:Qe,parent:lt,instantSearchInstance:ht,results:lt.getResults(),scopedResults:lt.getScopedResults(),state:lt.getResults()._state,renderState:ht.renderState,templatesConfig:ht.templatesConfig,createURL:lt.createURL,searchMetadata:{isSearchStalled:ht._isSearchStalled}})}))},dispose:function(){var ut=this;Z.forEach(function(lt){lt.dispose&&lt.dispose({helper:Qe,state:Qe.state,parent:ut})}),Me=null,Xe=null,Qe.removeAllListeners(),Qe=null,gt.detach(),gt=null},getWidgetUiState:function(ut){return Z.filter(Lr).reduce(function(lt,ht){return ht.getWidgetUiState(lt)},ta(ta({},ut),{},xa({},this.getIndexId(),_e)))},getWidgetState:function(ut){return this.getWidgetUiState(ut)},getWidgetSearchParameters:function(ut,lt){return Ql(Z,{uiState:lt.uiState,initialSearchParameters:ut})},refreshUiState:function(){_e=Qc(Z,{searchParameters:this.getHelper().state,helper:this.getHelper()},_e)}}};function du(d){var _=d.renderState,h=d.instantSearchInstance,b=d.parent,L=b?b.getIndexId():h.mainIndex.getIndexId();h.renderState=ta(ta({},h.renderState),{},xa({},L,ta(ta({},h.renderState[L]),_)))}var hu=function(_){return function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=h.descendantName,L=h.modifierName,Z=b?"-".concat(b):"",_e=L?"--".concat(L):"";return"".concat("ais","-").concat(_).concat(Z).concat(_e)}},Ho=hu("Highlight");function eo(d){var h=d.highlightedTagName,b=void 0===h?"mark":h,Z=d.cssClasses,_e=void 0===Z?{}:Z,Qe=(Gc(d.hit._highlightResult,d.attribute)||{}).value,gt=void 0===Qe?"":Qe,ft=Ho({descendantName:"highlighted"})+(_e.highlighted?" ".concat(_e.highlighted):"");return gt.replace(new RegExp("<mark>","g"),"<".concat(b,' class="').concat(ft,'">')).replace(new RegExp("</mark>","g"),"</".concat(b,">"))}function yc(d){return d.map(function(b){return b.isHighlighted?"<mark>"+b.value+"</mark>":b.value}).join("")}var uh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},za=/&(amp|quot|lt|gt|#39);/g,ac=RegExp(za.source),Ku=new RegExp(/\w/i);function fu(d,_){var h,b,L=d[_],Z=(null===(h=d[_+1])||void 0===h?void 0:h.isHighlighted)||!0,_e=(null===(b=d[_-1])||void 0===b?void 0:b.isHighlighted)||!0;return Ku.test(function El(d){return d&&ac.test(d)?d.replace(za,function(_){return uh[_]}):d}(L.value))||_e!==Z?L.isHighlighted:_e}function Yc(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function na(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?Yc(Object(h),!0).forEach(function(b){hr(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Yc(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function hr(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}function Jl(d){return d.some(function(_){return _.isHighlighted})?d.map(function(_,h){return na(na({},_),{},{isHighlighted:!fu(d,h)})}):d.map(function(_){return na(na({},_),{},{isHighlighted:!1})})}function pu(d){var b=d.split("<mark>"),L=b.shift(),Z=L?[{value:L,isHighlighted:!1}]:[];return b.forEach(function(_e){var Me=_e.split("</mark>");Z.push({value:Me[0],isHighlighted:!0}),""!==Me[1]&&Z.push({value:Me[1],isHighlighted:!1})}),Z}var cc=hu("ReverseHighlight");function Jc(d){var h=d.highlightedTagName,b=void 0===h?"mark":h,Z=d.cssClasses,_e=void 0===Z?{}:Z,Qe=(Gc(d.hit._highlightResult,d.attribute)||{}).value,gt=void 0===Qe?"":Qe,ft=cc({descendantName:"highlighted"})+(_e.highlighted?" ".concat(_e.highlighted):"");return yc(Jl(pu(gt))).replace(new RegExp("<mark>","g"),"<".concat(b,' class="').concat(ft,'">')).replace(new RegExp("</mark>","g"),"</".concat(b,">"))}var gu=hu("Snippet");function Ph(d){var h=d.highlightedTagName,b=void 0===h?"mark":h,Z=d.cssClasses,_e=void 0===Z?{}:Z,Qe=(Gc(d.hit._snippetResult,d.attribute)||{}).value,gt=void 0===Qe?"":Qe,ft=gu({descendantName:"highlighted"})+(_e.highlighted?" ".concat(_e.highlighted):"");return gt.replace(new RegExp("<mark>","g"),"<".concat(b,' class="').concat(ft,'">')).replace(new RegExp("</mark>","g"),"</".concat(b,">"))}var Au=hu("ReverseSnippet");function vc(d){var h=d.highlightedTagName,b=void 0===h?"mark":h,Z=d.cssClasses,_e=void 0===Z?{}:Z,Qe=(Gc(d.hit._snippetResult,d.attribute)||{}).value,gt=void 0===Qe?"":Qe,ft=Au({descendantName:"highlighted"})+(_e.highlighted?" ".concat(_e.highlighted):"");return yc(Jl(pu(gt))).replace(new RegExp("<mark>","g"),"<".concat(b,' class="').concat(ft,'">')).replace(new RegExp("</mark>","g"),"</".concat(b,">"))}function Cu(d){return(Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function Il(d,_){return function Yu(d){var b,_=d.method,h=d.payload;if("object"!==Cu(h))throw new Error("The insights helper expects the payload to be an object.");try{b=Cn(h)}catch(L){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(_,'" data-insights-payload="').concat(b,'"')}({method:d,payload:_})}function Tu(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function ma(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?Tu(Object(h),!0).forEach(function(b){ra(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Tu(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function ra(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}function lh(d){var _=d.numberLocale;return{formatNumber:function(b,L){return Number(L(b)).toLocaleString(_)},highlight:function(b,L){try{return L(eo(ma(ma({},JSON.parse(b)),{},{hit:this})))}catch(_e){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(b,L){try{return L(Jc(ma(ma({},JSON.parse(b)),{},{hit:this})))}catch(_e){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(b,L){try{return L(Ph(ma(ma({},JSON.parse(b)),{},{hit:this})))}catch(_e){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(b,L){try{return L(vc(ma(ma({},JSON.parse(b)),{},{hit:this})))}catch(_e){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(b,L){try{var Z=JSON.parse(b);return L(Il(Z.method,ma({objectIDs:[this.objectID]},Z.payload)))}catch(Xe){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}var ls=Promise.resolve();const uc=function(_){var h=null,b=!1,L=function(){for(var _e=arguments.length,Me=new Array(_e),Xe=0;Xe<_e;Xe++)Me[Xe]=arguments[Xe];null===h&&(h=ls.then(function(){h=null,b?b=!1:_.apply(void 0,Me)}))};return L.wait=function(){if(null===h)throw new Error("The deferred function should be called before calling `wait()`");return h},L.cancel=function(){null!==h&&(b=!0)},L};function Xl(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function Ju(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?Xl(Object(h),!0).forEach(function(b){Xu(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Xl(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function Xu(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}function Bd(d){return function dh(d,_){if(null==d)return{};var b,L,h=function el(d,_){if(null==d)return{};var L,Z,h={},b=Object.keys(d);for(Z=0;Z<b.length;Z++)!(_.indexOf(L=b[Z])>=0)&&(h[L]=d[L]);return h}(d,_);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(d);for(L=0;L<Z.length;L++)!(_.indexOf(b=Z[L])>=0)&&(!Object.prototype.propertyIsEnumerable.call(d,b)||(h[b]=d[b]))}return h}(d,["configure"])}function Sl(){return{stateToRoute:function(_){return Object.keys(_).reduce(function(h,b){return Ju(Ju({},h),{},Xu({},b,Bd(_[b])))},{})},routeToState:function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(_).reduce(function(h,b){return Ju(Ju({},h),{},Xu({},b,Bd(_[b])))},{})}}}var tl=F(1781);function ds(d){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fallback:function(){}},h=_.fallback;return"undefined"==typeof window?h():d({window})}function Al(d,_){for(var h=0;h<_.length;h++){var b=_[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}function es(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}var ed=function(_){_&&(window.document.title=_)},Vd=function(){function d(_){var h=this,b=_.windowTitle,L=_.writeDelay,Z=void 0===L?400:L,_e=_.createURL,Me=_.parseURL,Xe=_.getLocation;(function Nh(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")})(this,d),es(this,"windowTitle",void 0),es(this,"writeDelay",void 0),es(this,"_createURL",void 0),es(this,"parseURL",void 0),es(this,"getLocation",void 0),es(this,"writeTimer",void 0),es(this,"shouldPushState",!0),es(this,"isDisposed",!1),es(this,"latestAcknowledgedHistory",0),this.windowTitle=b,this.writeTimer=void 0,this.writeDelay=Z,this._createURL=_e,this.parseURL=Me,this.getLocation=Xe,ds(function(Qe){var gt=Qe.window,ft=h.windowTitle&&h.windowTitle(h.read());ed(ft),h.latestAcknowledgedHistory=gt.history.length})}return function hh(d,_,h){_&&Al(d.prototype,_),h&&Al(d,h)}(d,[{key:"read",value:function(){return this.parseURL({qsModule:tl,location:this.getLocation()})}},{key:"write",value:function(h){var b=this;ds(function(L){var Z=L.window,_e=b.createURL(h),Me=b.windowTitle&&b.windowTitle(h);b.writeTimer&&clearTimeout(b.writeTimer),b.writeTimer=setTimeout(function(){ed(Me),b.shouldPushState&&(!b.isDisposed||b.latestAcknowledgedHistory===Z.history.length)&&(Z.history.pushState(h,Me||"",_e),b.latestAcknowledgedHistory=Z.history.length),b.shouldPushState=!0,b.writeTimer=void 0},b.writeDelay)})}},{key:"onUpdate",value:function(h){var b=this;this._onPopState=function(L){b.writeTimer&&(clearTimeout(b.writeTimer),b.writeTimer=void 0),b.shouldPushState=!1,h(L.state||b.read())},ds(function(L){L.window.addEventListener("popstate",b._onPopState)})}},{key:"createURL",value:function(h){return this._createURL({qsModule:tl,routeState:h,location:this.getLocation()})}},{key:"dispose",value:function(){var h=this;this.isDisposed=!0,ds(function(b){h._onPopState&&b.window.removeEventListener("popstate",h._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}}]),d}();function td(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=d.createURL,h=void 0===_?function(gt){var lt=gt.location,ht=lt.protocol,et=lt.hostname,wt=lt.port,Pt=void 0===wt?"":wt,en=lt.pathname,sn=lt.hash,Zt=gt.qsModule.stringify(gt.routeState),un=""===Pt?"":":".concat(Pt);return Zt?"".concat(ht,"//").concat(et).concat(un).concat(en,"?").concat(Zt).concat(sn):"".concat(ht,"//").concat(et).concat(un).concat(en).concat(sn)}:_,b=d.parseURL,L=void 0===b?function(gt){return gt.qsModule.parse(gt.location.search.slice(1),{arrayLimit:99})}:b,Z=d.writeDelay,_e=void 0===Z?400:Z,Me=d.windowTitle,Xe=d.getLocation,Qe=void 0===Xe?function(){return ds(function(gt){return gt.window.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:Xe;return new Vd({createURL:h,parseURL:L,writeDelay:_e,windowTitle:Me,getLocation:Qe})}function Hd(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function _c(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?Hd(Object(h),!0).forEach(function(b){nl(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Hd(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function nl(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}function Wd(d,_,h){var b=_.mainIndex,L={instantSearchInstance:_,parent:b,scopedResults:[],state:b.getHelper().state,helper:b.getHelper(),createURL:b.createURL,uiState:_._initialUiState,renderState:_.renderState,templatesConfig:_.templatesConfig,searchMetadata:{isSearchStalled:_._isSearchStalled}};d.forEach(function(Z){var _e={};if(Z.getWidgetRenderState){var Me=Z.getWidgetRenderState(L);Me&&Me.widgetParams&&(_e=Me.widgetParams)}var Xe=Object.keys(_e).filter(function(Qe){return void 0!==_e[Qe]});h.widgets.push({type:Z.$$type,widgetType:Z.$$widgetType,params:Xe}),"ais.index"===Z.$$type&&Wd(Z.getWidgets(),_,h)})}function Xc(){return function(d){var _=d.instantSearchInstance,h={widgets:[]},b=document.createElement("meta"),L=document.querySelector("head");return b.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout(function(){var _e=_.client;h.ua=_e.transporter&&_e.transporter.userAgent?_e.transporter.userAgent.value:_e._ua,Wd(_.mainIndex.getWidgets(),_,h),b.content=JSON.stringify(h),L.appendChild(b)},0)},unsubscribe:function(){b.remove()}}}}function nd(d){return(nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function Oa(d,_){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);_&&(b=b.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),h.push.apply(h,b)}return h}function $o(d){for(var _=1;_<arguments.length;_++){var h=null!=arguments[_]?arguments[_]:{};_%2?Oa(Object(h),!0).forEach(function(b){Ds(d,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Oa(Object(h)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(h,b))})}return d}function Cl(d,_){for(var h=0;h<_.length;h++){var b=_[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}function Za(d,_){return(Za=Object.setPrototypeOf||function(b,L){return b.__proto__=L,b})(d,_)}function kh(d,_){return!_||"object"!==nd(_)&&"function"!=typeof _?Bi(d):_}function Bi(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function rl(d){return(rl=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(d)}function Ds(d,_,h){return _ in d?Object.defineProperty(d,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[_]=h,d}var bc=ce({name:"instantsearch"});function Fh(){return"#"}const qd=function(d){!function Wo(d,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(_&&_.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),_&&Za(d,_)}(h,d);var _=function Ra(d){var _=function Zd(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(d){return!1}}();return function(){var L,b=rl(d);if(_){var Z=rl(this).constructor;L=Reflect.construct(b,arguments,Z)}else L=b.apply(this,arguments);return kh(this,L)}}(h);function h(b){var L;(function Du(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")})(this,h),Ds(Bi(L=_.call(this)),"client",void 0),Ds(Bi(L),"indexName",void 0),Ds(Bi(L),"insightsClient",void 0),Ds(Bi(L),"onStateChange",null),Ds(Bi(L),"helper",void 0),Ds(Bi(L),"mainHelper",void 0),Ds(Bi(L),"mainIndex",void 0),Ds(Bi(L),"started",void 0),Ds(Bi(L),"templatesConfig",void 0),Ds(Bi(L),"renderState",{}),Ds(Bi(L),"_stalledSearchDelay",void 0),Ds(Bi(L),"_searchStalledTimer",void 0),Ds(Bi(L),"_isSearchStalled",void 0),Ds(Bi(L),"_initialUiState",void 0),Ds(Bi(L),"_initialResults",void 0),Ds(Bi(L),"_createURL",void 0),Ds(Bi(L),"_searchFunction",void 0),Ds(Bi(L),"_mainHelperSearch",void 0),Ds(Bi(L),"middleware",[]),Ds(Bi(L),"sendEventToInsights",void 0),Ds(Bi(L),"scheduleSearch",uc(function(){L.started&&L.mainHelper.search()})),Ds(Bi(L),"scheduleRender",uc(function(){L.mainHelper.hasPendingRequests()||(clearTimeout(L._searchStalledTimer),L._searchStalledTimer=null,L._isSearchStalled=!1),L.mainIndex.render({instantSearchInstance:Bi(L)}),L.emit("render")})),Ds(Bi(L),"onInternalStateChange",uc(function(){var fn=L.mainIndex.getWidgetUiState({});L.middleware.forEach(function(mn){mn.instance.onStateChange({uiState:fn})})}));var Z=b.indexName,_e=void 0===Z?null:Z,Me=b.numberLocale,Xe=b.initialUiState,Qe=void 0===Xe?{}:Xe,gt=b.routing,ft=void 0===gt?null:gt,ut=b.searchFunction,lt=b.stalledSearchDelay,ht=void 0===lt?200:lt,et=b.searchClient,wt=void 0===et?null:et,Pt=b.insightsClient,en=void 0===Pt?null:Pt,sn=b.onStateChange,Zt=void 0===sn?null:sn;if(null===_e)throw new Error(bc("The `indexName` option is required."));if(null===wt)throw new Error(bc("The `searchClient` option is required."));if("function"!=typeof wt.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof wt.addAlgoliaAgent&&wt.addAlgoliaAgent("instantsearch.js (".concat("4.40.3",")")),en&&"function"!=typeof en)throw new Error(bc("The `insightsClient` option should be a function."));return L.client=wt,L.insightsClient=en,L.indexName=_e,L.helper=null,L.mainHelper=null,L.mainIndex=xo({indexName:_e}),L.onStateChange=Zt,L.started=!1,L.templatesConfig={helpers:lh({numberLocale:Me}),compileOptions:{}},L._stalledSearchDelay=ht,L._searchStalledTimer=null,L._isSearchStalled=!1,L._createURL=Fh,L._initialUiState=Qe,L._initialResults=null,ut&&(L._searchFunction=ut),L.sendEventToInsights=ae,ft&&L.use(function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h=_.router,b=void 0===h?td():h,L=_.stateMapping,Z=void 0===L?Sl():L;return function(_e){var Me=_e.instantSearchInstance;Me._createURL=function Xe(ft){var ut=Object.keys(ft).reduce(function(ht,et){return _c(_c({},ht),{},nl({},et,ft[et]))},Me.mainIndex.getWidgetUiState({})),lt=Z.stateToRoute(ut);return b.createURL(lt)};var Qe=void 0,gt=Me._initialUiState;return{onStateChange:function(ut){var ht=Z.stateToRoute(ut.uiState);(void 0===Qe||!As(Qe,ht))&&(b.write(ht),Qe=ht)},subscribe:function(){Me._initialUiState=_c(_c({},gt),Z.routeToState(b.read())),b.onUpdate(function(ut){Me.setUiState(Z.routeToState(ut))})},unsubscribe:function(){b.dispose()}}}}("boolean"==typeof ft?void 0:ft)),function zd(){return ds(function(d){var _,h;return(null===(_=d.window.navigator)||void 0===_||null===(h=_.userAgent)||void 0===h?void 0:h.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}()&&L.use(Xc()),L}return function xu(d,_,h){_&&Cl(d.prototype,_),h&&Cl(d,h)}(h,[{key:"use",value:function(){for(var L=this,Z=arguments.length,_e=new Array(Z),Me=0;Me<Z;Me++)_e[Me]=arguments[Me];var Xe=_e.map(function(Qe){var gt=$o({subscribe:ae,unsubscribe:ae,onStateChange:ae},Qe({instantSearchInstance:L}));return L.middleware.push({creator:Qe,instance:gt}),gt});return this.started&&Xe.forEach(function(Qe){Qe.subscribe()}),this}},{key:"unuse",value:function(){for(var L=arguments.length,Z=new Array(L),_e=0;_e<L;_e++)Z[_e]=arguments[_e];return this.middleware.filter(function(Me){return Z.includes(Me.creator)}).forEach(function(Me){return Me.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(Me){return!Z.includes(Me.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(L){return this.addWidgets([L])}},{key:"addWidgets",value:function(L){if(!Array.isArray(L))throw new Error(bc("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(L.some(function(Z){return"function"!=typeof Z.init&&"function"!=typeof Z.render}))throw new Error(bc("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(L),this}},{key:"removeWidget",value:function(L){return this.removeWidgets([L])}},{key:"removeWidgets",value:function(L){if(!Array.isArray(L))throw new Error(bc("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(L.some(function(Z){return"function"!=typeof Z.dispose}))throw new Error(bc("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(L),this}},{key:"start",value:function(){var L=this;if(this.started)throw new Error(bc("The `start` method has already been called once."));var Z=this.mainHelper||ga(this.client,this.indexName);if(Z.search=function(){return Z.searchOnlyWithDerivedHelpers()},this._searchFunction){var _e={search:function(){return new Promise(ae)}};this._mainHelperSearch=Z.search.bind(Z),Z.search=function(){var Xe=L.mainIndex.getHelper(),Qe=ga(_e,Xe.state.index,Xe.state);return Qe.once("search",function(gt){Xe.overrideStateWithoutTriggeringChangeEvent(gt.state),L._mainHelperSearch()}),Qe.on("change",function(gt){Xe.setState(gt.state)}),L._searchFunction(Qe),Z}}if(Z.on("error",function(Xe){var Qe=Xe.error;Qe.error=Qe,L.emit("error",Qe)}),this.mainHelper=Z,this.middleware.forEach(function(Xe){Xe.instance.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){var Me=this.scheduleSearch;this.scheduleSearch=uc(ae),uc(function(){L.scheduleSearch=Me})()}else this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(L){L.instance.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var L=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){L._isSearchStalled=!0,L.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(L){if(!this.mainHelper)throw new Error(bc("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var Z="function"==typeof L?L(this.mainIndex.getWidgetUiState({})):L;(function Me(Xe){var Qe=Z[Xe.getIndexId()]||{};Xe.getHelper().setState(Xe.getWidgetSearchParameters(Xe.getHelper().state,{uiState:Qe})),Xe.getWidgets().filter(Lr).forEach(Me)})(this.mainIndex),this.scheduleSearch(),this.onInternalStateChange()}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(bc("The `start` method needs to be called before `createURL`."));return this._createURL(L)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(bc("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),h}(Do);function eu(d){return function wf(d,_){if(null==d)return{};var b,L,h=function Ru(d,_){if(null==d)return{};var L,Z,h={},b=Object.keys(d);for(Z=0;Z<b.length;Z++)!(_.indexOf(L=b[Z])>=0)&&(h[L]=d[L]);return h}(d,_);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(d);for(L=0;L<Z.length;L++)!(_.indexOf(b=Z[L])>=0)&&(!Object.prototype.propertyIsEnumerable.call(d,b)||(h[b]=d[b]))}return h}(d||{},["page"])}var Kd="ais.infiniteHits",Qi=function(_,h){return _},Ma=function(_){return new qd(_)};Ma.version="4.40.3",Ma.createInfiniteHitsSessionStorageCache=Qi(function yu(){return{read:function(_){var h=_.state,b=ds(function(Z){return Z.window.sessionStorage});if(!b)return null;try{var L=JSON.parse(b.getItem(Kd));return L&&As(L.state,eu(h))?L.hits:null}catch(Z){if(Z instanceof SyntaxError)try{b.removeItem(Kd)}catch(_e){}return null}},write:function(_){var h=_.state,b=_.hits,L=ds(function(Z){return Z.window.sessionStorage});if(L)try{L.setItem(Kd,JSON.stringify({state:eu(h),hits:b}))}catch(Z){}}}}),Ma.highlight=Qi(eo),Ma.reverseHighlight=Qi(Jc),Ma.snippet=Qi(Ph),Ma.reverseSnippet=Qi(vc),Ma.insights=Il,Ma.getInsightsAnonymousUserToken=function Lh(){return function bf(){return function Ou(d){for(var _="".concat(d,"="),h=document.cookie.split(";"),b=0;b<h.length;b++){for(var L=h[b];" "===L.charAt(0);)L=L.substring(1);if(0===L.indexOf(_))return L.substring(_.length,L.length)}}("_ALGOLIA")}()},Object.defineProperty(Ma,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(Ma,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}});const rd=Ma;F(1707);var If=F(9146),Oo=F.n(If);const Mu=["*"],qa=function(d,_){return[d,_]};function Pu(d,_){if(1&d){const h=a.EpF();a.TgZ(0,"span")(1,"span"),a._uU(2),a.qZA(),a.TgZ(3,"button",2),a.NdJ("click",function(L){const _e=a.CHM(h).$implicit;return a.oxw(3).handleClick(L,_e)}),a._uU(4,"\u2715"),a.qZA()()}if(2&d){const h=_.$implicit,b=a.oxw(3);a.Tol(b.cx("category")),a.xp6(1),a.Tol(b.cx("categoryLabel")),a.xp6(1),a.Oqu(h.label),a.xp6(1),a.Tol(b.cx("delete"))}}function xl(d,_){if(1&d&&(a.TgZ(0,"ul")(1,"li")(2,"span"),a._uU(3),a.ALo(4,"titlecase"),a.qZA(),a.YNc(5,Pu,5,7,"span",1),a.qZA()()),2&d){const h=_.$implicit,b=a.oxw(2);a.Tol(b.cx("list")),a.xp6(1),a.Tol(b.cx("item")),a.xp6(1),a.Tol(b.cx("label")),a.xp6(1),a.hij("",a.lcZ(4,8,h.label),":"),a.xp6(2),a.Q6J("ngForOf",h.refinements)}}function Ec(d,_){if(1&d&&(a.TgZ(0,"div"),a.YNc(1,xl,6,10,"ul",1),a.qZA()),2&d){const h=a.oxw();a.Tol(h.cx()),a.xp6(1),a.Q6J("ngForOf",h.state.items)}}function Yd(d,_){1&d&&a.GkF(0)}function od(d,_){if(1&d&&(a.TgZ(0,"li"),a._UZ(1,"ais-highlight",3),a.qZA()),2&d){const h=_.$implicit,b=a.oxw(2);a.Tol(b.cx("item")),a.xp6(1),a.Q6J("hit",h)}}function ho(d,_){if(1&d&&(a.TgZ(0,"div")(1,"ul"),a.YNc(2,od,2,3,"li",2),a.qZA()()),2&d){const h=a.oxw();a.xp6(1),a.Tol(h.cx("list")),a.xp6(1),a.Q6J("ngForOf",h.state.hits)}}function Ol(d,_){1&d&&a.GkF(0)}function Pa(d,_){if(1&d){const h=a.EpF();a.TgZ(0,"button",3),a.NdJ("click",function(L){return a.CHM(h),a.oxw().showPreviousHandler(L)}),a._uU(1),a.qZA()}if(2&d){const h=a.oxw();a.Q6J("ngClass",a.WLB(3,qa,h.cx("loadPrevious"),h.state.isFirstPage?h.cx("loadPrevious","disabled"):""))("disabled",h.state.isFirstPage),a.xp6(1),a.hij(" ",h.showPreviousLabel," ")}}function _s(d,_){if(1&d&&(a.TgZ(0,"li"),a._UZ(1,"ais-highlight",5),a.qZA()),2&d){const h=_.$implicit,b=a.oxw(2);a.Tol(b.cx("item")),a.xp6(1),a.Q6J("hit",h)}}function gh(d,_){if(1&d&&(a.TgZ(0,"div")(1,"ul"),a.YNc(2,_s,2,3,"li",4),a.qZA()()),2&d){const h=a.oxw();a.xp6(1),a.Tol(h.cx("list")),a.xp6(1),a.Q6J("ngForOf",h.state.hits)}}function Rl(d,_){if(1&d){const h=a.EpF();a.TgZ(0,"button",3),a.NdJ("click",function(L){return a.CHM(h),a.oxw().showMoreHandler(L)}),a._uU(1),a.qZA()}if(2&d){const h=a.oxw();a.Q6J("ngClass",a.WLB(3,qa,h.cx("loadMore"),h.state.isLastPage?h.cx("loadMore","disabled"):""))("disabled",h.state.isLastPage),a.xp6(1),a.hij(" ",h.showMoreLabel," ")}}function Bh(d,_){if(1&d){const h=a.EpF();a.TgZ(0,"li",3),a.NdJ("click",function(L){const _e=a.CHM(h).$implicit;return a.oxw(2).handleClick(L,_e.value)}),a.TgZ(1,"a",4),a.NdJ("click",function(L){const _e=a.CHM(h).$implicit;return a.oxw(2).handleClick(L,_e.value)}),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.TgZ(4,"span"),a._uU(5),a.qZA()()()}if(2&d){const h=_.$implicit,b=a.oxw(2);a.Tol(b.getItemClass(h)),a.xp6(1),a.Tol(b.cx("link")),a.s9C("href",b.state.createURL(h.value),a.LSH),a.xp6(1),a.Tol(b.cx("label")),a.xp6(1),a.Oqu(h.label),a.xp6(1),a.Tol(b.cx("count")),a.xp6(1),a.Oqu(h.count)}}function ya(d,_){if(1&d){const h=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){return a.CHM(h),a.oxw(2).state.toggleShowMore()}),a._uU(1),a.qZA()}if(2&d){const h=a.oxw(2);a.Tol(h.showMoreClass),a.Q6J("disabled",!h.state.canToggleShowMore),a.xp6(1),a.hij(" ",h.state.isShowingMore?h.showLessLabel:h.showMoreLabel," ")}}function Jd(d,_){if(1&d&&(a.TgZ(0,"div")(1,"ul"),a.YNc(2,Bh,6,11,"li",1),a.qZA(),a.YNc(3,ya,2,4,"button",2),a.qZA()),2&d){const h=a.oxw();a.Tol(h.cx()),a.xp6(1),a.Tol(h.cx("list")),a.xp6(1),a.Q6J("ngForOf",h.state.items),a.xp6(1),a.Q6J("ngIf",h.showMore)}}function Vh(d,_){if(1&d){const h=a.EpF();a.TgZ(0,"li")(1,"label")(2,"input",2),a.NdJ("change",function(L){const _e=a.CHM(h).$implicit;return a.oxw(2).refine(L,_e)}),a.qZA(),a.TgZ(3,"span"),a._uU(4),a.qZA()()()}if(2&d){const h=_.$implicit,b=a.oxw(2);a.Tol(b.getItemClass(h)),a.xp6(1),a.Tol(b.cx("label")),a.xp6(1),a.Tol(b.cx("radio")),a.Q6J("checked",h.isRefined),a.xp6(1),a.Tol(b.cx("labelText")),a.xp6(1),a.Oqu(h.label)}}function Af(d,_){if(1&d&&(a.TgZ(0,"div")(1,"ul"),a.YNc(2,Vh,5,10,"li",1),a.qZA()()),2&d){const h=a.oxw();a.Tol(h.cx()),a.xp6(1),a.Tol(h.cx("list")),a.xp6(1),a.Q6J("ngForOf",h.state.items)}}function vu(d,_){if(1&d&&(a.TgZ(0,"div"),a._UZ(1,"ais-facets-search",3),a.qZA()),2&d){const h=a.oxw(2);a.Tol(h.cx("searchBox")),a.xp6(1),a.Q6J("search",h.state.searchForItems)("searchPlaceholder",h.searchPlaceholder)}}function Tf(d,_){if(1&d){const h=a.EpF();a.TgZ(0,"li",4),a.NdJ("click",function(L){const _e=a.CHM(h).$implicit;return a.oxw(2).refine(L,_e)}),a.TgZ(1,"label"),a._UZ(2,"input",5),a.TgZ(3,"span"),a._UZ(4,"ais-highlight",6),a.qZA(),a.TgZ(5,"span"),a._uU(6),a.qZA()()()}if(2&d){const h=_.$implicit,b=a.oxw(2);a.Tol(b.getItemClass(h)),a.xp6(1),a.Tol(b.cx("label")),a.xp6(1),a.Tol(b.cx("checkbox")),a.s9C("value",h.value),a.Q6J("checked",h.isRefined),a.xp6(1),a.Tol(b.cx("labelText")),a.xp6(1),a.Q6J("hit",h),a.xp6(1),a.Tol(b.cx("count")),a.xp6(1),a.Oqu(h.count)}}function Hh(d,_){if(1&d){const h=a.EpF();a.TgZ(0,"button",7),a.NdJ("click",function(){return a.CHM(h),a.oxw(2).state.toggleShowMore()}),a._uU(1),a.qZA()}if(2&d){const h=a.oxw(2);a.Tol(h.cx("showMore")),a.Q6J("disabled",!h.state.canToggleShowMore),a.xp6(1),a.hij(" ",h.state.isShowingMore?h.showLessLabel:h.showMoreLabel," ")}}function $h(d,_){if(1&d&&(a.TgZ(0,"div"),a.YNc(1,vu,2,4,"div",0),a.TgZ(2,"ul"),a.YNc(3,Tf,7,14,"li",1),a.qZA(),a.YNc(4,Hh,2,4,"button",2),a.qZA()),2&d){const h=a.oxw();a.Tol(h.cx()),a.xp6(1),a.Q6J("ngIf",h.searchable),a.xp6(1),a.Tol(h.cx("list")),a.xp6(1),a.Q6J("ngForOf",h.state.items),a.xp6(1),a.Q6J("ngIf",h.showMore)}}const mh=["searchBox"];function yh(d,_){1&d&&a.GkF(0)}function Zh(d,_){if(1&d&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&d){const h=a.oxw();a.Tol(h.cx("text")),a.xp6(1),a.AsE(" ",h.state.nbHits," results found in ",h.state.processingTimeMS,"ms. ")}}function Nl(d){return function(h,b){let L=`ais-${d}`;return h&&(L+=`-${h}`),b&&(L+=`--${b}`),L}}function va(d){return"string"==typeof d?parseInt(d,10):d}function ki(...d){}function Wf(d,_){return _.replace(/\[(\d+)]/g,".$1").split(".").reduce((h,b)=>h?h[b]:void 0,d)}let Hs=(()=>{class d{constructor(h){this.updateState=(b,L)=>{L?Promise.resolve().then(()=>{this.state=b}):this.state=b},this.cx=Nl(h)}get parent(){return this.parentIndex?this.parentIndex:this.instantSearchInstance}createWidget(h,b){this.widget=h(this.updateState,ki)(b)}ngOnInit(){this.parent.addWidgets([this.widget])}ngOnDestroy(){(0,y.NF)(this.instantSearchInstance.platformId)&&this.parent.removeWidgets([this.widget])}getItemClass(h){const b=this.cx("item");return h.isRefined?`${b} ${this.cx("item","selected")}`:b}}return d.\u0275fac=function(h){a.$Z()},d.\u0275dir=a.lG2({type:d,inputs:{autoHideContainer:"autoHideContainer"}}),d})();lo();let ci=(()=>{class d{constructor(h){this.platformId=h,this.instanceName="default",this.change=new a.vpe,this.onRender=()=>{this.change.emit({results:this.instantSearchInstance.helper.lastResults,state:this.instantSearchInstance.helper.state})}}ngOnInit(){"function"==typeof this.config.searchClient.addAlgoliaAgent&&(this.config.searchClient.addAlgoliaAgent(`angular (${a.q4F.full})`),this.config.searchClient.addAlgoliaAgent("angular-instantsearch (4.1.0)")),this.instantSearchInstance=rd(this.config),this.instantSearchInstance.on("render",this.onRender)}ngAfterViewInit(){this.instantSearchInstance.start()}ngOnDestroy(){this.instantSearchInstance&&(this.instantSearchInstance.removeListener("render",this.onRender),this.instantSearchInstance.dispose())}addWidgets(h){this.instantSearchInstance.addWidgets(h)}removeWidgets(h){this.instantSearchInstance.removeWidgets(h)}refresh(){this.instantSearchInstance.refresh()}}return d.\u0275fac=function(h){return new(h||d)(a.Y36(a.Lbi))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ais-instantsearch"]],inputs:{instanceName:"instanceName",config:"config"},outputs:{change:"change"},ngContentSelectors:Mu,decls:1,vars:0,template:function(h,b){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2}),d})(),bs=(()=>{class d{constructor(h,b){this.parentIndex=h,this.instantSearchInstance=b}get parent(){return this.parentIndex?this.parentIndex:this.instantSearchInstance}createWidget(){this.widget=xo({indexName:this.indexName,indexId:this.indexId})}addWidgets(h){this.widget.addWidgets(h)}removeWidgets(h){this.widget.removeWidgets(h)}ngOnInit(){this.createWidget(),this.parent.addWidgets([this.widget])}ngOnDestroy(){(0,y.NF)(this.instantSearchInstance.platformId)&&this.parent.removeWidgets([this.widget])}}return d.\u0275fac=function(h){return new(h||d)(a.Y36((0,a.Gpc)(()=>d),12),a.Y36((0,a.Gpc)(()=>ci)))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ais-index"]],inputs:{indexName:"indexName",indexId:"indexId"},ngContentSelectors:Mu,decls:1,vars:0,template:function(h,b){1&h&&(a.F$t(),a.Hsn(0))},encapsulation:2}),d})(),Qh=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),kl=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),sa=(()=>{class d extends Hs{constructor(h,b){super("CurrentRefinements"),this.parentIndex=h,this.instantSearchInstance=b,this.state={createURL:()=>"#",refine:ki,items:[],canRefine:!1}}get isHidden(){return 0===this.state.items.length&&this.autoHideContainer}ngOnInit(){this.createWidget(Ws,{includedAttributes:this.includedAttributes,excludedAttributes:this.excludedAttributes,transformItems:this.transformItems}),super.ngOnInit()}handleClick(h,b){h.preventDefault(),this.state.refine(b)}}return d.\u0275fac=function(h){return new(h||d)(a.Y36((0,a.Gpc)(()=>bs),8),a.Y36((0,a.Gpc)(()=>ci)))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ais-current-refinements"]],inputs:{includedAttributes:"includedAttributes",excludedAttributes:"excludedAttributes",transformItems:"transformItems"},features:[a.qOj],decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],[3,"click"]],template:function(h,b){1&h&&a.YNc(0,Ec,2,3,"div",0),2&h&&a.Q6J("ngIf",!b.isHidden)},directives:[y.O5,y.sg],pipes:[y.rS],encapsulation:2}),d})(),_h=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),bh=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),Nc=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),hs=(()=>{class d{constructor(){this.tagName="em",this.cx=Nl("Highlight")}get content(){if("highlighted"===this.attribute)return this.hit.highlighted?this.replaceWithTagName(this.hit.highlighted):this.hit.label;if(this.hit.hasOwnProperty("_highlightResult")){const b=Wf(this.hit._highlightResult,this.attribute);if(void 0!==b&&"string"==typeof b.value)return this.replaceWithTagName(b.value)}return Wf(this.hit,this.attribute)||(console.warn(`Could not find attribute [${this.attribute}] into hit object, will display an empty string.`),"")}replaceWithTagName(h){return h.replace(new RegExp("<em>","g"),`<${this.tagName} class="${this.cx("highlighted")}">`).replace(new RegExp("</em>","g"),`</${this.tagName}>`)}}return d.\u0275fac=function(h){return new(h||d)},d.\u0275cmp=a.Xpm({type:d,selectors:[["ais-highlight"]],inputs:{tagName:"tagName",attribute:"attribute",hit:"hit"},decls:1,vars:3,consts:[[3,"innerHtml"]],template:function(h,b){1&h&&a._UZ(0,"span",0),2&h&&(a.Tol(b.cx()),a.Q6J("innerHtml",b.content,a.oJD))},encapsulation:2}),d})(),no=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),wh=(()=>{class d extends Hs{constructor(h,b){super("Hits"),this.parentIndex=h,this.instantSearchInstance=b,this.state={hits:[],results:void 0,bindEvent:void 0,sendEvent:void 0},this.updateState=(L,Z)=>{Z||(this.state=L)}}ngOnInit(){this.createWidget(ns,{escapeHTML:this.escapeHTML,transformItems:this.transformItems}),super.ngOnInit()}}return d.\u0275fac=function(h){return new(h||d)(a.Y36((0,a.Gpc)(()=>bs),8),a.Y36((0,a.Gpc)(()=>ci)))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ais-hits"]],contentQueries:function(h,b,L){if(1&h&&a.Suo(L,a.Rgc,5),2&h){let Z;a.iGM(Z=a.CRH())&&(b.template=Z.first)}},inputs:{escapeHTML:"escapeHTML",transformItems:"transformItems"},features:[a.qOj],decls:3,vars:5,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],["attribute","name",3,"hit"]],template:function(h,b){1&h&&(a.TgZ(0,"div"),a.YNc(1,Yd,1,0,"ng-container",0),a.YNc(2,ho,3,3,"div",1),a.qZA()),2&h&&(a.Tol(b.cx()),a.xp6(1),a.Q6J("ngTemplateOutlet",b.template)("ngTemplateOutletContext",b.state),a.xp6(1),a.Q6J("ngIf",!b.template))},directives:[y.tP,y.O5,y.sg,hs],encapsulation:2}),d})(),Ga=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez,no]]}),d})(),Qs=(()=>{class d{static forRoot(){return{ngModule:d,providers:[]}}}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),kc=(()=>{class d extends Hs{constructor(h,b){super("InfiniteHits"),this.parentIndex=h,this.instantSearchInstance=b,this.showPrevious=!1,this.showPreviousLabel="Show previous results",this.showMoreLabel="Show more results",this.state={hits:[],results:void 0,currentPageHits:[],isFirstPage:!1,isLastPage:!1,showMore:ki,showPrevious:ki,sendEvent:ki,bindEvent:()=>""},this.updateState=(L,Z)=>{Z||(this.state=L)}}ngOnInit(){this.createWidget(oo,{escapeHTML:this.escapeHTML,transformItems:this.transformItems}),super.ngOnInit()}showMoreHandler(h){h.preventDefault(),this.state.showMore()}showPreviousHandler(h){h.preventDefault(),this.state.showPrevious()}}return d.\u0275fac=function(h){return new(h||d)(a.Y36((0,a.Gpc)(()=>bs),8),a.Y36((0,a.Gpc)(()=>ci)))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ais-infinite-hits"]],contentQueries:function(h,b,L){if(1&h&&a.Suo(L,a.Rgc,5),2&h){let Z;a.iGM(Z=a.CRH())&&(b.template=Z.first)}},inputs:{showPrevious:"showPrevious",showPreviousLabel:"showPreviousLabel",showMoreLabel:"showMoreLabel",escapeHTML:"escapeHTML",transformItems:"transformItems"},features:[a.qOj],decls:5,vars:7,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass","disabled","click",4,"ngIf"],[4,"ngIf"],[3,"ngClass","disabled","click"],[3,"class",4,"ngFor","ngForOf"],["attribute","name",3,"hit"]],template:function(h,b){1&h&&(a.TgZ(0,"div"),a.YNc(1,Ol,1,0,"ng-container",0),a.YNc(2,Pa,2,6,"button",1),a.YNc(3,gh,3,3,"div",2),a.YNc(4,Rl,2,6,"button",1),a.qZA()),2&h&&(a.Tol(b.cx()),a.xp6(1),a.Q6J("ngTemplateOutlet",b.template)("ngTemplateOutletContext",b.state),a.xp6(1),a.Q6J("ngIf",b.showPrevious&&!b.template),a.xp6(1),a.Q6J("ngIf",!b.template),a.xp6(1),a.Q6J("ngIf",!b.template))},directives:[y.tP,y.O5,y.mk,y.sg,hs],encapsulation:2}),d})(),oa=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez,no]]}),d})(),ws=(()=>{class d{static forRoot(){return{ngModule:d,providers:[]}}}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),Ka=(()=>{class d extends Hs{constructor(h,b){super("Menu"),this.parentIndex=h,this.instantSearchInstance=b,this.showMoreLabel="Show more",this.showLessLabel="Show less",this.state={items:[],refine:ki,createURL:()=>"#",canRefine:!1,isShowingMore:!1,canToggleShowMore:!1,toggleShowMore:ki,sendEvent:ki}}get isHidden(){return 0===this.state.items.length&&this.autoHideContainer}get showMoreClass(){let h=this.cx("showMore");return this.state.canToggleShowMore||(h=`${h} ${this.cx("showMore","disabled")}`),h}ngOnInit(){this.createWidget(Ms,{attribute:this.attribute,showMore:this.showMore,limit:this.limit,showMoreLimit:this.showMoreLimit,sortBy:this.sortBy,transformItems:this.transformItems}),super.ngOnInit()}handleClick(h,b){h.preventDefault(),h.stopPropagation(),this.state.refine(b)}}return d.\u0275fac=function(h){return new(h||d)(a.Y36((0,a.Gpc)(()=>bs),8),a.Y36((0,a.Gpc)(()=>ci)))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ais-menu"]],inputs:{showMoreLabel:"showMoreLabel",showLessLabel:"showLessLabel",attribute:"attribute",showMore:"showMore",limit:"limit",showMoreLimit:"showMoreLimit",sortBy:"sortBy",transformItems:"transformItems"},features:[a.qOj],decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[3,"class","click",4,"ngFor","ngForOf"],[3,"class","disabled","click",4,"ngIf"],[3,"click"],[3,"href","click"],[3,"disabled","click"]],template:function(h,b){1&h&&a.YNc(0,Jd,4,6,"div",0),2&h&&a.Q6J("ngIf",!b.isHidden)},directives:[y.O5,y.sg],encapsulation:2}),d})(),ru=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),$s=(()=>{class d extends Hs{constructor(h,b){super("NumericMenu"),this.parentIndex=h,this.instantSearchInstance=b,this.state={items:[],refine:ki,createURL:()=>"#",hasNoResults:!0,sendEvent:ki}}get isHidden(){return 0===this.state.items.length&&this.autoHideContainer}ngOnInit(){this.createWidget(Gn,{attribute:this.attribute,items:this.items,transformItems:this.transformItems}),super.ngOnInit()}refine(h,b){h.preventDefault(),h.stopPropagation(),this.state.refine(b.value)}}return d.\u0275fac=function(h){return new(h||d)(a.Y36((0,a.Gpc)(()=>bs),8),a.Y36((0,a.Gpc)(()=>ci)))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ais-numeric-menu"]],inputs:{attribute:"attribute",items:"items",transformItems:"transformItems"},features:[a.qOj],decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],["type","radio","name","NumericMenu",3,"checked","change"]],template:function(h,b){1&h&&a.YNc(0,Af,3,5,"div",0),2&h&&a.Q6J("ngIf",!b.isHidden)},directives:[y.O5,y.sg],encapsulation:2}),d})(),Fl=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),lc=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),_a=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),ko=(()=>{class d extends Hs{constructor(h,b){super("RefinementList"),this.parentIndex=h,this.instantSearchInstance=b,this.showMoreLabel="Show more",this.showLessLabel="Show less",this.searchPlaceholder="Search here...",this.state={canRefine:!1,canToggleShowMore:!1,createURL:()=>"",isShowingMore:!1,items:[],refine:ki,toggleShowMore:ki,searchForItems:ki,isFromSearch:!1,hasExhaustiveItems:!1,sendEvent:ki}}get isHidden(){return 0===this.state.items.length&&this.autoHideContainer}ngOnInit(){this.createWidget(ml,{showMore:this.showMore,limit:va(this.limit),showMoreLimit:va(this.showMoreLimit),attribute:this.attribute,operator:this.operator,sortBy:this.sortBy,escapeFacetValues:!0,transformItems:this.transformItems}),super.ngOnInit()}refine(h,b){h.preventDefault(),h.stopPropagation(),this.state.canRefine&&(b.isRefined=!b.isRefined,this.state.refine(b.value))}}return d.\u0275fac=function(h){return new(h||d)(a.Y36((0,a.Gpc)(()=>bs),8),a.Y36((0,a.Gpc)(()=>ci)))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ais-refinement-list"]],inputs:{showMoreLabel:"showMoreLabel",showLessLabel:"showLessLabel",searchPlaceholder:"searchPlaceholder",searchable:"searchable",attribute:"attribute",operator:"operator",limit:"limit",showMore:"showMore",showMoreLimit:"showMoreLimit",sortBy:"sortBy",transformItems:"transformItems"},features:[a.qOj],decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[3,"class","click",4,"ngFor","ngForOf"],[3,"class","disabled","click",4,"ngIf"],[3,"search","searchPlaceholder"],[3,"click"],["type","checkbox",3,"value","checked"],["attribute","highlighted",3,"hit"],[3,"disabled","click"]],template:function(h,b){1&h&&a.YNc(0,$h,5,7,"div",0),2&h&&a.Q6J("ngIf",!b.isHidden)},directives:function(){return[y.O5,gd,y.sg,hs]},encapsulation:2}),d})(),gd=(()=>{class d{constructor(){this.cx=Nl("SearchBox"),this.searchQuery=""}handleChange(h){this.searchQuery=h,this.search(h)}handleSubmit(h){h.preventDefault(),this.search(this.searchQuery)}}return d.\u0275fac=function(h){return new(h||d)},d.\u0275cmp=a.Xpm({type:d,selectors:[["ais-facets-search"]],inputs:{searchPlaceholder:"searchPlaceholder",search:"search"},decls:9,vars:14,consts:[["novalidate","",3,"submit"],["autocapitalize","off","autocorrect","off","role","textbox","spellcheck","false","type","text",3,"placeholder","value","input"],["title","Submit the search query.","type","submit"],["viewBox","0 0 40 40","width","10","height","10",3,"ngClass"],["d","M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"],["type","reset","title","Clear the search query.","hidden",""],["viewBox","0 0 20 20","width","10","height","10",3,"ngClass"],["d","M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"]],template:function(h,b){1&h&&(a.TgZ(0,"div")(1,"form",0),a.NdJ("submit",function(Z){return b.handleSubmit(Z)}),a.TgZ(2,"input",1),a.NdJ("input",function(Z){return b.handleChange(Z.target.value)}),a.qZA(),a.TgZ(3,"button",2),a.O4$(),a.TgZ(4,"svg",3),a._UZ(5,"path",4),a.qZA()(),a.kcU(),a.TgZ(6,"button",5),a.O4$(),a.TgZ(7,"svg",6),a._UZ(8,"path",7),a.qZA()()()()),2&h&&(a.Tol(b.cx()),a.xp6(1),a.Tol(b.cx("form")),a.xp6(1),a.Tol(b.cx("input")),a.s9C("placeholder",b.searchPlaceholder),a.Q6J("value",b.searchQuery),a.xp6(1),a.Tol(b.cx("submit")),a.xp6(1),a.Q6J("ngClass",b.cx("submitIcon")),a.xp6(2),a.Tol(b.cx("reset")),a.xp6(1),a.Q6J("ngClass",b.cx("resetIcon")))},directives:[y.mk],encapsulation:2}),d})(),Ll=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez,no]]}),d})(),Jh=(()=>{class d extends Hs{constructor(h,b){super("SearchBox"),this.parentIndex=h,this.instantSearchInstance=b,this.placeholder="Search",this.submitTitle="Submit",this.resetTitle="Reset",this.searchAsYouType=!0,this.autofocus=!1,this.submit=new a.vpe,this.reset=new a.vpe,this.change=new a.vpe,this.focus=new a.vpe,this.blur=new a.vpe,this.state={query:"",refine:ki,clear:ki,isSearchStalled:!1},this.createWidget(Jo,{})}ngAfterViewInit(){this.autofocus&&this.searchBox.nativeElement.focus()}handleChange(h){this.change.emit(h),this.searchAsYouType&&this.state.refine(h)}handleSubmit(h){this.submit.emit(h),h.preventDefault(),this.searchAsYouType||this.state.refine(this.searchBox.nativeElement.value)}handleReset(h){this.reset.emit(h),this.state.refine("")}}return d.\u0275fac=function(h){return new(h||d)(a.Y36((0,a.Gpc)(()=>bs),8),a.Y36((0,a.Gpc)(()=>ci)))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ais-search-box"]],viewQuery:function(h,b){if(1&h&&a.Gf(mh,5),2&h){let L;a.iGM(L=a.CRH())&&(b.searchBox=L.first)}},inputs:{placeholder:"placeholder",submitTitle:"submitTitle",resetTitle:"resetTitle",searchAsYouType:"searchAsYouType",autofocus:"autofocus"},outputs:{submit:"submit",reset:"reset",change:"change",focus:"focus",blur:"blur"},features:[a.qOj],decls:10,vars:17,consts:[["novalidate","",3,"submit"],["autocapitalize","off","autocorrect","off","role","textbox","spellcheck","false","type","text",3,"placeholder","value","input","focus","blur"],["searchBox",""],["type","submit",3,"title"],["viewBox","0 0 40 40","width","40","height","40",3,"ngClass"],["d","M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"],["type","reset",3,"title","hidden","click"],["viewBox","0 0 20 20","width","20","height","20",3,"ngClass"],["d","M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"]],template:function(h,b){1&h&&(a.TgZ(0,"div")(1,"form",0),a.NdJ("submit",function(Z){return b.handleSubmit(Z)}),a.TgZ(2,"input",1,2),a.NdJ("input",function(Z){return b.handleChange(Z.target.value)})("focus",function(Z){return b.focus.emit(Z)})("blur",function(Z){return b.blur.emit(Z)}),a.qZA(),a.TgZ(4,"button",3),a.O4$(),a.TgZ(5,"svg",4),a._UZ(6,"path",5),a.qZA()(),a.kcU(),a.TgZ(7,"button",6),a.NdJ("click",function(Z){return b.handleReset(Z)}),a.O4$(),a.TgZ(8,"svg",7),a._UZ(9,"path",8),a.qZA()()()()),2&h&&(a.Tol(b.cx()),a.xp6(1),a.Tol(b.cx("form")),a.xp6(1),a.Tol(b.cx("input")),a.s9C("placeholder",b.placeholder),a.Q6J("value",b.state.query),a.xp6(2),a.Tol(b.cx("submit")),a.s9C("title",b.submitTitle),a.xp6(1),a.Q6J("ngClass",b.cx("submitIcon")),a.xp6(2),a.Tol(b.cx("reset")),a.s9C("title",b.resetTitle),a.Q6J("hidden",!b.state.query||b.state.query&&!b.state.query.trim()),a.xp6(1),a.Q6J("ngClass",b.cx("resetIcon")))},directives:[y.mk],encapsulation:2}),d})(),md=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),cn=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),Ya=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),Ep=(()=>{class d extends Hs{constructor(h,b){super("Stats"),this.parentIndex=h,this.instantSearchInstance=b,this.state={nbHits:0,nbPages:0,page:0,processingTimeMS:0,query:"",areHitsSorted:!1},this.createWidget(Pd,{})}get templateContext(){return{state:this.state}}}return d.\u0275fac=function(h){return new(h||d)(a.Y36((0,a.Gpc)(()=>bs),8),a.Y36((0,a.Gpc)(()=>ci)))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ais-stats"]],contentQueries:function(h,b,L){if(1&h&&a.Suo(L,a.Rgc,5),2&h){let Z;a.iGM(Z=a.CRH())&&(b.template=Z.first)}},features:[a.qOj],decls:3,vars:5,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class",4,"ngIf"]],template:function(h,b){1&h&&(a.TgZ(0,"div"),a.YNc(1,yh,1,0,"ng-container",0),a.YNc(2,Zh,2,4,"span",1),a.qZA()),2&h&&(a.Tol(b.cx()),a.xp6(1),a.Q6J("ngTemplateOutlet",b.template)("ngTemplateOutletContext",b.templateContext),a.xp6(1),a.Q6J("ngIf",!b.template))},directives:[y.tP,y.O5],encapsulation:2}),d})(),bu=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),Ul=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),Ic=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),eh=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),Ro=(()=>{class d extends Hs{constructor(h,b,L){super("Configure"),this.differs=h,this.parentIndex=b,this.instantSearchInstance=L,this.state={refine:ki}}set searchParameters(h){this.internalSearchParameters=h,!this.differ&&h&&(this.differ=this.differs.find(h).create())}ngOnInit(){this.createWidget(ql,{searchParameters:this.internalSearchParameters}),super.ngOnInit()}ngDoCheck(){this.differ&&this.differ.diff(this.internalSearchParameters)&&this.state.refine(this.internalSearchParameters)}}return d.\u0275fac=function(h){return new(h||d)(a.Y36(a.aQg),a.Y36((0,a.Gpc)(()=>bs),8),a.Y36((0,a.Gpc)(()=>ci)))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ais-configure"]],inputs:{searchParameters:"searchParameters"},features:[a.qOj],decls:0,vars:0,template:function(h,b){},encapsulation:2}),d})(),yd=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),Fu=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),ef=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),Ih=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})(),Na=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[y.ez]]}),d})();"function"==typeof lo()&&lo(),Oo();const _d=[ws,Qs,Ga,md,kl,ru,lc,Ll,Nc,cn,Fl,bu,Ul,oa,_h,bh,Ya,_a,Qh,no,Ic,eh,yd,Fu,ef,Ih,Na];let ll=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[ws.forRoot()],ws,Qs,Ga,md,kl,ru,lc,Ll,Nc,cn,Fl,bu,Ul,oa,_h,bh,Ya,_a,Qh,no,Ic,eh,yd,Fu,ef,Ih,Na]}),d})(),ka=(()=>{class d{static forRoot(){return{ngModule:ll}}}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[_d,ws,Qs,Ga,md,kl,ru,lc,Ll,Nc,cn,Fl,bu,Ul,oa,_h,bh,Ya,_a,Qh,no,Ic,eh,yd,Fu,ef,Ih,Na]}),d})()},5867:(Kt,st,F)=>{"use strict";F.d(st,{Mq:()=>a.getApp,C6:()=>a.getApps});var a=F(9206);(0,a.registerVersion)("firebase","9.6.7","app")},127:(Kt,st,F)=>{"use strict";F.d(st,{Z:()=>a.Z});var a=F(8001);a.Z.registerVersion("firebase","9.6.7","app-compat")},8963:(Kt,st,F)=>{"use strict";F.r(st);var a=F(5861),y=F(8001);const Ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(v,u){if(!Array.isArray(v))throw Error("encodeByteArray takes an array as a parameter");this.init_();const p=u?this.byteToCharMapWebSafe_:this.byteToCharMap_,S=[];for(let x=0;x<v.length;x+=3){const K=v[x],be=x+1<v.length,ct=be?v[x+1]:0,jt=x+2<v.length,gn=jt?v[x+2]:0;let Mr=(15&ct)<<2|gn>>6,xi=63&gn;jt||(xi=64,be||(Mr=64)),S.push(p[K>>2],p[(3&K)<<4|ct>>4],p[Mr],p[xi])}return S.join("")},encodeString(v,u){return this.HAS_NATIVE_SUPPORT&&!u?btoa(v):this.encodeByteArray(function(v){const u=[];let p=0;for(let S=0;S<v.length;S++){let x=v.charCodeAt(S);x<128?u[p++]=x:x<2048?(u[p++]=x>>6|192,u[p++]=63&x|128):55296==(64512&x)&&S+1<v.length&&56320==(64512&v.charCodeAt(S+1))?(x=65536+((1023&x)<<10)+(1023&v.charCodeAt(++S)),u[p++]=x>>18|240,u[p++]=x>>12&63|128,u[p++]=x>>6&63|128,u[p++]=63&x|128):(u[p++]=x>>12|224,u[p++]=x>>6&63|128,u[p++]=63&x|128)}return u}(v),u)},decodeString(v,u){return this.HAS_NATIVE_SUPPORT&&!u?atob(v):function(v){const u=[];let p=0,S=0;for(;p<v.length;){const x=v[p++];if(x<128)u[S++]=String.fromCharCode(x);else if(x>191&&x<224){const K=v[p++];u[S++]=String.fromCharCode((31&x)<<6|63&K)}else if(x>239&&x<365){const jt=((7&x)<<18|(63&v[p++])<<12|(63&v[p++])<<6|63&v[p++])-65536;u[S++]=String.fromCharCode(55296+(jt>>10)),u[S++]=String.fromCharCode(56320+(1023&jt))}else{const K=v[p++],be=v[p++];u[S++]=String.fromCharCode((15&x)<<12|(63&K)<<6|63&be)}}return u.join("")}(this.decodeStringToByteArray(v,u))},decodeStringToByteArray(v,u){this.init_();const p=u?this.charToByteMapWebSafe_:this.charToByteMap_,S=[];for(let x=0;x<v.length;){const K=p[v.charAt(x++)],ct=x<v.length?p[v.charAt(x)]:0;++x;const gn=x<v.length?p[v.charAt(x)]:64;++x;const Xt=x<v.length?p[v.charAt(x)]:64;if(++x,null==K||null==ct||null==gn||null==Xt)throw Error();S.push(K<<2|ct>>4),64!==gn&&(S.push(ct<<4&240|gn>>2),64!==Xt&&S.push(gn<<6&192|Xt))}return S},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let v=0;v<this.ENCODED_VALS.length;v++)this.byteToCharMap_[v]=this.ENCODED_VALS.charAt(v),this.charToByteMap_[this.byteToCharMap_[v]]=v,this.byteToCharMapWebSafe_[v]=this.ENCODED_VALS_WEBSAFE.charAt(v),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[v]]=v,v>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(v)]=v,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(v)]=v)}}};function ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Qn extends Error{constructor(u,p,S){super(p),this.code=u,this.customData=S,this.name="FirebaseError",Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qt.prototype.create)}}class qt{constructor(u,p,S){this.service=u,this.serviceName=p,this.errors=S}create(u,...p){const S=p[0]||{},x=`${this.service}/${u}`,K=this.errors[u],be=K?function kt(v,u){return v.replace(zt,(p,S)=>{const x=u[S];return null!=x?String(x):`<${S}?>`})}(K,S):"Error";return new Qn(x,`${this.serviceName}: ${be} (${x}).`,S)}}const zt=/\{\$([^}]+)}/g;function Pr(v){const u=[];for(const[p,S]of Object.entries(v))Array.isArray(S)?S.forEach(x=>{u.push(encodeURIComponent(p)+"="+encodeURIComponent(x))}):u.push(encodeURIComponent(p)+"="+encodeURIComponent(S));return u.length?"&"+u.join("&"):""}function Gr(v){const u={};return v.replace(/^\?/,"").split("&").forEach(S=>{if(S){const[x,K]=S.split("=");u[decodeURIComponent(x)]=decodeURIComponent(K)}}),u}function ti(v){const u=v.indexOf("?");if(!u)return"";const p=v.indexOf("#",u);return v.substring(u,p>0?p:void 0)}class vr{constructor(u,p){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=p,this.task.then(()=>{u(this)}).catch(S=>{this.error(S)})}next(u){this.forEachObserver(p=>{p.next(u)})}error(u){this.forEachObserver(p=>{p.error(u)}),this.close(u)}complete(){this.forEachObserver(u=>{u.complete()}),this.close()}subscribe(u,p,S){let x;if(void 0===u&&void 0===p&&void 0===S)throw new Error("Missing Observer.");x=function gi(v,u){if("object"!=typeof v||null===v)return!1;for(const p of u)if(p in v&&"function"==typeof v[p])return!0;return!1}(u,["next","error","complete"])?u:{next:u,error:p,complete:S},void 0===x.next&&(x.next=Je),void 0===x.error&&(x.error=Je),void 0===x.complete&&(x.complete=Je);const K=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?x.error(this.finalError):x.complete()}catch(be){}}),this.observers.push(x),K}unsubscribeOne(u){void 0===this.observers||void 0===this.observers[u]||(delete this.observers[u],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(u){if(!this.finalized)for(let p=0;p<this.observers.length;p++)this.sendOne(p,u)}sendOne(u,p){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[u])try{p(this.observers[u])}catch(S){"undefined"!=typeof console&&console.error&&console.error(S)}})}close(u){this.finalized||(this.finalized=!0,void 0!==u&&(this.finalError=u),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Je(){}function nr(v){return v&&v._delegate?v._delegate:v}var _r=F(9206),Ns=F(655);const Kr=[];var mr=(()=>{return(v=mr||(mr={}))[v.DEBUG=0]="DEBUG",v[v.VERBOSE=1]="VERBOSE",v[v.INFO=2]="INFO",v[v.WARN=3]="WARN",v[v.ERROR=4]="ERROR",v[v.SILENT=5]="SILENT",mr;var v})();const Qr={debug:mr.DEBUG,verbose:mr.VERBOSE,info:mr.INFO,warn:mr.WARN,error:mr.ERROR,silent:mr.SILENT},ts=mr.INFO,tr={[mr.DEBUG]:"log",[mr.VERBOSE]:"log",[mr.INFO]:"info",[mr.WARN]:"warn",[mr.ERROR]:"error"},ks=(v,u,...p)=>{if(u<v.logLevel)return;const S=(new Date).toISOString(),x=tr[u];if(!x)throw new Error(`Attempted to log a message with an invalid logType (value: ${u})`);console[x](`[${S}]  ${v.name}:`,...p)};class Ws{constructor(u,p,S){this.name=u,this.instanceFactory=p,this.type=S,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(u){return this.instantiationMode=u,this}setMultipleInstances(u){return this.multipleInstances=u,this}setServiceProps(u){return this.serviceProps=u,this}setInstanceCreatedCallback(u){return this.onInstanceCreated=u,this}}const ii=function Fs(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Oe=function ri(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new qt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ke=new class Ys{constructor(u){this.name=u,this._logLevel=ts,this._logHandler=ks,this._userLogHandler=null,Kr.push(this)}get logLevel(){return this._logLevel}set logLevel(u){if(!(u in mr))throw new TypeError(`Invalid value "${u}" assigned to \`logLevel\``);this._logLevel=u}setLogLevel(u){this._logLevel="string"==typeof u?Qr[u]:u}get logHandler(){return this._logHandler}set logHandler(u){if("function"!=typeof u)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=u}get userLogHandler(){return this._userLogHandler}set userLogHandler(u){this._userLogHandler=u}debug(...u){this._userLogHandler&&this._userLogHandler(this,mr.DEBUG,...u),this._logHandler(this,mr.DEBUG,...u)}log(...u){this._userLogHandler&&this._userLogHandler(this,mr.VERBOSE,...u),this._logHandler(this,mr.VERBOSE,...u)}info(...u){this._userLogHandler&&this._userLogHandler(this,mr.INFO,...u),this._logHandler(this,mr.INFO,...u)}warn(...u){this._userLogHandler&&this._userLogHandler(this,mr.WARN,...u),this._logHandler(this,mr.WARN,...u)}error(...u){this._userLogHandler&&this._userLogHandler(this,mr.ERROR,...u),this._logHandler(this,mr.ERROR,...u)}}("@firebase/auth");function Ye(v,...u){Ke.logLevel<=mr.ERROR&&Ke.error(`Auth (${_r.SDK_VERSION}): ${v}`,...u)}function rn(v,...u){throw yr(v,...u)}function kn(v,...u){return yr(v,...u)}function zr(v,u,p){const S=Object.assign(Object.assign({},Oe()),{[u]:p});return new qt("auth","Firebase",S).create(u,{appName:v.name})}function Er(v,u,p){if(!(u instanceof p))throw p.name!==u.constructor.name&&rn(v,"argument-error"),zr(v,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yr(v,...u){if("string"!=typeof v){const p=u[0],S=[...u.slice(1)];return S[0]&&(S[0].appName=v.name),v._errorFactory.create(p,...S)}return ye.create(v,...u)}function dt(v,u,...p){if(!v)throw yr(u,...p)}function ir(v){const u="INTERNAL ASSERTION FAILED: "+v;throw Ye(u),new Error(u)}function On(v,u){v||ir(u)}const qn=new Map;function kr(v){On(v instanceof Function,"Expected a class definition");let u=qn.get(v);return u?(On(u instanceof v,"Instance stored in cache mismatched with class"),u):(u=new v,qn.set(v,u),u)}function Hi(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ii(){return"http:"===Yr()||"https:"===Yr()}function Yr(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class rt{constructor(u,p){this.shortDelay=u,this.longDelay=p,On(p>u,"Short delay should be less than long delay!"),this.isMobile=function Re(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ue())}()||function tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Es(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ii()||function Ze(){const v="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof v&&void 0!==v.id}()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lt(v,u){On(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return u?`${p}${u.startsWith("/")?u.slice(1):u}`:p}class Ft{static initialize(u,p,S){this.fetchImpl=u,p&&(this.headersImpl=p),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Cn=new rt(3e4,6e4);function Un(v,u){return v.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:v.tenantId}):u}function Wn(v,u,p,S){return ui.apply(this,arguments)}function ui(){return(ui=(0,a.Z)(function*(v,u,p,S,x={}){return Ir(v,x,(0,a.Z)(function*(){let K={},be={};S&&("GET"===u?be=S:K={body:JSON.stringify(S)});const ct=Pr(Object.assign({key:v.config.apiKey},be)).slice(1),jt=yield v._getAdditionalHeaders();return jt["Content-Type"]="application/json",v.languageCode&&(jt["X-Firebase-Locale"]=v.languageCode),Ft.fetch()(Tr(v,v.config.apiHost,p,ct),Object.assign({method:u,headers:jt,referrerPolicy:"no-referrer"},K))}))})).apply(this,arguments)}function Ir(v,u,p){return Si.apply(this,arguments)}function Si(){return(Si=(0,a.Z)(function*(v,u,p){v._canInitEmulator=!1;const S=Object.assign(Object.assign({},yn),u);try{const x=new Is(v),K=yield Promise.race([p(),x.promise]);x.clearNetworkTimeout();const be=yield K.json();if("needConfirmation"in be)throw Oi(v,"account-exists-with-different-credential",be);if(K.ok&&!("errorMessage"in be))return be;{const ct=K.ok?be.errorMessage:be.error.message,[jt,gn]=ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===jt)throw Oi(v,"credential-already-in-use",be);if("EMAIL_EXISTS"===jt)throw Oi(v,"email-already-in-use",be);const Fn=S[jt]||jt.toLowerCase().replace(/[_\s]+/g,"-");if(gn)throw zr(v,Fn,gn);rn(v,Fn)}}catch(x){if(x instanceof Qn)throw x;rn(v,"network-request-failed")}})).apply(this,arguments)}function Rr(v,u,p,S){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,a.Z)(function*(v,u,p,S,x={}){const K=yield Wn(v,u,p,S,x);return"mfaPendingCredential"in K&&rn(v,"multi-factor-auth-required",{_serverResponse:K}),K})).apply(this,arguments)}function Tr(v,u,p,S){const x=`${u}${p}?${S}`;return v.config.emulator?Lt(v.config,x):`${v.config.apiScheme}://${x}`}class Is{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((p,S)=>{this.timer=setTimeout(()=>S(kn(this.auth,"network-request-failed")),Cn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oi(v,u,p){const S={appName:v.name};p.email&&(S.email=p.email),p.phoneNumber&&(S.phoneNumber=p.phoneNumber);const x=kn(v,u,S);return x.customData._tokenResponse=p,x}function $i(){return($i=(0,a.Z)(function*(v,u){return Wn(v,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Os(v,u){return io.apply(this,arguments)}function io(){return(io=(0,a.Z)(function*(v,u){return Wn(v,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Lo(v,u){return $e.apply(this,arguments)}function $e(){return($e=(0,a.Z)(function*(v,u){return Wn(v,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function pe(v){if(v)try{const u=new Date(Number(v));if(!isNaN(u.getTime()))return u.toUTCString()}catch(u){}}function vt(){return(vt=(0,a.Z)(function*(v,u=!1){const p=nr(v),S=yield p.getIdToken(u),x=rr(S);dt(x&&x.exp&&x.auth_time&&x.iat,p.auth,"internal-error");const K="object"==typeof x.firebase?x.firebase:void 0,be=null==K?void 0:K.sign_in_provider;return{claims:x,token:S,authTime:pe(Nn(x.auth_time)),issuedAtTime:pe(Nn(x.iat)),expirationTime:pe(Nn(x.exp)),signInProvider:be||null,signInSecondFactor:(null==K?void 0:K.sign_in_second_factor)||null}})).apply(this,arguments)}function Nn(v){return 1e3*Number(v)}function rr(v){const[u,p,S]=v.split(".");if(void 0===u||void 0===p||void 0===S)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const x=function(v){try{return Ne.decodeString(v,!0)}catch(u){console.error("base64Decode failed: ",u)}return null}(p);return x?JSON.parse(x):(Ye("Failed to decode base64 JWT payload"),null)}catch(x){return Ye("Caught error parsing JWT payload as JSON",x),null}}function Jr(v,u){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,a.Z)(function*(v,u,p=!1){if(p)return u;try{return yield u}catch(S){throw S instanceof Qn&&Ls(S)&&v.auth.currentUser===v&&(yield v.auth.signOut()),S}})).apply(this,arguments)}function Ls({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class li{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var p;if(u){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const x=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(u=!1){var p=this;if(!this.isRunning)return;const S=this.getInterval(u);this.timerId=setTimeout((0,a.Z)(function*(){yield p.iteration()}),S)}iteration(){var u=this;return(0,a.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&u.schedule(!0))}u.schedule()})()}}class hi{constructor(u,p){this.createdAt=u,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=pe(this.lastLoginAt),this.creationTime=pe(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ss(v){return go.apply(this,arguments)}function go(){return(go=(0,a.Z)(function*(v){var u;const p=v.auth,S=yield v.getIdToken(),x=yield Jr(v,Lo(p,{idToken:S}));dt(null==x?void 0:x.users.length,p,"internal-error");const K=x.users[0];v._notifyReloadListener(K);const be=(null===(u=K.providerUserInfo)||void 0===u?void 0:u.length)?Us(K.providerUserInfo):[],ct=mo(v.providerData,be),Fn=!!v.isAnonymous&&!(v.email&&K.passwordHash||(null==ct?void 0:ct.length)),Xt={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:ct,metadata:new hi(K.createdAt,K.lastLoginAt),isAnonymous:Fn};Object.assign(v,Xt)})).apply(this,arguments)}function Co(){return(Co=(0,a.Z)(function*(v){const u=nr(v);yield Ss(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function mo(v,u){return[...v.filter(S=>!u.some(x=>x.providerId===S.providerId)),...u]}function Us(v){return v.map(u=>{var{providerId:p}=u,S=(0,Ns._T)(u,["providerId"]);return{providerId:p,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function as(){return(as=(0,a.Z)(function*(v,u){const p=yield Ir(v,{},(0,a.Z)(function*(){const S=Pr({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:x,apiKey:K}=v.config,be=Tr(v,x,"/v1/token",`key=${K}`),ct=yield v._getAdditionalHeaders();return ct["Content-Type"]="application/x-www-form-urlencoded",Ft.fetch()(be,{method:"POST",headers:ct,body:S})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Mi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){dt(u.idToken,"internal-error"),dt(void 0!==u.idToken,"internal-error"),dt(void 0!==u.refreshToken,"internal-error");const p="expiresIn"in u&&void 0!==u.expiresIn?Number(u.expiresIn):function pr(v){const u=rr(v);return dt(u,"internal-error"),dt(void 0!==u.exp,"internal-error"),dt(void 0!==u.iat,"internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,p)}getToken(u,p=!1){var S=this;return(0,a.Z)(function*(){return dt(!S.accessToken||S.refreshToken,u,"user-token-expired"),p||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(u,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,p){var S=this;return(0,a.Z)(function*(){const{accessToken:x,refreshToken:K,expiresIn:be}=yield function Rs(v,u){return as.apply(this,arguments)}(u,p);S.updateTokensAndExpiration(x,K,Number(be))})()}updateTokensAndExpiration(u,p,S){this.refreshToken=p||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(u,p){const{refreshToken:S,accessToken:x,expirationTime:K}=p,be=new Mi;return S&&(dt("string"==typeof S,"internal-error",{appName:u}),be.refreshToken=S),x&&(dt("string"==typeof x,"internal-error",{appName:u}),be.accessToken=x),K&&(dt("number"==typeof K,"internal-error",{appName:u}),be.expirationTime=K),be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new Mi,this.toJSON())}_performRefresh(){return ir("not implemented")}}function gs(v,u){dt("string"==typeof v||void 0===v,"internal-error",{appName:u})}class Ui{constructor(u){var{uid:p,auth:S,stsTokenManager:x}=u,K=(0,Ns._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new li(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=S,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=K.displayName||null,this.email=K.email||null,this.emailVerified=K.emailVerified||!1,this.phoneNumber=K.phoneNumber||null,this.photoURL=K.photoURL||null,this.isAnonymous=K.isAnonymous||!1,this.tenantId=K.tenantId||null,this.providerData=K.providerData?[...K.providerData]:[],this.metadata=new hi(K.createdAt||void 0,K.lastLoginAt||void 0)}getIdToken(u){var p=this;return(0,a.Z)(function*(){const S=yield Jr(p,p.stsTokenManager.getToken(p.auth,u));return dt(S,p.auth,"internal-error"),p.accessToken!==S&&(p.accessToken=S,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),S})()}getIdTokenResult(u){return function Ot(v){return vt.apply(this,arguments)}(this,u)}reload(){return function Uo(v){return Co.apply(this,arguments)}(this)}_assign(u){this!==u&&(dt(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(p=>Object.assign({},p)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){return new Ui(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(u){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,p=!1){var S=this;return(0,a.Z)(function*(){let x=!1;u.idToken&&u.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(u),x=!0),p&&(yield Ss(S)),yield S.auth._persistUserIfCurrent(S),x&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var u=this;return(0,a.Z)(function*(){const p=yield u.getIdToken();return yield Jr(u,function Mo(v,u){return $i.apply(this,arguments)}(u.auth,{idToken:p})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,p){var S,x,K,be,ct,jt,gn,Fn;const Xt=null!==(S=p.displayName)&&void 0!==S?S:void 0,Mr=null!==(x=p.email)&&void 0!==x?x:void 0,xi=null!==(K=p.phoneNumber)&&void 0!==K?K:void 0,xs=null!==(be=p.photoURL)&&void 0!==be?be:void 0,Fa=null!==(ct=p.tenantId)&&void 0!==ct?ct:void 0,zo=null!==(jt=p._redirectEventId)&&void 0!==jt?jt:void 0,Fo=null!==(gn=p.createdAt)&&void 0!==gn?gn:void 0,dc=null!==(Fn=p.lastLoginAt)&&void 0!==Fn?Fn:void 0,{uid:dl,emailVerified:tf,isAnonymous:m,providerData:f,stsTokenManager:I}=p;dt(dl&&I,u,"internal-error");const O=Mi.fromJSON(this.name,I);dt("string"==typeof dl,u,"internal-error"),gs(Xt,u.name),gs(Mr,u.name),dt("boolean"==typeof tf,u,"internal-error"),dt("boolean"==typeof m,u,"internal-error"),gs(xi,u.name),gs(xs,u.name),gs(Fa,u.name),gs(zo,u.name),gs(Fo,u.name),gs(dc,u.name);const D=new Ui({uid:dl,auth:u,email:Mr,emailVerified:tf,displayName:Xt,isAnonymous:m,photoURL:xs,phoneNumber:xi,tenantId:Fa,stsTokenManager:O,createdAt:Fo,lastLoginAt:dc});return f&&Array.isArray(f)&&(D.providerData=f.map(se=>Object.assign({},se))),zo&&(D._redirectEventId=zo),D}static _fromIdTokenResponse(u,p,S=!1){return(0,a.Z)(function*(){const x=new Mi;x.updateFromServerResponse(p);const K=new Ui({uid:p.localId,auth:u,stsTokenManager:x,isAnonymous:S});return yield Ss(K),K})()}}const yo=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(p,S){var x=this;return(0,a.Z)(function*(){x.storage[p]=S})()}_get(p){var S=this;return(0,a.Z)(function*(){const x=S.storage[p];return void 0===x?null:x})()}_remove(p){var S=this;return(0,a.Z)(function*(){delete S.storage[p]})()}_addListener(p,S){}_removeListener(p,S){}}return v.type="NONE",v})();function Js(v,u,p){return`firebase:${v}:${u}:${p}`}class ns{constructor(u,p,S){this.persistence=u,this.auth=p,this.userKey=S;const{config:x,name:K}=this.auth;this.fullUserKey=Js(this.userKey,x.apiKey,K),this.fullPersistenceKey=Js("persistence",x.apiKey,K),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,a.Z)(function*(){const p=yield u.persistence._get(u.fullUserKey);return p?Ui._fromJSON(u.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var p=this;return(0,a.Z)(function*(){if(p.persistence===u)return;const S=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=u,S?p.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,p,S="authUser"){return(0,a.Z)(function*(){if(!p.length)return new ns(kr(yo),u,S);const x=(yield Promise.all(p.map(function(){var gn=(0,a.Z)(function*(Fn){if(yield Fn._isAvailable())return Fn});return function(Fn){return gn.apply(this,arguments)}}()))).filter(gn=>gn);let K=x[0]||kr(yo);const be=Js(S,u.config.apiKey,u.name);let ct=null;for(const gn of p)try{const Fn=yield gn._get(be);if(Fn){const Xt=Ui._fromJSON(u,Fn);gn!==K&&(ct=Xt),K=gn;break}}catch(Fn){}const jt=x.filter(gn=>gn._shouldAllowMigration);return K._shouldAllowMigration&&jt.length?(K=jt[0],ct&&(yield K._set(be,ct.toJSON())),yield Promise.all(p.map(function(){var gn=(0,a.Z)(function*(Fn){if(Fn!==K)try{yield Fn._remove(be)}catch(Xt){}});return function(Fn){return gn.apply(this,arguments)}}())),new ns(K,u,S)):new ns(K,u,S)})()}}function so(v){const u=v.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Wi(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(To(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(q(u))return"Blackberry";if(de(u))return"Webos";if(As(u))return"Safari";if((u.includes("chrome/")||ms(u))&&!u.includes("edge/"))return"Chrome";if(bi(u))return"Android";{const S=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function To(v=ue()){return/firefox\//i.test(v)}function As(v=ue()){const u=v.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function ms(v=ue()){return/crios\//i.test(v)}function Wi(v=ue()){return/iemobile/i.test(v)}function bi(v=ue()){return/android/i.test(v)}function q(v=ue()){return/blackberry/i.test(v)}function de(v=ue()){return/webos/i.test(v)}function W(v=ue()){return/iphone|ipad|ipod/i.test(v)}function hn(v=ue()){return W(v)||bi(v)||de(v)||q(v)||/windows phone/i.test(v)||Wi(v)}function di(v,u=[]){let p;switch(v){case"Browser":p=so(ue());break;case"Worker":p=`${so(ue())}-${v}`;break;default:p=v}const S=u.length?u.join(","):"FirebaseCore-web";return`${p}/JsCore/${_r.SDK_VERSION}/${S}`}class Nr{constructor(u,p){this.app=u,this.config=p,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xr(this),this.idTokenSubscription=new Xr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=p.sdkClientVersion}_initializeWithPersistence(u,p){var S=this;return p&&(this._popupRedirectResolver=kr(p)),this._initializationPromise=this.queue((0,a.Z)(function*(){var x,K;if(!S._deleted&&(S.persistenceManager=yield ns.create(S,u),!S._deleted)){if(null===(x=S._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch(be){}yield S.initializeCurrentUser(p),S.lastNotifiedUid=(null===(K=S.currentUser)||void 0===K?void 0:K.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,a.Z)(function*(){if(u._deleted)return;const p=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||p){if(u.currentUser&&p&&u.currentUser.uid===p.uid)return u._currentUser._assign(p),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(p)}})()}initializeCurrentUser(u){var p=this;return(0,a.Z)(function*(){var S;let x=yield p.assertedPersistence.getCurrentUser();if(u&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const K=null===(S=p.redirectUser)||void 0===S?void 0:S._redirectEventId,be=null==x?void 0:x._redirectEventId,ct=yield p.tryRedirectSignIn(u);(!K||K===be)&&(null==ct?void 0:ct.user)&&(x=ct.user)}return x?x._redirectEventId?(dt(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===x._redirectEventId?p.directlySetCurrentUser(x):p.reloadAndSetCurrentUserOrClear(x)):p.reloadAndSetCurrentUserOrClear(x):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(u){var p=this;return(0,a.Z)(function*(){let S=null;try{S=yield p._popupRedirectResolver._completeRedirectFn(p,u,!0)}catch(x){yield p._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(u){var p=this;return(0,a.Z)(function*(){try{yield Ss(u)}catch(S){if("auth/network-request-failed"!==S.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function $r(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var u=this;return(0,a.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var p=this;return(0,a.Z)(function*(){const S=u?nr(u):null;return S&&dt(S.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(S&&S._clone(p))})()}_updateCurrentUser(u){var p=this;return(0,a.Z)(function*(){if(!p._deleted)return u&&dt(p.tenantId===u.tenantId,p,"tenant-id-mismatch"),p.queue((0,a.Z)(function*(){yield p.directlySetCurrentUser(u),p.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,a.Z)(function*(){return(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null)})()}setPersistence(u){var p=this;return this.queue((0,a.Z)(function*(){yield p.assertedPersistence.setPersistence(kr(u))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new qt("auth","Firebase",u())}onAuthStateChanged(u,p,S){return this.registerStateListener(this.authStateSubscription,u,p,S)}onIdTokenChanged(u,p,S){return this.registerStateListener(this.idTokenSubscription,u,p,S)}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,p){var S=this;return(0,a.Z)(function*(){const x=yield S.getOrInitRedirectPersistenceManager(p);return null===u?x.removeCurrentUser():x.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var p=this;return(0,a.Z)(function*(){if(!p.redirectPersistenceManager){const S=u&&kr(u)||p._popupRedirectResolver;dt(S,p,"argument-error"),p.redirectPersistenceManager=yield ns.create(p,[kr(S._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(u){var p=this;return(0,a.Z)(function*(){var S,x;return p._isInitialized&&(yield p.queue((0,a.Z)(function*(){}))),(null===(S=p._currentUser)||void 0===S?void 0:S._redirectEventId)===u?p._currentUser:(null===(x=p.redirectUser)||void 0===x?void 0:x._redirectEventId)===u?p.redirectUser:null})()}_persistUserIfCurrent(u){var p=this;return(0,a.Z)(function*(){if(u===p.currentUser)return p.queue((0,a.Z)(function*(){return p.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(p=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,p,S,x){if(this._deleted)return()=>{};const K="function"==typeof p?p:p.next.bind(p),be=this._isInitialized?Promise.resolve():this._initializationPromise;return dt(be,this,"internal-error"),be.then(()=>K(this.currentUser)),"function"==typeof p?u.addObserver(p,S,x):u.addObserver(p)}directlySetCurrentUser(u){var p=this;return(0,a.Z)(function*(){p.currentUser&&p.currentUser!==u&&(p._currentUser._stopProactiveRefresh(),u&&p.isProactiveRefreshEnabled&&u._startProactiveRefresh()),p.currentUser=u,u?yield p.assertedPersistence.setCurrentUser(u):yield p.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=di(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,a.Z)(function*(){const p={"X-Client-Version":u.clientVersion};return u.app.options.appId&&(p["X-Firebase-gmpid"]=u.app.options.appId),p})()}}function Kn(v){return nr(v)}class Xr{constructor(u){this.auth=u,this.observer=null,this.addObserver=function wr(v,u){const p=new vr(v,u);return p.subscribe.bind(p)}(p=>this.observer=p)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wi(v){const u=v.indexOf(":");return u<0?"":v.substr(0,u+1)}function oo(v){if(!v)return null;const u=Number(v);return isNaN(u)?null:u}class Sr{constructor(u,p){this.providerId=u,this.signInMethod=p}toJSON(){return ir("not implemented")}_getIdTokenResponse(u){return ir("not implemented")}_linkToIdToken(u,p){return ir("not implemented")}_getReauthenticationResolver(u){return ir("not implemented")}}function vo(v,u){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,a.Z)(function*(v,u){return Wn(v,"POST","/v1/accounts:resetPassword",Un(v,u))})).apply(this,arguments)}function Cs(v,u){return co.apply(this,arguments)}function co(){return(co=(0,a.Z)(function*(v,u){return Wn(v,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Y(v,u){return H.apply(this,arguments)}function H(){return(H=(0,a.Z)(function*(v,u){return Wn(v,"POST","/v1/accounts:update",Un(v,u))})).apply(this,arguments)}function J(){return(J=(0,a.Z)(function*(v,u){return Rr(v,"POST","/v1/accounts:signInWithPassword",Un(v,u))})).apply(this,arguments)}function Mt(v,u){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,a.Z)(function*(v,u){return Wn(v,"POST","/v1/accounts:sendOobCode",Un(v,u))})).apply(this,arguments)}function Fr(v,u){return cs.apply(this,arguments)}function cs(){return(cs=(0,a.Z)(function*(v,u){return Mt(v,u)})).apply(this,arguments)}function Ms(v,u){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,a.Z)(function*(v,u){return Mt(v,u)})).apply(this,arguments)}function Go(v,u){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,a.Z)(function*(v,u){return Mt(v,u)})).apply(this,arguments)}function Eu(v,u){return su.apply(this,arguments)}function su(){return(su=(0,a.Z)(function*(v,u){return Mt(v,u)})).apply(this,arguments)}function La(){return(La=(0,a.Z)(function*(v,u){return Rr(v,"POST","/v1/accounts:signInWithEmailLink",Un(v,u))})).apply(this,arguments)}function js(){return(js=(0,a.Z)(function*(v,u){return Rr(v,"POST","/v1/accounts:signInWithEmailLink",Un(v,u))})).apply(this,arguments)}class ca extends Sr{constructor(u,p,S,x=null){super("password",S),this._email=u,this._password=p,this._tenantId=x}static _fromEmailAndPassword(u,p){return new ca(u,p,"password")}static _fromEmailAndCode(u,p,S=null){return new ca(u,p,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const p="string"==typeof u?JSON.parse(u):u;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(u){var p=this;return(0,a.Z)(function*(){switch(p.signInMethod){case"password":return function V(v,u){return J.apply(this,arguments)}(u,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function _o(v,u){return La.apply(this,arguments)}(u,{email:p._email,oobCode:p._password});default:rn(u,"internal-error")}})()}_linkToIdToken(u,p){var S=this;return(0,a.Z)(function*(){switch(S.signInMethod){case"password":return Cs(u,{idToken:p,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function Xs(v,u){return js.apply(this,arguments)}(u,{idToken:p,email:S._email,oobCode:S._password});default:rn(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function fi(v,u){return zs.apply(this,arguments)}function zs(){return(zs=(0,a.Z)(function*(v,u){return Rr(v,"POST","/v1/accounts:signInWithIdp",Un(v,u))})).apply(this,arguments)}class oe extends Sr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const p=new oe(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(p.idToken=u.idToken),u.accessToken&&(p.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(p.nonce=u.nonce),u.pendingToken&&(p.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(p.accessToken=u.oauthToken,p.secret=u.oauthTokenSecret):rn("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const p="string"==typeof u?JSON.parse(u):u,{providerId:S,signInMethod:x}=p,K=(0,Ns._T)(p,["providerId","signInMethod"]);if(!S||!x)return null;const be=new oe(S,x);return be.idToken=K.idToken||void 0,be.accessToken=K.accessToken||void 0,be.secret=K.secret,be.nonce=K.nonce,be.pendingToken=K.pendingToken||null,be}_getIdTokenResponse(u){return fi(u,this.buildRequest())}_linkToIdToken(u,p){const S=this.buildRequest();return S.idToken=p,fi(u,S)}_getReauthenticationResolver(u){const p=this.buildRequest();return p.autoCreate=!1,fi(u,p)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),u.postBody=Pr(p)}return u}}function Q(v,u){return ge.apply(this,arguments)}function ge(){return(ge=(0,a.Z)(function*(v,u){return Wn(v,"POST","/v1/accounts:sendVerificationCode",Un(v,u))})).apply(this,arguments)}function We(){return(We=(0,a.Z)(function*(v,u){return Rr(v,"POST","/v1/accounts:signInWithPhoneNumber",Un(v,u))})).apply(this,arguments)}function Gn(){return(Gn=(0,a.Z)(function*(v,u){const p=yield Rr(v,"POST","/v1/accounts:signInWithPhoneNumber",Un(v,u));if(p.temporaryProof)throw Oi(v,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const qr={USER_NOT_FOUND:"user-not-found"};function Ti(){return(Ti=(0,a.Z)(function*(v,u){return Rr(v,"POST","/v1/accounts:signInWithPhoneNumber",Un(v,Object.assign(Object.assign({},u),{operation:"REAUTH"})),qr)})).apply(this,arguments)}class rs extends Sr{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,p){return new rs({verificationId:u,verificationCode:p})}static _fromTokenResponse(u,p){return new rs({phoneNumber:u,temporaryProof:p})}_getIdTokenResponse(u){return function Be(v,u){return We.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,p){return function Yt(v,u){return Gn.apply(this,arguments)}(u,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function Cr(v,u){return Ti.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:p,verificationId:S,verificationCode:x}=this.params;return u&&p?{temporaryProof:u,phoneNumber:p}:{sessionInfo:S,code:x}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:p,verificationCode:S,phoneNumber:x,temporaryProof:K}=u;return S||p||x||K?new rs({verificationId:p,verificationCode:S,phoneNumber:x,temporaryProof:K}):null}}class wo{constructor(u){var p,S,x,K,be,ct;const jt=Gr(ti(u)),gn=null!==(p=jt.apiKey)&&void 0!==p?p:null,Fn=null!==(S=jt.oobCode)&&void 0!==S?S:null,Xt=function mi(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=jt.mode)&&void 0!==x?x:null);dt(gn&&Fn&&Xt,"argument-error"),this.apiKey=gn,this.operation=Xt,this.code=Fn,this.continueUrl=null!==(K=jt.continueUrl)&&void 0!==K?K:null,this.languageCode=null!==(be=jt.languageCode)&&void 0!==be?be:null,this.tenantId=null!==(ct=jt.tenantId)&&void 0!==ct?ct:null}static parseLink(u){const p=function bo(v){const u=Gr(ti(v)).link,p=u?Gr(ti(u)).deep_link_id:null,S=Gr(ti(v)).deep_link_id;return(S?Gr(ti(S)).link:null)||S||p||u||v}(u);try{return new wo(p)}catch(S){return null}}}let Vc=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,S){return ca._fromEmailAndPassword(p,S)}static credentialWithLink(p,S){const x=wo.parseLink(S);return dt(x,"argument-error"),ca._fromEmailAndCode(p,x.code,x.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Sa{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class ys extends Sa{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Zs extends ys{static credentialFromJSON(u){const p="string"==typeof u?JSON.parse(u):u;return dt("providerId"in p&&"signInMethod"in p,"argument-error"),oe._fromParams(p)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return dt(u.idToken||u.accessToken,"argument-error"),oe._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Zs.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Zs.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:p,oauthAccessToken:S,oauthTokenSecret:x,pendingToken:K,nonce:be,providerId:ct}=u;if(!S&&!x&&!p&&!K||!ct)return null;try{return new Zs(ct)._credential({idToken:p,accessToken:S,nonce:be,pendingToken:K})}catch(jt){return null}}}let is=(()=>{class v extends ys{constructor(){super("facebook.com")}static credential(p){return oe._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch(S){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Iu=(()=>{class v extends ys{constructor(){super("google.com"),this.addScope("profile")}static credential(p,S){return oe._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:S})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:S,oauthAccessToken:x}=p;if(!S&&!x)return null;try{return v.credential(S,x)}catch(K){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),fc=(()=>{class v extends ys{constructor(){super("github.com")}static credential(p){return oe._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch(S){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Hc extends Sr{constructor(u,p){super(u,u),this.pendingToken=p}_getIdTokenResponse(u){return fi(u,this.buildRequest())}_linkToIdToken(u,p){const S=this.buildRequest();return S.idToken=p,fi(u,S)}_getReauthenticationResolver(u){const p=this.buildRequest();return p.autoCreate=!1,fi(u,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const p="string"==typeof u?JSON.parse(u):u,{providerId:S,signInMethod:x,pendingToken:K}=p;return S&&x&&K&&S===x?new Hc(S,K):null}static _create(u,p){return new Hc(u,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ou extends Sa{constructor(u){dt(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return ou.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return ou.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const p=Hc.fromJSON(u);return dt(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:p,providerId:S}=u;if(!p||!S)return null;try{return Hc._create(S,p)}catch(x){return null}}}let Tc=(()=>{class v extends ys{constructor(){super("twitter.com")}static credential(p,S){return oe._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:S})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:S,oauthTokenSecret:x}=p;if(!S||!x)return null;try{return v.credential(S,x)}catch(K){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Aa(v,u){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,a.Z)(function*(v,u){return Rr(v,"POST","/v1/accounts:signUp",Un(v,u))})).apply(this,arguments)}class uo{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,p,S,x=!1){return(0,a.Z)(function*(){const K=yield Ui._fromIdTokenResponse(u,S,x),be=vs(S);return new uo({user:K,providerId:be,_tokenResponse:S,operationType:p})})()}static _forOperation(u,p,S){return(0,a.Z)(function*(){yield u._updateTokensIfNecessary(S,!0);const x=vs(S);return new uo({user:u,providerId:x,_tokenResponse:S,operationType:p})})()}}function vs(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function qs(){return(qs=(0,a.Z)(function*(v){var u;const p=Kn(v);if(yield p._initializationPromise,null===(u=p.currentUser)||void 0===u?void 0:u.isAnonymous)return new uo({user:p.currentUser,providerId:null,operationType:"signIn"});const S=yield Aa(p,{returnSecureToken:!0}),x=yield uo._fromIdTokenResponse(p,"signIn",S,!0);return yield p._updateCurrentUser(x.user),x})).apply(this,arguments)}class Bo extends Qn{constructor(u,p,S,x){var K;super(p.code,p.message),this.operationType=S,this.user=x,Object.setPrototypeOf(this,Bo.prototype),this.customData={appName:u.name,tenantId:null!==(K=u.tenantId)&&void 0!==K?K:void 0,_serverResponse:p.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(u,p,S,x){return new Bo(u,p,S,x)}}function Qo(v,u,p,S){return("reauthenticate"===u?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(K=>{throw"auth/multi-factor-auth-required"===K.code?Bo._fromErrorAndOperation(v,K,u,S):K})}function ec(v){return new Set(v.map(({providerId:u})=>u).filter(u=>!!u))}function Po(){return(Po=(0,a.Z)(function*(v,u){const p=nr(v);yield tc(!0,p,u);const{providerUserInfo:S}=yield Os(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[u]}),x=ec(S||[]);return p.providerData=p.providerData.filter(K=>x.has(K.providerId)),x.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function la(v,u){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,a.Z)(function*(v,u,p=!1){const S=yield Jr(v,u._linkToIdToken(v.auth,yield v.getIdToken()),p);return uo._forOperation(v,"link",S)})).apply(this,arguments)}function tc(v,u,p){return pc.apply(this,arguments)}function pc(){return(pc=(0,a.Z)(function*(v,u,p){yield Ss(u);const x=!1===v?"provider-already-linked":"no-such-provider";dt(ec(u.providerData).has(p)===v,u.auth,x)})).apply(this,arguments)}function Di(v,u){return ji.apply(this,arguments)}function ji(){return(ji=(0,a.Z)(function*(v,u,p=!1){const{auth:S}=v,x="reauthenticate";try{const K=yield Jr(v,Qo(S,x,u,v),p);dt(K.idToken,S,"internal-error");const be=rr(K.idToken);dt(be,S,"internal-error");const{sub:ct}=be;return dt(v.uid===ct,S,"user-mismatch"),uo._forOperation(v,x,K)}catch(K){throw"auth/user-not-found"===(null==K?void 0:K.code)&&rn(S,"user-mismatch"),K}})).apply(this,arguments)}function Yo(v,u){return zc.apply(this,arguments)}function zc(){return(zc=(0,a.Z)(function*(v,u,p=!1){const S="signIn",x=yield Qo(v,S,u),K=yield uo._fromIdTokenResponse(v,S,x);return p||(yield v._updateCurrentUser(K.user)),K})).apply(this,arguments)}function Ca(v,u){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,a.Z)(function*(v,u){return Yo(Kn(v),u)})).apply(this,arguments)}function da(v,u){return ml.apply(this,arguments)}function ml(){return(ml=(0,a.Z)(function*(v,u){const p=nr(v);return yield tc(!1,p,u.providerId),la(p,u)})).apply(this,arguments)}function nc(v,u){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,a.Z)(function*(v,u){return Di(nr(v),u)})).apply(this,arguments)}function Eo(v,u){return $l.apply(this,arguments)}function $l(){return($l=(0,a.Z)(function*(v,u){return Rr(v,"POST","/v1/accounts:signInWithCustomToken",Un(v,u))})).apply(this,arguments)}function xc(){return(xc=(0,a.Z)(function*(v,u){const p=Kn(v),S=yield Eo(p,{token:u,returnSecureToken:!0}),x=yield uo._fromIdTokenResponse(p,"signIn",S);return yield p._updateCurrentUser(x.user),x})).apply(this,arguments)}class Jo{constructor(u,p){this.factorId=u,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(u,p){return"phoneInfo"in p?Su._fromServerResponse(u,p):rn(u,"internal-error")}}class Su extends Jo{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,p){return new Su(p)}}function Io(v,u,p){var S;dt((null===(S=p.url)||void 0===S?void 0:S.length)>0,v,"invalid-continue-uri"),dt(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),u.continueUrl=p.url,u.dynamicLinkDomain=p.dynamicLinkDomain,u.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(dt(p.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),u.iOSBundleId=p.iOS.bundleId),p.android&&(dt(p.android.packageName.length>0,v,"missing-android-pkg-name"),u.androidInstallApp=p.android.installApp,u.androidMinimumVersionCode=p.android.minimumVersion,u.androidPackageName=p.android.packageName)}function ja(){return(ja=(0,a.Z)(function*(v,u,p){const S=nr(v),x={requestType:"PASSWORD_RESET",email:u};p&&Io(S,x,p),yield Ms(S,x)})).apply(this,arguments)}function U(){return(U=(0,a.Z)(function*(v,u,p){yield vo(nr(v),{oobCode:u,newPassword:p})})).apply(this,arguments)}function M(){return(M=(0,a.Z)(function*(v,u){yield Y(nr(v),{oobCode:u})})).apply(this,arguments)}function $(v,u){return X.apply(this,arguments)}function X(){return(X=(0,a.Z)(function*(v,u){const p=nr(v),S=yield vo(p,{oobCode:u}),x=S.requestType;switch(dt(x,p,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":dt(S.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":dt(S.mfaInfo,p,"internal-error");default:dt(S.email,p,"internal-error")}let K=null;return S.mfaInfo&&(K=Jo._fromServerResponse(Kn(p),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:K},operation:x}})).apply(this,arguments)}function Fe(){return(Fe=(0,a.Z)(function*(v,u){const{data:p}=yield $(nr(v),u);return p.email})).apply(this,arguments)}function nn(){return(nn=(0,a.Z)(function*(v,u,p){const S=Kn(v),x=yield Aa(S,{returnSecureToken:!0,email:u,password:p}),K=yield uo._fromIdTokenResponse(S,"signIn",x);return yield S._updateCurrentUser(K.user),K})).apply(this,arguments)}function br(){return(br=(0,a.Z)(function*(v,u,p){const S=nr(v),x={requestType:"EMAIL_SIGNIN",email:u};dt(p.handleCodeInApp,S,"argument-error"),p&&Io(S,x,p),yield Go(S,x)})).apply(this,arguments)}function So(){return(So=(0,a.Z)(function*(v,u,p){const S=nr(v),x=Vc.credentialWithLink(u,p||Hi());return dt(x._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),Ca(S,x)})).apply(this,arguments)}function Xo(v,u){return ha.apply(this,arguments)}function ha(){return(ha=(0,a.Z)(function*(v,u){return Wn(v,"POST","/v1/accounts:createAuthUri",Un(v,u))})).apply(this,arguments)}function No(){return(No=(0,a.Z)(function*(v,u){const S={identifier:u,continueUri:Ii()?Hi():"http://localhost"},{signinMethods:x}=yield Xo(nr(v),S);return x||[]})).apply(this,arguments)}function Oc(){return(Oc=(0,a.Z)(function*(v,u){const p=nr(v),x={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};u&&Io(p.auth,x,u);const{email:K}=yield Fr(p.auth,x);K!==v.email&&(yield v.reload())})).apply(this,arguments)}function pa(){return(pa=(0,a.Z)(function*(v,u,p){const S=nr(v),K={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:u};p&&Io(S.auth,K,p);const{email:be}=yield Eu(S.auth,K);be!==v.email&&(yield v.reload())})).apply(this,arguments)}function yf(v,u){return zl.apply(this,arguments)}function zl(){return(zl=(0,a.Z)(function*(v,u){return Wn(v,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Pd(){return(Pd=(0,a.Z)(function*(v,{displayName:u,photoURL:p}){if(void 0===u&&void 0===p)return;const S=nr(v),K={idToken:yield S.getIdToken(),displayName:u,photoUrl:p,returnSecureToken:!0},be=yield Jr(S,yf(S.auth,K));S.displayName=be.displayName||null,S.photoURL=be.photoUrl||null;const ct=S.providerData.find(({providerId:jt})=>"password"===jt);ct&&(ct.displayName=S.displayName,ct.photoURL=S.photoURL),yield S._updateTokensIfNecessary(be)})).apply(this,arguments)}function ah(v,u,p){return cu.apply(this,arguments)}function cu(){return(cu=(0,a.Z)(function*(v,u,p){const{auth:S}=v,K={idToken:yield v.getIdToken(),returnSecureToken:!0};u&&(K.email=u),p&&(K.password=p);const be=yield Jr(v,Cs(S,K));yield v._updateTokensIfNecessary(be,!0)})).apply(this,arguments)}class Ts{constructor(u,p,S={}){this.isNewUser=u,this.providerId=p,this.profile=S}}class gc extends Ts{constructor(u,p,S,x){super(u,p,S),this.username=x}}class kd extends Ts{constructor(u,p){super(u,"facebook.com",p)}}class Ks extends gc{constructor(u,p){super(u,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class Zc extends Ts{constructor(u,p){super(u,"google.com",p)}}class Vu extends gc{constructor(u,p,S){super(u,"twitter.com",p,S)}}function Fd(v){const{user:u,_tokenResponse:p}=v;return u.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Zl(v){var u,p;if(!v)return null;const{providerId:S}=v,x=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},K=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!S&&(null==v?void 0:v.idToken)){const be=null===(p=null===(u=rr(v.idToken))||void 0===u?void 0:u.firebase)||void 0===p?void 0:p.sign_in_provider;if(be)return new Ts(K,"anonymous"!==be&&"custom"!==be?be:null)}if(!S)return null;switch(S){case"facebook.com":return new kd(K,x);case"github.com":return new Ks(K,x);case"google.com":return new Zc(K,x);case"twitter.com":return new Vu(K,x,v.screenName||null);case"custom":case"anonymous":return new Ts(K,null);default:return new Ts(K,S,x)}}(p)}class sc{constructor(u,p){this.type=u,this.credential=p}static _fromIdtoken(u){return new sc("enroll",u)}static _fromMfaPendingCredential(u){return new sc("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var p,S;if(null==u?void 0:u.multiFactorSession){if(null===(p=u.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return sc._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null===(S=u.multiFactorSession)||void 0===S?void 0:S.idToken)return sc._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Gc{constructor(u,p,S){this.session=u,this.hints=p,this.signInResolver=S}static _fromError(u,p){const S=Kn(u),x=p.customData._serverResponse,K=(x.mfaInfo||[]).map(ct=>Jo._fromServerResponse(S,ct));dt(x.mfaPendingCredential,S,"internal-error");const be=sc._fromMfaPendingCredential(x.mfaPendingCredential);return new Gc(be,K,function(){var ct=(0,a.Z)(function*(jt){const gn=yield jt._process(S,be);delete x.mfaInfo,delete x.mfaPendingCredential;const Fn=Object.assign(Object.assign({},x),{idToken:gn.idToken,refreshToken:gn.refreshToken});switch(p.operationType){case"signIn":const Xt=yield uo._fromIdTokenResponse(S,p.operationType,Fn);return yield S._updateCurrentUser(Xt.user),Xt;case"reauthenticate":return dt(p.user,S,"internal-error"),uo._forOperation(p.user,p.operationType,Fn);default:rn(S,"internal-error")}});return function(jt){return ct.apply(this,arguments)}}())}resolveSignIn(u){var p=this;return(0,a.Z)(function*(){return p.signInResolver(u)})()}}function Va(v,u){return Wn(v,"POST","/v2/accounts/mfaEnrollment:start",Un(v,u))}class Kc{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(S=>Jo._fromServerResponse(u.auth,S)))})}static _fromUser(u){return new Kc(u)}getSession(){var u=this;return(0,a.Z)(function*(){return sc._fromIdtoken(yield u.user.getIdToken())})()}enroll(u,p){var S=this;return(0,a.Z)(function*(){const x=u,K=yield S.getSession(),be=yield Jr(S.user,x._process(S.user.auth,K,p));return yield S.user._updateTokensIfNecessary(be),S.user.reload()})()}unenroll(u){var p=this;return(0,a.Z)(function*(){const S="string"==typeof u?u:u.uid,x=yield p.user.getIdToken(),K=yield Jr(p.user,function $u(v,u){return Wn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Un(v,u))}(p.user.auth,{idToken:x,mfaEnrollmentId:S}));p.enrolledFactors=p.enrolledFactors.filter(({uid:be})=>be!==S),yield p.user._updateTokensIfNecessary(K);try{yield p.user.reload()}catch(be){if("auth/user-token-expired"!==be.code)throw be}})()}}const uu=new WeakMap,Wu="__sak";class zu{constructor(u,p){this.storageRetriever=u,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Wu,"1"),this.storage.removeItem(Wu),Promise.resolve(!0)):Promise.resolve(!1)}catch(u){return Promise.resolve(!1)}}_set(u,p){return this.storage.setItem(u,JSON.stringify(p)),Promise.resolve()}_get(u){const p=this.storage.getItem(u);return Promise.resolve(p?JSON.parse(p):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ha=(()=>{class v extends zu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,S)=>this.onStorageEvent(p,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Kl(){const v=ue();return As(v)||W(v)}()&&function dr(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=hn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const S of Object.keys(this.listeners)){const x=this.storage.getItem(S),K=this.localCache[S];x!==K&&p(S,K,x)}}onStorageEvent(p,S=!1){if(!p.key)return void this.forAllChangedKeys((ct,jt,gn)=>{this.notifyListeners(ct,gn)});const x=p.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ct=this.storage.getItem(x);if(p.newValue!==ct)null!==p.newValue?this.storage.setItem(x,p.newValue):this.storage.removeItem(x);else if(this.localCache[x]===p.newValue&&!S)return}const K=()=>{const ct=this.storage.getItem(x);!S&&this.localCache[x]===ct||this.notifyListeners(x,ct)},be=this.storage.getItem(x);!function Gt(){return function Ve(){const v=ue();return v.indexOf("MSIE ")>=0||v.indexOf("Trident/")>=0}()&&10===document.documentMode}()||be===p.newValue||p.newValue===p.oldValue?K():setTimeout(K,10)}notifyListeners(p,S){this.localCache[p]=S;const x=this.listeners[p];if(x)for(const K of Array.from(x))K(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,S,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:S,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(S)}_removeListener(p,S){this.listeners[p]&&(this.listeners[p].delete(S),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,S){var x=()=>super._set,K=this;return(0,a.Z)(function*(){yield x().call(K,p,S),K.localCache[p]=JSON.stringify(S)})()}_get(p){var S=()=>super._get,x=this;return(0,a.Z)(function*(){const K=yield S().call(x,p);return x.localCache[p]=JSON.stringify(K),K})()}_remove(p){var S=()=>super._remove,x=this;return(0,a.Z)(function*(){yield S().call(x,p),delete x.localCache[p]})()}}return v.type="LOCAL",v})(),lu=(()=>{class v extends zu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,S){}_removeListener(p,S){}}return v.type="SESSION",v})();let _l=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const S=this.receivers.find(K=>K.isListeningto(p));if(S)return S;const x=new v(p);return this.receivers.push(x),x}isListeningto(p){return this.eventTarget===p}handleEvent(p){var S=this;return(0,a.Z)(function*(){const x=p,{eventId:K,eventType:be,data:ct}=x.data,jt=S.handlersMap[be];if(!(null==jt?void 0:jt.size))return;x.ports[0].postMessage({status:"ack",eventId:K,eventType:be});const gn=Array.from(jt).map(function(){var Xt=(0,a.Z)(function*(Mr){return Mr(x.origin,ct)});return function(Mr){return Xt.apply(this,arguments)}}()),Fn=yield function Rc(v){return Promise.all(v.map(function(){var u=(0,a.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(S){return{fulfilled:!1,reason:S}}});return function(p){return u.apply(this,arguments)}}()))}(gn);x.ports[0].postMessage({status:"done",eventId:K,eventType:be,response:Fn})})()}_subscribe(p,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(S)}_unsubscribe(p,S){this.handlersMap[p]&&S&&this.handlersMap[p].delete(S),(!S||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function $a(v="",u=10){let p="";for(let S=0;S<u;S++)p+=Math.floor(10*Math.random());return v+p}class vf{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,p,S=50){var x=this;return(0,a.Z)(function*(){const K="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!K)throw new Error("connection_unavailable");let be,ct;return new Promise((jt,gn)=>{const Fn=$a("",20);K.port1.start();const Xt=setTimeout(()=>{gn(new Error("unsupported_event"))},S);ct={messageChannel:K,onMessage(Mr){const xi=Mr;if(xi.data.eventId===Fn)switch(xi.data.status){case"ack":clearTimeout(Xt),be=setTimeout(()=>{gn(new Error("timeout"))},3e3);break;case"done":clearTimeout(be),jt(xi.data.response);break;default:clearTimeout(Xt),clearTimeout(be),gn(new Error("invalid_response"))}}},x.handlers.add(ct),K.port1.addEventListener("message",ct.onMessage),x.target.postMessage({eventType:u,eventId:Fn,data:p},[K.port2])}).finally(()=>{ct&&x.removeMessageHandler(ct)})})()}}function Ao(){return window}function R(){return void 0!==Ao().WorkerGlobalScope&&"function"==typeof Ao().importScripts}function k(){return(k=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const De="firebaseLocalStorageDb",wn="firebaseLocalStorage",xt="fbase_key";class Pn{constructor(u){this.request=u}toPromise(){return new Promise((u,p)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Dr(v,u){return v.transaction([wn],u?"readwrite":"readonly").objectStore(wn)}function An(){const v=indexedDB.open(De,1);return new Promise((u,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const S=v.result;try{S.createObjectStore(wn,{keyPath:xt})}catch(x){p(x)}}),v.addEventListener("success",(0,a.Z)(function*(){const S=v.result;S.objectStoreNames.contains(wn)?u(S):(S.close(),yield function Xn(){const v=indexedDB.deleteDatabase(De);return new Pn(v).toPromise()}(),u(yield An()))}))})}function Hn(v,u,p){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,a.Z)(function*(v,u,p){const S=Dr(v,!0).put({[xt]:u,value:p});return new Pn(S).toPromise()})).apply(this,arguments)}function $t(){return($t=(0,a.Z)(function*(v,u){const p=Dr(v,!1).get(u),S=yield new Pn(p).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function _n(v,u){const p=Dr(v,!0).delete(u);return new Pn(p).toPromise()}const oc=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,a.Z)(function*(){return p.db||(p.db=yield An()),p.db})()}_withRetries(p){var S=this;return(0,a.Z)(function*(){let x=0;for(;;)try{const K=yield S._openDb();return yield p(K)}catch(K){if(x++>3)throw K;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,a.Z)(function*(){return R()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,a.Z)(function*(){p.receiver=_l._getInstance(function G(){return R()?self:null}()),p.receiver._subscribe("keyChanged",function(){var S=(0,a.Z)(function*(x,K){return{keyProcessed:(yield p._poll()).includes(K.key)}});return function(x,K){return S.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var S=(0,a.Z)(function*(x,K){return["keyChanged"]});return function(x,K){return S.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,a.Z)(function*(){var S,x;if(p.activeServiceWorker=yield function A(){return k.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new vf(p.activeServiceWorker);const K=yield p.sender._send("ping",{},800);!K||(null===(S=K[0])||void 0===S?void 0:S.fulfilled)&&(null===(x=K[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var S=this;return(0,a.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function z(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:p},S.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const p=yield An();return yield Hn(p,Wu,"1"),yield _n(p,Wu),!0}catch(p){}return!1})()}_withPendingWrite(p){var S=this;return(0,a.Z)(function*(){S.pendingWrites++;try{yield p()}finally{S.pendingWrites--}})()}_set(p,S){var x=this;return(0,a.Z)(function*(){return x._withPendingWrite((0,a.Z)(function*(){return yield x._withRetries(K=>Hn(K,p,S)),x.localCache[p]=S,x.notifyServiceWorker(p)}))})()}_get(p){var S=this;return(0,a.Z)(function*(){const x=yield S._withRetries(K=>function jn(v,u){return $t.apply(this,arguments)}(K,p));return S.localCache[p]=x,x})()}_remove(p){var S=this;return(0,a.Z)(function*(){return S._withPendingWrite((0,a.Z)(function*(){return yield S._withRetries(x=>_n(x,p)),delete S.localCache[p],S.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,a.Z)(function*(){const S=yield p._withRetries(be=>{const ct=Dr(be,!1).getAll();return new Pn(ct).toPromise()});if(!S)return[];if(0!==p.pendingWrites)return[];const x=[],K=new Set;for(const{fbase_key:be,value:ct}of S)K.add(be),JSON.stringify(p.localCache[be])!==JSON.stringify(ct)&&(p.notifyListeners(be,ct),x.push(be));for(const be of Object.keys(p.localCache))p.localCache[be]&&!K.has(be)&&(p.notifyListeners(be,null),x.push(be));return x})()}notifyListeners(p,S){this.localCache[p]=S;const x=this.listeners[p];if(x)for(const K of Array.from(x))K(S)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(S)}_removeListener(p,S){this.listeners[p]&&(this.listeners[p].delete(S),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function qu(v,u){return Wn(v,"POST","/v2/accounts/mfaSignIn:start",Un(v,u))}function xa(){return(xa=(0,a.Z)(function*(v){return(yield Wn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bp(v){return new Promise((u,p)=>{const S=document.createElement("script");S.setAttribute("src",v),S.onload=u,S.onerror=x=>{const K=kn("internal-error");K.customData=x,p(K)},S.type="text/javascript",S.charset="UTF-8",function Rh(){var v,u;return null!==(u=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==u?u:document}().appendChild(S)})}function Wa(v){return`__${v}${Math.floor(1e6*Math.random())}`}const yi=1e12;class mc{constructor(u){this.auth=u,this.counter=yi,this._widgets=new Map}render(u,p){const S=this.counter;return this._widgets.set(S,new Mh(u,this.auth.name,p||{})),this.counter++,S}reset(u){var p;const S=u||yi;null===(p=this._widgets.get(S))||void 0===p||p.delete(),this._widgets.delete(S)}getResponse(u){var p;return(null===(p=this._widgets.get(u||yi))||void 0===p?void 0:p.getResponse())||""}execute(u){var p=this;return(0,a.Z)(function*(){var S;return null===(S=p._widgets.get(u||yi))||void 0===S||S.execute(),""})()}}class Mh{constructor(u,p,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof u?document.getElementById(u):u;dt(x,"argument-error",{appName:p}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vs(v){const u=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<v;S++)u.push(p.charAt(Math.floor(Math.random()*p.length)));return u.join("")}(50);const{callback:u,"expired-callback":p}=this.params;if(u)try{u(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Lr=Wa("rcb"),Gu=new rt(3e4,6e4);class Ql{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ao().grecaptcha}load(u,p=""){return dt(function wl(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(p),u,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Ao().grecaptcha):new Promise((S,x)=>{const K=Ao().setTimeout(()=>{x(kn(u,"network-request-failed"))},Gu.get());Ao()[Lr]=()=>{Ao().clearTimeout(K),delete Ao()[Lr];const ct=Ao().grecaptcha;if(!ct)return void x(kn(u,"internal-error"));const jt=ct.render;ct.render=(gn,Fn)=>{const Xt=jt(gn,Fn);return this.counter++,Xt},this.hostLanguage=p,S(ct)},bp(`https://www.google.com/recaptcha/api.js??${Pr({onload:Lr,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(K),x(kn(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){return!!Ao().grecaptcha&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ni{load(u){return(0,a.Z)(function*(){return new mc(u)})()}clearedOneInstance(){}}const Yl="recaptcha",xo={theme:"light",type:"image"};class du{constructor(u,p=Object.assign({},xo),S){this.parameters=p,this.type=Yl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(S),this.isInvisible="invisible"===this.parameters.size,dt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof u?document.getElementById(u):u;dt(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ni:new Ql,this.validateStartingState()}verify(){var u=this;return(0,a.Z)(function*(){u.assertNotDestroyed();const p=yield u.render(),S=u.getAssertedRecaptcha();return S.getResponse(p)||new Promise(K=>{const be=ct=>{!ct||(u.tokenChangeListeners.delete(be),K(ct))};u.tokenChangeListeners.add(be),u.isInvisible&&S.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){dt(!this.parameters.sitekey,this.auth,"argument-error"),dt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),dt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return p=>{if(this.tokenChangeListeners.forEach(S=>S(p)),"function"==typeof u)u(p);else if("string"==typeof u){const S=Ao()[u];"function"==typeof S&&S(p)}}}assertNotDestroyed(){dt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,a.Z)(function*(){if(yield u.init(),!u.widgetId){let p=u.container;if(!u.isInvisible){const S=document.createElement("div");p.appendChild(S),p=S}u.widgetId=u.getAssertedRecaptcha().render(p,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,a.Z)(function*(){dt(Ii()&&!R(),u.auth,"internal-error"),yield function ch(){let v=null;return new Promise(u=>{"complete"!==document.readyState?(v=()=>u(),window.addEventListener("load",v)):u()}).catch(u=>{throw v&&window.removeEventListener("load",v),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const p=yield function ta(v){return xa.apply(this,arguments)}(u.auth);dt(p,u.auth,"internal-error"),u.parameters.sitekey=p})()}getAssertedRecaptcha(){return dt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ps{constructor(u,p){this.verificationId=u,this.onConfirmation=p}confirm(u){const p=rs._fromVerification(this.verificationId,u);return this.onConfirmation(p)}}function Ho(){return(Ho=(0,a.Z)(function*(v,u,p){const S=Kn(v),x=yield ac(S,u,nr(p));return new Ps(x,K=>Ca(S,K))})).apply(this,arguments)}function yc(){return(yc=(0,a.Z)(function*(v,u,p){const S=nr(v);yield tc(!1,S,"phone");const x=yield ac(S.auth,u,nr(p));return new Ps(x,K=>da(S,K))})).apply(this,arguments)}function za(){return(za=(0,a.Z)(function*(v,u,p){const S=nr(v),x=yield ac(S.auth,u,nr(p));return new Ps(x,K=>nc(S,K))})).apply(this,arguments)}function ac(v,u,p){return El.apply(this,arguments)}function El(){return(El=(0,a.Z)(function*(v,u,p){var S;const x=yield p.verify();try{let K;if(dt("string"==typeof x,v,"argument-error"),dt(p.type===Yl,v,"argument-error"),K="string"==typeof u?{phoneNumber:u}:u,"session"in K){const be=K.session;if("phoneNumber"in K)return dt("enroll"===be.type,v,"internal-error"),(yield Va(v,{idToken:be.credential,phoneEnrollmentInfo:{phoneNumber:K.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{dt("signin"===be.type,v,"internal-error");const ct=(null===(S=K.multiFactorHint)||void 0===S?void 0:S.uid)||K.multiFactorUid;return dt(ct,v,"missing-multi-factor-info"),(yield qu(v,{mfaPendingCredential:be.credential,mfaEnrollmentId:ct,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:be}=yield Q(v,{phoneNumber:K.phoneNumber,recaptchaToken:x});return be}}finally{p._reset()}})).apply(this,arguments)}function fu(){return(fu=(0,a.Z)(function*(v,u){yield la(nr(v),u)})).apply(this,arguments)}let Yc=(()=>{class v{constructor(p){this.providerId=v.PROVIDER_ID,this.auth=Kn(p)}verifyPhoneNumber(p,S){return ac(this.auth,p,nr(S))}static credential(p,S){return rs._fromVerification(p,S)}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:S,temporaryProof:x}=p;return S&&x?rs._fromTokenResponse(S,x):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function na(v,u){return u?kr(u):(dt(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class hr extends Sr{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return fi(u,this._buildIdpRequest())}_linkToIdToken(u,p){return fi(u,this._buildIdpRequest(p))}_getReauthenticationResolver(u){return fi(u,this._buildIdpRequest())}_buildIdpRequest(u){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(p.idToken=u),p}}function Jl(v){return Yo(v.auth,new hr(v),v.bypassAuthState)}function pu(v){const{auth:u,user:p}=v;return dt(p,u,"internal-error"),Di(p,new hr(v),v.bypassAuthState)}function cc(v){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,a.Z)(function*(v){const{auth:u,user:p}=v;return dt(p,u,"internal-error"),la(p,new hr(v),v.bypassAuthState)})).apply(this,arguments)}class gu{constructor(u,p,S,x,K=!1){this.auth=u,this.resolver=S,this.user=x,this.bypassAuthState=K,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var u=this;return new Promise(function(){var p=(0,a.Z)(function*(S,x){u.pendingPromise={resolve:S,reject:x};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(K){u.reject(K)}});return function(S,x){return p.apply(this,arguments)}}())}onAuthEvent(u){var p=this;return(0,a.Z)(function*(){const{urlResponse:S,sessionId:x,postBody:K,tenantId:be,error:ct,type:jt}=u;if(ct)return void p.reject(ct);const gn={auth:p.auth,requestUri:S,sessionId:x,tenantId:be||void 0,postBody:K||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(jt)(gn))}catch(Fn){p.reject(Fn)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Jl;case"linkViaPopup":case"linkViaRedirect":return cc;case"reauthViaPopup":case"reauthViaRedirect":return pu;default:rn(this.auth,"internal-error")}}resolve(u){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ph=new rt(2e3,1e4);function vc(){return(vc=(0,a.Z)(function*(v,u,p){const S=Kn(v);Er(v,u,Sa);const x=na(S,p);return new Il(S,"signInViaPopup",u,x).executeNotNull()})).apply(this,arguments)}function us(){return(us=(0,a.Z)(function*(v,u,p){const S=nr(v);Er(S.auth,u,Sa);const x=na(S.auth,p);return new Il(S.auth,"reauthViaPopup",u,x,S).executeNotNull()})).apply(this,arguments)}function Yu(){return(Yu=(0,a.Z)(function*(v,u,p){const S=nr(v);Er(S.auth,u,Sa);const x=na(S.auth,p);return new Il(S.auth,"linkViaPopup",u,x,S).executeNotNull()})).apply(this,arguments)}let Il=(()=>{class v extends gu{constructor(p,S,x,K,be){super(p,S,K,be),this.provider=x,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var p=this;return(0,a.Z)(function*(){const S=yield p.execute();return dt(S,p.auth,"internal-error"),S})()}onExecution(){var p=this;return(0,a.Z)(function*(){On(1===p.filter.length,"Popup operations only handle one event");const S=$a();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],S),p.authWindow.associatedEvent=S,p.resolver._originValidation(p.auth).catch(x=>{p.reject(x)}),p.resolver._isIframeWebStorageSupported(p.auth,x=>{x||p.reject(kn(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const p=()=>{var S,x;this.pollId=(null===(x=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,Ph.get())};p()}}return v.currentPopupAction=null,v})();const ma=new Map;class ra extends gu{constructor(u,p,S=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,S),this.eventId=null}execute(){var u=()=>super.execute,p=this;return(0,a.Z)(function*(){let S=ma.get(p.auth._key());if(!S){try{const K=(yield function lh(v,u){return ls.apply(this,arguments)}(p.resolver,p.auth))?yield u().call(p):null;S=()=>Promise.resolve(K)}catch(x){S=()=>Promise.reject(x)}ma.set(p.auth._key(),S)}return p.bypassAuthState||ma.set(p.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(u){var p=()=>super.onAuthEvent,S=this;return(0,a.Z)(function*(){if("signInViaRedirect"===u.type)return p().call(S,u);if("unknown"!==u.type){if(u.eventId){const x=yield S.auth._redirectUserForId(u.eventId);if(x)return S.user=x,p().call(S,u);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function ls(){return(ls=(0,a.Z)(function*(v,u){const p=Xu(u),S=Ju(v);if(!(yield S._isAvailable()))return!1;const x="true"===(yield S._get(p));return yield S._remove(p),x})).apply(this,arguments)}function mu(v,u){return uc.apply(this,arguments)}function uc(){return(uc=(0,a.Z)(function*(v,u){return Ju(v)._set(Xu(u),"true")})).apply(this,arguments)}function Ju(v){return kr(v._redirectPersistence)}function Xu(v){return Js("pendingRedirect",v.config.apiKey,v.name)}function Bd(){return(Bd=(0,a.Z)(function*(v,u,p){const S=Kn(v);Er(v,u,Sa);const x=na(S,p);return yield mu(x,S),x._openRedirect(S,u,"signInViaRedirect")})).apply(this,arguments)}function ds(){return(ds=(0,a.Z)(function*(v,u,p){const S=nr(v);Er(S.auth,u,Sa);const x=na(S.auth,p);yield mu(x,S.auth);const K=yield Hd(S);return x._openRedirect(S.auth,u,"reauthViaRedirect",K)})).apply(this,arguments)}function hh(){return(hh=(0,a.Z)(function*(v,u,p){const S=nr(v);Er(S.auth,u,Sa);const x=na(S.auth,p);yield tc(!1,S,u.providerId),yield mu(x,S.auth);const K=yield Hd(S);return x._openRedirect(S.auth,u,"linkViaRedirect",K)})).apply(this,arguments)}function ed(){return(ed=(0,a.Z)(function*(v,u){return yield Kn(v)._initializationPromise,Vd(v,u,!1)})).apply(this,arguments)}function Vd(v,u){return td.apply(this,arguments)}function td(){return(td=(0,a.Z)(function*(v,u,p=!1){const S=Kn(v),x=na(S,u),be=yield new ra(S,x,p).execute();return be&&!p&&(delete be.user._redirectEventId,yield S._persistUserIfCurrent(be.user),yield S._setRedirectUser(null,u)),be})).apply(this,arguments)}function Hd(v){return _c.apply(this,arguments)}function _c(){return(_c=(0,a.Z)(function*(v){const u=$a(`${v.uid}:::`);return v._redirectEventId=u,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),u})).apply(this,arguments)}class $d{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let p=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(u,S)&&(p=!0,this.sendToConsumer(u,S),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function Xc(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zd(v);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=u,p=!0)),p}sendToConsumer(u,p){var S;if(u.error&&!zd(u)){const x=(null===(S=u.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";p.onError(kn(this.auth,x))}else p.onAuthEvent(u)}isEventForConsumer(u,p){const S=null===p.eventId||!!u.eventId&&u.eventId===p.eventId;return p.filter.includes(u.type)&&S}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wd(u))}saveEventToCache(u){this.cachedEventUids.add(Wd(u)),this.lastProcessedEventTime=Date.now()}}function Wd(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(u=>u).join("-")}function zd({type:v,error:u}){return"unknown"===v&&"auth/no-auth-event"===(null==u?void 0:u.code)}function nd(v){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,a.Z)(function*(v,u={}){return Wn(v,"GET","/v1/projects",u)})).apply(this,arguments)}const $o=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Du=/^https?/;function xu(){return(xu=(0,a.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:u}=yield nd(v);for(const p of u)try{if(Wo(p))return}catch(S){}rn(v,"unauthorized-domain")})).apply(this,arguments)}function Wo(v){const u=Hi(),{protocol:p,hostname:S}=new URL(u);if(v.startsWith("chrome-extension://")){const be=new URL(v);return""===be.hostname&&""===S?"chrome-extension:"===p&&v.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===p&&be.hostname===S}if(!Du.test(p))return!1;if($o.test(v))return S===v;const x=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(S)}const Za=new rt(3e4,6e4);function Ra(){const v=Ao().___jsl;if(null==v?void 0:v.H)for(const u of Object.keys(v.H))if(v.H[u].r=v.H[u].r||[],v.H[u].L=v.H[u].L||[],v.H[u].r=[...v.H[u].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let Bi=null;function Zd(v){return Bi=Bi||function kh(v){return new Promise((u,p)=>{var S,x,K;function be(){Ra(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{Ra(),p(kn(v,"network-request-failed"))},timeout:Za.get()})}if(null===(x=null===(S=Ao().gapi)||void 0===S?void 0:S.iframes)||void 0===x?void 0:x.Iframe)u(gapi.iframes.getContext());else{if(!(null===(K=Ao().gapi)||void 0===K?void 0:K.load)){const ct=Wa("iframefcb");return Ao()[ct]=()=>{gapi.load?be():p(kn(v,"network-request-failed"))},bp(`https://apis.google.com/js/api.js?onload=${ct}`).catch(jt=>p(jt))}be()}}).catch(u=>{throw Bi=null,u})}(v),Bi}const rl=new rt(5e3,15e3),Fh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qd(v){const u=v.config;dt(u.authDomain,v,"auth-domain-config-required");const p=u.emulator?Lt(u,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,S={apiKey:u.apiKey,appName:v.name,v:_r.SDK_VERSION},x=fh.get(v.config.apiHost);x&&(S.eid=x);const K=v._getFrameworks();return K.length&&(S.fw=K.join(",")),`${p}?${Pr(S).slice(1)}`}function Ou(){return Ou=(0,a.Z)(function*(v){const u=yield Zd(v),p=Ao().gapi;return dt(p,v,"internal-error"),u.open({where:document.body,url:qd(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fh,dontclear:!0},S=>new Promise(function(){var x=(0,a.Z)(function*(K,be){yield S.restyle({setHideOnLeave:!1});const ct=kn(v,"network-request-failed"),jt=Ao().setTimeout(()=>{be(ct)},rl.get());function gn(){Ao().clearTimeout(jt),K(S)}S.ping(gn).then(gn,()=>{be(ct)})});return function(K,be){return x.apply(this,arguments)}}()))}),Ou.apply(this,arguments)}const bf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Kd{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(u){}}}function Ma(v,u,p,S,x,K){dt(v.config.authDomain,v,"auth-domain-config-required"),dt(v.config.apiKey,v,"invalid-api-key");const be={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:S,v:_r.SDK_VERSION,eventId:x};if(u instanceof Sa){u.setDefaultLanguage(v.languageCode),be.providerId=u.providerId||"",function $n(v){for(const u in v)if(Object.prototype.hasOwnProperty.call(v,u))return!1;return!0}(u.getCustomParameters())||(be.customParameters=JSON.stringify(u.getCustomParameters()));for(const[jt,gn]of Object.entries(K||{}))be[jt]=gn}if(u instanceof ys){const jt=u.getScopes().filter(gn=>""!==gn);jt.length>0&&(be.scopes=jt.join(","))}v.tenantId&&(be.tid=v.tenantId);const ct=be;for(const jt of Object.keys(ct))void 0===ct[jt]&&delete ct[jt];return`${function rd({config:v}){return v.emulator?Lt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${Pr(ct).slice(1)}`}const ph="webStorageSupport";class Dl extends class Mu{constructor(u){this.factorId=u}_process(u,p,S){switch(p.type){case"enroll":return this._finalizeEnroll(u,p.credential,S);case"signin":return this._finalizeSignIn(u,p.credential);default:return ir("unexpected MultiFactorSessionType")}}}{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Dl(u)}_finalizeEnroll(u,p,S){return function Vo(v,u){return Wn(v,"POST","/v2/accounts/mfaEnrollment:finalize",Un(v,u))}(u,{idToken:p,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,p){return function bl(v,u){return Wn(v,"POST","/v2/accounts/mfaSignIn:finalize",Un(v,u))}(u,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Uh=(()=>{class v{constructor(){}static assertion(p){return Dl._fromCredential(p)}}return v.FACTOR_ID="phone",v})();var id="@firebase/auth";class wc{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var p=this;return(0,a.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const p=this.auth.onIdTokenChanged(S=>{var x;u((null===(x=S)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(u,p),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const p=this.internalListeners.get(u);!p||(this.internalListeners.delete(u),p(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xl(){return window}function Nu(){return(Nu=(0,a.Z)(function*(v,u,p){var S;const{BuildInfo:x}=xl();On(u.sessionId,"AuthEvent did not contain a session ID");const K=yield ho(u.sessionId),be={};return W()?be.ibi=x.packageName:bi()?be.apn=x.packageName:rn(v,"operation-not-supported-in-this-environment"),x.displayName&&(be.appDisplayName=x.displayName),be.sessionId=K,Ma(v,p,u.type,void 0,null!==(S=u.eventId)&&void 0!==S?S:void 0,be)})).apply(this,arguments)}function il(){return(il=(0,a.Z)(function*(v){const{BuildInfo:u}=xl(),p={};W()?p.iosBundleId=u.packageName:bi()?p.androidPackageName=u.packageName:rn(v,"operation-not-supported-in-this-environment"),yield nd(v,p)})).apply(this,arguments)}function Yd(){return(Yd=(0,a.Z)(function*(v,u,p){const{cordova:S}=xl();let x=()=>{};try{yield new Promise((K,be)=>{let ct=null;function jt(){var Xt;K();const Mr=null===(Xt=S.plugins.browsertab)||void 0===Xt?void 0:Xt.close;"function"==typeof Mr&&Mr(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function gn(){ct||(ct=window.setTimeout(()=>{be(kn(v,"redirect-cancelled-by-user"))},2e3))}function Fn(){"visible"===(null==document?void 0:document.visibilityState)&&gn()}u.addPassiveListener(jt),document.addEventListener("resume",gn,!1),bi()&&document.addEventListener("visibilitychange",Fn,!1),x=()=>{u.removePassiveListener(jt),document.removeEventListener("resume",gn,!1),document.removeEventListener("visibilitychange",Fn,!1),ct&&window.clearTimeout(ct)}})}finally{x()}})).apply(this,arguments)}function ho(v){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,a.Z)(function*(v){const u=Pa(v),p=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(p)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Pa(v){if(On(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const u=new ArrayBuffer(v.length),p=new Uint8Array(u);for(let S=0;S<v.length;S++)p[S]=v.charCodeAt(S);return p}!function sd(v){(0,_r._registerComponent)(new Ws("auth",(u,{options:p})=>{const S=u.getProvider("app").getImmediate(),{apiKey:x,authDomain:K}=S.options;return(be=>{dt(x&&!x.includes(":"),"invalid-api-key",{appName:be.name}),dt(!(null==K?void 0:K.includes(":")),"argument-error",{appName:be.name});const ct={apiKey:x,authDomain:K,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:di(v)},jt=new Nr(be,ct);return function ro(v,u){const p=(null==u?void 0:u.persistence)||[],S=(Array.isArray(p)?p:[p]).map(kr);(null==u?void 0:u.errorMap)&&v._updateErrorMap(u.errorMap),v._initializeWithPersistence(S,null==u?void 0:u.popupRedirectResolver)}(jt,p),jt})(S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,p,S)=>{u.getProvider("auth-internal").initialize()})),(0,_r._registerComponent)(new Ws("auth-internal",u=>{const p=Kn(u.getProvider("auth").getImmediate());return new wc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_r.registerVersion)(id,"0.19.9",function Sf(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,_r.registerVersion)(id,"0.19.9","esm2017")}("Browser");class gh extends $d{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(u)),super.onEvent(u)}initialized(){var u=this;return(0,a.Z)(function*(){yield u.initPromise})()}}function ya(v){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,a.Z)(function*(v){const u=yield Ml()._get(Zi(v));return u&&(yield Ml()._remove(Zi(v))),u})).apply(this,arguments)}function Af(){const v=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const S=Math.floor(Math.random()*u.length);v.push(u.charAt(S))}return v.join("")}function Ml(){return kr(Ha)}function Zi(v){return Js("authEvent",v.config.apiKey,v.name)}function Mc(v){if(!(null==v?void 0:v.includes("?")))return{};const[u,...p]=v.split("?");return Gr(p.join("?"))}function Hh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:kn("no-auth-event")}}function tu(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function al(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(v){return!1}}function Gh(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ki(){return"object"==typeof indexedDB}class nu extends Error{constructor(u,p,S){super(p),this.code=u,this.customData=S,this.name="FirebaseError",Object.setPrototypeOf(this,nu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Df.prototype.create)}}class Df{constructor(u,p,S){this.service=u,this.serviceName=p,this.errors=S}create(u,...p){const S=p[0]||{},x=`${this.service}/${u}`,K=this.errors[u],be=K?function ci(v,u){return v.replace(bs,(p,S)=>{const x=u[S];return null!=x?String(x):`<${S}?>`})}(K,S):"Error";return new nu(x,`${this.serviceName}: ${be} (${x}).`,S)}}const bs=/\{\$([^}]+)}/g;class bu{constructor(u,p,S){this.name=u,this.instanceFactory=p,this.type=S,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(u){return this.instantiationMode=u,this}setMultipleInstances(u){return this.multipleInstances=u,this}setServiceProps(u){return this.serviceProps=u,this}setInstanceCreatedCallback(u){return this.onInstanceCreated=u,this}}function vd(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function wu(v=tu()){return!("file:"!==vd()&&"ionic:"!==vd()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function xf(v=tu()){return function Zf(){return function $f(){const v=tu();return v.indexOf("MSIE ")>=0||v.indexOf("Trident/")>=0}()&&11===(null==document?void 0:document.documentMode)}()||function Ih(v=tu()){return/Edge\/\d+/.test(v)}(v)}function Na(){try{const v=self.localStorage,u=$a();if(v)return v.setItem(u,"1"),v.removeItem(u),!xf()||ki()}catch(v){return Lc()&&ki()}return!1}function Lc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Uc(){return(function Fu(){return"http:"===vd()||"https:"===vd()}()||function fd(){const v="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof v&&void 0!==v.id}()||wu())&&!function ef(){return Gh()||al()}()&&Na()&&!Lc()}function ul(){return wu()&&"undefined"!=typeof document}function _d(){return(_d=(0,a.Z)(function*(){return!!ul()&&new Promise(v=>{const u=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),v(!0)})})})).apply(this,arguments)}const ka={LOCAL:"local",NONE:"none",SESSION:"session"},d=dt,_="persistence";function b(v){return L.apply(this,arguments)}function L(){return(L=(0,a.Z)(function*(v){yield v._initializationPromise;const u=_e(),p=Js(_,v.config.apiKey,v.name);u&&u.setItem(p,v._getPersistence())})).apply(this,arguments)}function _e(){var v;try{return(null===(v=function ll(){return"undefined"!=typeof window?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch(u){return null}}const Me=dt;class Xe{constructor(){this.browserResolver=kr(class If{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lu,this._completeRedirectFn=Vd}_openPopup(u,p,S,x){var K=this;return(0,a.Z)(function*(){var be;On(null===(be=K.eventManagers[u._key()])||void 0===be?void 0:be.manager,"_initialize() not called before _openPopup()");const ct=Ma(u,p,S,Hi(),x);return function yu(v,u,p,S=500,x=600){const K=Math.max((window.screen.availHeight-x)/2,0).toString(),be=Math.max((window.screen.availWidth-S)/2,0).toString();let ct="";const jt=Object.assign(Object.assign({},bf),{width:S.toString(),height:x.toString(),top:K,left:be}),gn=ue().toLowerCase();p&&(ct=ms(gn)?"_blank":p),To(gn)&&(u=u||"http://localhost",jt.scrollbars="yes");const Fn=Object.entries(jt).reduce((Mr,[xi,xs])=>`${Mr}${xi}=${xs},`,"");if(function nt(v=ue()){var u;return W(v)&&!!(null===(u=window.navigator)||void 0===u?void 0:u.standalone)}(gn)&&"_self"!==ct)return function Qi(v,u){const p=document.createElement("a");p.href=v,p.target=u;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(S)}(u||"",ct),new Kd(null);const Xt=window.open(u||"",ct,Fn);dt(Xt,v,"popup-blocked");try{Xt.focus()}catch(Mr){}return new Kd(Xt)}(u,ct,$a())})()}_openRedirect(u,p,S,x){var K=this;return(0,a.Z)(function*(){return yield K._originValidation(u),function jd(v){Ao().location.href=v}(Ma(u,p,S,Hi(),x)),new Promise(()=>{})})()}_initialize(u){const p=u._key();if(this.eventManagers[p]){const{manager:x,promise:K}=this.eventManagers[p];return x?Promise.resolve(x):(On(K,"If manager is not set, promise should be"),K)}const S=this.initAndGetManager(u);return this.eventManagers[p]={promise:S},S.catch(()=>{delete this.eventManagers[p]}),S}initAndGetManager(u){var p=this;return(0,a.Z)(function*(){const S=yield function Gd(v){return Ou.apply(this,arguments)}(u),x=new $d(u);return S.register("authEvent",K=>(dt(null==K?void 0:K.authEvent,u,"invalid-auth-event"),{status:x.onEvent(K.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[u._key()]={manager:x},p.iframes[u._key()]=S,x})()}_isIframeWebStorageSupported(u,p){this.iframes[u._key()].send(ph,{type:ph},x=>{var K;const be=null===(K=null==x?void 0:x[0])||void 0===K?void 0:K[ph];void 0!==be&&p(!!be),rn(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const p=u._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Cl(v){return xu.apply(this,arguments)}(u)),this.originValidationPromises[p]}get _shouldInitProactively(){return hn()||As()||W()}}),this.cordovaResolver=kr(class vu{constructor(){this._redirectPersistence=lu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vd}_initialize(u){var p=this;return(0,a.Z)(function*(){const S=u._key();let x=p.eventManagers.get(S);return x||(x=new gh(u),p.eventManagers.set(S,x),p.attachCallbackListeners(u,x)),x})()}_openPopup(u){rn(u,"operation-not-supported-in-this-environment")}_openRedirect(u,p,S,x){var K=this;return(0,a.Z)(function*(){!function od(v){var u,p,S,x,K,be,ct,jt,gn,Fn;const Xt=xl();dt("function"==typeof(null===(u=null==Xt?void 0:Xt.universalLinks)||void 0===u?void 0:u.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),dt(void 0!==(null===(p=null==Xt?void 0:Xt.BuildInfo)||void 0===p?void 0:p.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),dt("function"==typeof(null===(K=null===(x=null===(S=null==Xt?void 0:Xt.cordova)||void 0===S?void 0:S.plugins)||void 0===x?void 0:x.browsertab)||void 0===K?void 0:K.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),dt("function"==typeof(null===(jt=null===(ct=null===(be=null==Xt?void 0:Xt.cordova)||void 0===be?void 0:be.plugins)||void 0===ct?void 0:ct.browsertab)||void 0===jt?void 0:jt.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),dt("function"==typeof(null===(Fn=null===(gn=null==Xt?void 0:Xt.cordova)||void 0===gn?void 0:gn.InAppBrowser)||void 0===Fn?void 0:Fn.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const be=yield K._initialize(u);yield be.initialized(),be.resetRedirect(),function Xl(){ma.clear()}(),yield K._originValidation(u);const ct=function Rl(v,u,p=null){return{type:u,eventId:p,urlResponse:null,sessionId:Af(),postBody:null,tenantId:v.tenantId,error:kn(v,"no-auth-event")}}(u,S,x);yield function Bh(v,u){return Ml()._set(Zi(v),u)}(u,ct);const jt=yield function Qd(v,u,p){return Nu.apply(this,arguments)}(u,ct,p),gn=yield function to(v){const{cordova:u}=xl();return new Promise(p=>{u.plugins.browsertab.isAvailable(S=>{let x=null;S?u.plugins.browsertab.openUrl(v):x=u.InAppBrowser.open(v,function ve(v=ue()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),p(x)})})}(jt);return function Li(v,u,p){return Yd.apply(this,arguments)}(u,be,gn)})()}_isIframeWebStorageSupported(u,p){throw new Error("Method not implemented.")}_originValidation(u){const p=u._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function jh(v){return il.apply(this,arguments)}(u)),this.originValidationPromises[p]}attachCallbackListeners(u,p){const{universalLinks:S,handleOpenURL:x,BuildInfo:K}=xl(),be=setTimeout((0,a.Z)(function*(){yield ya(u),p.onEvent(Hh())}),500),ct=function(){var Fn=(0,a.Z)(function*(Xt){clearTimeout(be);const Mr=yield ya(u);let xi=null;Mr&&(null==Xt?void 0:Xt.url)&&(xi=function Vh(v,u){var p,S;const x=function ad(v){const u=Mc(v),p=u.link?decodeURIComponent(u.link):void 0,S=Mc(p).link,x=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Mc(x).link||x||S||p||v}(u);if(x.includes("/__/auth/callback")){const K=Mc(x),be=K.firebaseError?function Cf(v){try{return JSON.parse(v)}catch(u){return null}}(decodeURIComponent(K.firebaseError)):null,ct=null===(S=null===(p=null==be?void 0:be.code)||void 0===p?void 0:p.split("auth/"))||void 0===S?void 0:S[1],jt=ct?kn(ct):null;return jt?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:jt,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:x,postBody:null}}return null}(Mr,Xt.url)),p.onEvent(xi||Hh())});return function(Mr){return Fn.apply(this,arguments)}}();void 0!==S&&"function"==typeof S.subscribe&&S.subscribe(null,ct);const jt=x,gn=`${K.packageName.toLowerCase()}://`;xl().handleOpenURL=function(){var Fn=(0,a.Z)(function*(Xt){if(Xt.toLowerCase().startsWith(gn)&&ct({url:Xt}),"function"==typeof jt)try{jt(Xt)}catch(Mr){console.error(Mr)}});return function(Xt){return Fn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=lu,this._completeRedirectFn=Vd}_initialize(u){var p=this;return(0,a.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,p,S,x){var K=this;return(0,a.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._openPopup(u,p,S,x)})()}_openRedirect(u,p,S,x){var K=this;return(0,a.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._openRedirect(u,p,S,x)})()}_isIframeWebStorageSupported(u,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,p)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return ul()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Me(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,a.Z)(function*(){if(u.underlyingResolver)return;const p=yield function Lu(){return _d.apply(this,arguments)}();u.underlyingResolver=p?u.cordovaResolver:u.browserResolver})()}}function Qe(v){return v.unwrap()}function ft(v){return lt(v)}function lt(v){const{_tokenResponse:u}=v instanceof nu?v.customData:v;if(!u)return null;if(!(v instanceof nu)&&"temporaryProof"in u&&"phoneNumber"in u)return Yc.credentialFromResult(v);const p=u.providerId;if(!p||"password"===p)return null;let S;switch(p){case"google.com":S=Iu;break;case"facebook.com":S=is;break;case"github.com":S=fc;break;case"twitter.com":S=Tc;break;default:const{oauthIdToken:x,oauthAccessToken:K,oauthTokenSecret:be,pendingToken:ct,nonce:jt}=u;return K||be||x||ct?ct?p.startsWith("saml.")?Hc._create(p,ct):oe._fromParams({providerId:p,signInMethod:p,pendingToken:ct,idToken:x,accessToken:K}):new Zs(p).credential({idToken:x,accessToken:K,rawNonce:jt}):null}return v instanceof nu?S.credentialFromError(v):S.credentialFromResult(v)}function ht(v,u){return u.catch(p=>{throw p instanceof nu&&function ut(v,u){var p;const S=null===(p=u.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===u.code)u.resolver=new Pt(v,function Gl(v,u){var p;const S=nr(v),x=u;return dt(u.customData.operationType,S,"argument-error"),dt(null===(p=x.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,S,"argument-error"),Gc._fromError(S,x)}(v,u));else if(S){const x=lt(u),K=u;x&&(K.credential=x,K.tenantId=S.tenantId||void 0,K.email=S.email||void 0,K.phoneNumber=S.phoneNumber||void 0)}}(v,p),p}).then(p=>{const x=p.user;return{operationType:p.operationType,credential:ft(p),additionalUserInfo:Fd(p),user:en.getOrCreate(x)}})}function et(v,u){return wt.apply(this,arguments)}function wt(){return(wt=(0,a.Z)(function*(v,u){const p=yield u;return{verificationId:p.verificationId,confirm:S=>ht(v,p.confirm(S))}})).apply(this,arguments)}class Pt{constructor(u,p){this.resolver=p,this.auth=function gt(v){return v.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return ht(Qe(this.auth),this.resolver.resolveSignIn(u))}}class en{constructor(u){this._delegate=u,this.multiFactor=function Ud(v){const u=nr(v);return uu.has(u)||uu.set(u,Kc._fromUser(u)),uu.get(u)}(u)}static getOrCreate(u){return en.USER_MAP.has(u)||en.USER_MAP.set(u,new en(u)),en.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var p=this;return(0,a.Z)(function*(){return ht(p.auth,da(p._delegate,u))})()}linkWithPhoneNumber(u,p){var S=this;return(0,a.Z)(function*(){return et(S.auth,function eo(v,u,p){return yc.apply(this,arguments)}(S._delegate,u,p))})()}linkWithPopup(u){var p=this;return(0,a.Z)(function*(){return ht(p.auth,function Qu(v,u,p){return Yu.apply(this,arguments)}(p._delegate,u,Xe))})()}linkWithRedirect(u){var p=this;return(0,a.Z)(function*(){return yield b(Kn(p.auth)),function Nh(v,u,p){return function Al(v,u,p){return hh.apply(this,arguments)}(v,u,p)}(p._delegate,u,Xe)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var p=this;return(0,a.Z)(function*(){return ht(p.auth,nc(p._delegate,u))})()}reauthenticateWithPhoneNumber(u,p){return et(this.auth,function uh(v,u,p){return za.apply(this,arguments)}(this._delegate,u,p))}reauthenticateWithPopup(u){return ht(this.auth,function Cu(v,u,p){return us.apply(this,arguments)}(this._delegate,u,Xe))}reauthenticateWithRedirect(u){var p=this;return(0,a.Z)(function*(){return yield b(Kn(p.auth)),function Sl(v,u,p){return function tl(v,u,p){return ds.apply(this,arguments)}(v,u,p)}(p._delegate,u,Xe)})()}sendEmailVerification(u){return function fa(v,u){return Oc.apply(this,arguments)}(this._delegate,u)}unlink(u){var p=this;return(0,a.Z)(function*(){return yield function Dc(v,u){return Po.apply(this,arguments)}(p._delegate,u),p})()}updateEmail(u){return function Nd(v,u){return ah(nr(v),u,null)}(this._delegate,u)}updatePassword(u){return function yl(v,u){return ah(nr(v),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function Ku(v,u){return fu.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Bs(v,u){return Pd.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,p){return function Gs(v,u,p){return pa.apply(this,arguments)}(this._delegate,u,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}en.USER_MAP=new WeakMap;const sn=dt;let Zt=(()=>{class v{constructor(p,S){if(this.app=p,S.isInitialized())return this._delegate=S.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=p.options;sn(x,"invalid-api-key",{appName:p.name}),sn(x,"invalid-api-key",{appName:p.name});const K="undefined"!=typeof window?Xe:void 0;this._delegate=S.initialize({options:{persistence:fn(x,p.name),popupRedirectResolver:K}}),this._delegate._updateErrorMap(ii),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?en.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,S){!function Pi(v,u,p){const S=Kn(v);dt(S._canInitEmulator,S,"emulator-config-failed"),dt(/^https?:\/\//.test(u),S,"invalid-emulator-scheme");const x=!!(null==p?void 0:p.disableWarnings),K=wi(u),{host:be,port:ct}=function Fi(v){const u=wi(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(u.length));if(!p)return{host:"",port:null};const S=p[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(S);if(x){const K=x[1];return{host:K,port:oo(S.substr(K.length+1))}}{const[K,be]=S.split(":");return{host:K,port:oo(be)}}}(u);S.config.emulator={url:`${K}//${be}${null===ct?"":`:${ct}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:be,port:ct,protocol:K.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function ao(){function v(){const u=document.createElement("p"),p=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,p,S)}applyActionCode(p){return function P(v,u){return M.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return $(this._delegate,p)}confirmPasswordReset(p,S){return function au(v,u,p){return U.apply(this,arguments)}(this._delegate,p,S)}createUserWithEmailAndPassword(p,S){var x=this;return(0,a.Z)(function*(){return ht(x._delegate,function ot(v,u,p){return nn.apply(this,arguments)}(x._delegate,p,S))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Ba(v,u){return No.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function zi(v,u){const p=wo.parseLink(u);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,a.Z)(function*(){sn(Uc(),p._delegate,"operation-not-supported-in-this-environment");const S=yield function es(v,u){return ed.apply(this,arguments)}(p._delegate,Xe);return S?ht(p._delegate,Promise.resolve(S)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function $h(v,u){Kn(v)._logFramework(u)}(this._delegate,p)}onAuthStateChanged(p,S,x){const{next:K,error:be,complete:ct}=un(p,S,x);return this._delegate.onAuthStateChanged(K,be,ct)}onIdTokenChanged(p,S,x){const{next:K,error:be,complete:ct}=un(p,S,x);return this._delegate.onIdTokenChanged(K,be,ct)}sendSignInLinkToEmail(p,S){return function pi(v,u,p){return br.apply(this,arguments)}(this._delegate,p,S)}sendPasswordResetEmail(p,S){return function Bu(v,u,p){return ja.apply(this,arguments)}(this._delegate,p,S||void 0)}setPersistence(p){var S=this;return(0,a.Z)(function*(){let x;switch(function h(v,u){d(Object.values(ka).includes(u),v,"invalid-persistence-type"),Gh()?d(u!==ka.SESSION,v,"unsupported-persistence-type"):al()?d(u===ka.NONE,v,"unsupported-persistence-type"):Lc()?d(u===ka.NONE||u===ka.LOCAL&&ki(),v,"unsupported-persistence-type"):d(u===ka.NONE||Na(),v,"unsupported-persistence-type")}(S._delegate,p),p){case ka.SESSION:x=lu;break;case ka.LOCAL:x=(yield kr(oc)._isAvailable())?oc:Ha;break;case ka.NONE:x=yo;break;default:return rn("argument-error",{appName:S._delegate.name})}return S._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return ht(this._delegate,function ju(v){return qs.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return ht(this._delegate,Ca(this._delegate,p))}signInWithCustomToken(p){return ht(this._delegate,function Wl(v,u){return xc.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,S){return ht(this._delegate,function sr(v,u,p){return Ca(nr(v),Vc.credential(u,p))}(this._delegate,p,S))}signInWithEmailLink(p,S){return ht(this._delegate,function Ei(v,u,p){return So.apply(this,arguments)}(this._delegate,p,S))}signInWithPhoneNumber(p,S){return et(this._delegate,function hu(v,u,p){return Ho.apply(this,arguments)}(this._delegate,p,S))}signInWithPopup(p){var S=this;return(0,a.Z)(function*(){return sn(Uc(),S._delegate,"operation-not-supported-in-this-environment"),ht(S._delegate,function Au(v,u,p){return vc.apply(this,arguments)}(S._delegate,p,Xe))})()}signInWithRedirect(p){var S=this;return(0,a.Z)(function*(){return sn(Uc(),S._delegate,"operation-not-supported-in-this-environment"),yield b(S._delegate),function dh(v,u,p){return function el(v,u,p){return Bd.apply(this,arguments)}(v,u,p)}(S._delegate,p,Xe)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function me(v,u){return Fe.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=ka,v})();function un(v,u,p){let S=v;"function"!=typeof v&&({next:S,error:u,complete:p}=v);const x=S;return{next:be=>x(be&&en.getOrCreate(be)),error:u,complete:p}}function fn(v,u){const p=function Z(v,u){const p=_e();if(!p)return[];const S=Js(_,v,u);switch(p.getItem(S)){case ka.NONE:return[yo];case ka.LOCAL:return[oc,lu];case ka.SESSION:return[lu];default:return[]}}(v,u);if("undefined"!=typeof self&&!p.includes(oc)&&p.push(oc),"undefined"!=typeof window)for(const S of[Ha,lu])p.includes(S)||p.push(S);return p.includes(yo)||p.push(yo),p}class mn{constructor(){this.providerId="phone",this._delegate=new Yc(Qe(y.Z.auth()))}static credential(u,p){return Yc.credential(u,p)}verifyPhoneNumber(u,p){return this._delegate.verifyPhoneNumber(u,p)}unwrap(){return this._delegate}}mn.PHONE_SIGN_IN_METHOD=Yc.PHONE_SIGN_IN_METHOD,mn.PROVIDER_ID=Yc.PROVIDER_ID;const Rn=dt;class ur{constructor(u,p,S=y.Z.app()){var x;Rn(null===(x=S.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:S.name}),this._delegate=new du(u,p,S.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Wr(v){v.INTERNAL.registerComponent(new bu("auth-compat",u=>{const p=u.getProvider("app-compat").getImmediate(),S=u.getProvider("auth");return new Zt(p,S)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Vc,FacebookAuthProvider:is,GithubAuthProvider:fc,GoogleAuthProvider:Iu,OAuthProvider:Zs,SAMLAuthProvider:ou,PhoneAuthProvider:mn,PhoneMultiFactorGenerator:Uh,RecaptchaVerifier:ur,TwitterAuthProvider:Tc,Auth:Zt,AuthCredential:Sr,Error:nu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.9")}(y.Z)},2940:function(Kt,st){!function(F){"use strict";function a(ue){return Array.prototype.slice.call(ue)}function y(ue){return new Promise(function(Re,we){ue.onsuccess=function(){Re(ue.result)},ue.onerror=function(){we(ue.error)}})}function re(ue,Re,we){var it,Ze=new Promise(function(tt,_t){y(it=ue[Re].apply(ue,we)).then(tt,_t)});return Ze.request=it,Ze}function ce(ue,Re,we){var it=re(ue,Re,we);return it.then(function(Ze){if(Ze)return new Ee(Ze,it.request)})}function Ie(ue,Re,we){we.forEach(function(it){Object.defineProperty(ue.prototype,it,{get:function(){return this[Re][it]},set:function(Ze){this[Re][it]=Ze}})})}function ae(ue,Re,we,it){it.forEach(function(Ze){Ze in we.prototype&&(ue.prototype[Ze]=function(){return re(this[Re],Ze,arguments)})})}function Pe(ue,Re,we,it){it.forEach(function(Ze){Ze in we.prototype&&(ue.prototype[Ze]=function(){return this[Re][Ze].apply(this[Re],arguments)})})}function Ne(ue,Re,we,it){it.forEach(function(Ze){Ze in we.prototype&&(ue.prototype[Ze]=function(){return ce(this[Re],Ze,arguments)})})}function Le(ue){this._index=ue}function Ee(ue,Re){this._cursor=ue,this._request=Re}function fe(ue){this._store=ue}function Ae(ue){this._tx=ue,this.complete=new Promise(function(Re,we){ue.oncomplete=function(){Re()},ue.onerror=function(){we(ue.error)},ue.onabort=function(){we(ue.error)}})}function Ce(ue,Re,we){this._db=ue,this.oldVersion=Re,this.transaction=new Ae(we)}function ne(ue){this._db=ue}Ie(Le,"_index",["name","keyPath","multiEntry","unique"]),ae(Le,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Ne(Le,"_index",IDBIndex,["openCursor","openKeyCursor"]),Ie(Ee,"_cursor",["direction","key","primaryKey","value"]),ae(Ee,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ue){ue in IDBCursor.prototype&&(Ee.prototype[ue]=function(){var Re=this,we=arguments;return Promise.resolve().then(function(){return Re._cursor[ue].apply(Re._cursor,we),y(Re._request).then(function(it){if(it)return new Ee(it,Re._request)})})})}),fe.prototype.createIndex=function(){return new Le(this._store.createIndex.apply(this._store,arguments))},fe.prototype.index=function(){return new Le(this._store.index.apply(this._store,arguments))},Ie(fe,"_store",["name","keyPath","indexNames","autoIncrement"]),ae(fe,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Ne(fe,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Pe(fe,"_store",IDBObjectStore,["deleteIndex"]),Ae.prototype.objectStore=function(){return new fe(this._tx.objectStore.apply(this._tx,arguments))},Ie(Ae,"_tx",["objectStoreNames","mode"]),Pe(Ae,"_tx",IDBTransaction,["abort"]),Ce.prototype.createObjectStore=function(){return new fe(this._db.createObjectStore.apply(this._db,arguments))},Ie(Ce,"_db",["name","version","objectStoreNames"]),Pe(Ce,"_db",IDBDatabase,["deleteObjectStore","close"]),ne.prototype.transaction=function(){return new Ae(this._db.transaction.apply(this._db,arguments))},Ie(ne,"_db",["name","version","objectStoreNames"]),Pe(ne,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ue){[fe,Le].forEach(function(Re){ue in Re.prototype&&(Re.prototype[ue.replace("open","iterate")]=function(){var we=a(arguments),it=we[we.length-1],Ze=this._store||this._index,tt=Ze[ue].apply(Ze,we.slice(0,-1));tt.onsuccess=function(){it(tt.result)}})})}),[Le,fe].forEach(function(ue){ue.prototype.getAll||(ue.prototype.getAll=function(Re,we){var it=this,Ze=[];return new Promise(function(tt){it.iterateCursor(Re,function(_t){_t?(Ze.push(_t.value),void 0===we||Ze.length!=we?_t.continue():tt(Ze)):tt(Ze)})})})}),F.openDb=function ee(ue,Re,we){var it=re(indexedDB,"open",[ue,Re]),Ze=it.request;return Ze&&(Ze.onupgradeneeded=function(tt){we&&we(new Ce(Ze.result,tt.oldVersion,Ze.transaction))}),it.then(function(tt){return new ne(tt)})},F.deleteDb=function Se(ue){return re(indexedDB,"deleteDatabase",[ue])},Object.defineProperty(F,"__esModule",{value:!0})}(st)},7274:(Kt,st,F)=>{"use strict";F.d(st,{$L:()=>qt,wr:()=>Qn});var a=F(8306),y=F(4986),re=F(3532);var ae=F(9646),Pe=F(515),Ne=F(7579),Le=F(4482),Ee=F(2733),Ae=F(9300),ne=F(5e3);class Ve{}let Tt=(()=>{class kt extends Ve{tick(Rt){return(0,ae.of)(0).pipe(function fe(kt,zt=1/0,Rt){return zt=(zt||0)<1?1/0:zt,(0,Le.e)((Dn,In)=>(0,Ee.p)(Dn,In,kt,zt,void 0,!0,Rt))}(()=>{const Dn=Date.now(),In=Math.round(Math.abs(Dn-Rt)/1e3),It=In<60?1e3:In<3600?6e4:In<86400?36e5:0;return It?function Ie(kt=0,zt,Rt=y.P){let Dn=-1;return null!=zt&&((0,re.K)(zt)?Rt=zt:Dn=zt),new a.y(In=>{let It=function ce(kt){return kt instanceof Date&&!isNaN(kt)}(kt)?+kt-Rt.now():kt;It<0&&(It=0);let At=0;return Rt.schedule(function(){In.closed||(In.next(At++),0<=Dn?this.schedule(void 0,Dn):In.complete())},It)})}(It):(0,Pe.c)()}),function Ce(kt){return(0,Ae.h)((zt,Rt)=>kt<=Rt)}(1))}}return kt.\u0275fac=function(){let zt;return function(Dn){return(zt||(zt=ne.n5z(kt)))(Dn||kt)}}(),kt.\u0275prov=ne.Yz7({token:kt,factory:kt.\u0275fac}),kt})(),Jt=(()=>{class kt{constructor(){this.changes=new Ne.x}}return kt.\u0275fac=function(Rt){return new(Rt||kt)},kt.\u0275prov=ne.Yz7({token:kt,factory:kt.\u0275fac}),kt})();class Dt{}let Et=(()=>{class kt extends Dt{format(Rt){const{suffix:Dn,value:In,unit:It}=function(kt){const zt=Date.now(),Rt=Math.round(Math.abs(zt-kt)/1e3),Dn=kt<zt?"ago":"from now",[In,It]=Rt<60?[Math.round(Rt),"second"]:Rt<3600?[Math.round(Rt/60),"minute"]:Rt<86400?[Math.round(Rt/3600),"hour"]:Rt<604800?[Math.round(Rt/86400),"day"]:Rt<2592e3?[Math.round(Rt/604800),"week"]:Rt<31536e3?[Math.round(Rt/2592e3),"month"]:[Math.round(Rt/31536e3),"year"];return{value:In,unit:It,suffix:Dn}}(Rt);return this.parse(In,It,Dn)}parse(Rt,Dn,In){return 1!==Rt&&(Dn+="s"),Rt+" "+Dn+" "+In}}return kt.\u0275fac=function(){let zt;return function(Dn){return(zt||(zt=ne.n5z(kt)))(Dn||kt)}}(),kt.\u0275prov=ne.Yz7({token:kt,factory:kt.\u0275fac}),kt})(),Qn=(()=>{class kt{constructor(Rt,Dn,In,It){this.clock=It,this.live=!0,this.stateChanges=new Ne.x,Rt&&(this.intlSubscription=Rt.changes.subscribe(()=>this.stateChanges.next())),this.stateChanges.subscribe(()=>{this.value=In.format(this.date),Dn.markForCheck()})}transform(Rt,...Dn){const In=function ue(kt){const zt=new Date(kt);if(!Number.isNaN(zt.valueOf()))return zt;const Rt=String(kt).match(/\d+/g);if(null===Rt||Rt.length<=2)return zt;{const[Dn,In,...It]=Rt.map(At=>parseInt(At,10));return new Date(Date.UTC(Dn,In-1,...It))}}(Rt).valueOf();let It;if(It=function ee(kt){return null!=kt}(Dn[0])?function Se(kt){return null!=kt&&"false"!=`${kt}`}(Dn[0]):this.live,this.date===In&&this.live===It)return this.value;if(this.date=In,this.live=It,!this.date)throw new SyntaxError(`Wrong parameter in TimeagoPipe. Expected a valid date, received: ${Rt}`);return this.clockSubscription&&(this.clockSubscription.unsubscribe(),this.clockSubscription=void 0),this.clockSubscription=this.clock.tick(this.date).pipe((0,Ae.h)(()=>this.live,this)).subscribe(()=>this.stateChanges.next()),this.stateChanges.next(),this.value}ngOnDestroy(){this.intlSubscription&&(this.intlSubscription.unsubscribe(),this.intlSubscription=void 0),this.clockSubscription&&(this.clockSubscription.unsubscribe(),this.clockSubscription=void 0),this.stateChanges.complete()}}return kt.\u0275fac=function(Rt){return new(Rt||kt)(ne.Y36(Jt,24),ne.Y36(ne.sBO,16),ne.Y36(Dt,16),ne.Y36(Ve,16))},kt.\u0275pipe=ne.Yjl({name:"timeago",type:kt,pure:!1}),kt.\u0275prov=ne.Yz7({token:kt,factory:kt.\u0275fac}),kt})(),qt=(()=>{class kt{static forRoot(Rt={}){return{ngModule:kt,providers:[Rt.clock||{provide:Ve,useClass:Tt},Rt.intl||[],Rt.formatter||{provide:Dt,useClass:Et}]}}static forChild(Rt={}){return{ngModule:kt,providers:[Rt.clock||{provide:Ve,useClass:Tt},Rt.intl||[],Rt.formatter||{provide:Dt,useClass:Et}]}}}return kt.\u0275fac=function(Rt){return new(Rt||kt)},kt.\u0275mod=ne.oAB({type:kt}),kt.\u0275inj=ne.cJS({}),kt})()},1707:(Kt,st)=>{var y;void 0!==(y=function(){"use strict";var re="10.1.0";function ae(Je){Je.preventDefault()}function Ee(Je){return"number"==typeof Je&&!isNaN(Je)&&isFinite(Je)}function fe(Je,Te,pn){pn>0&&(ee(Je,Te),setTimeout(function(){Se(Je,Te)},pn))}function Ce(Je){return Array.isArray(Je)?Je:[Je]}function ne(Je){var Te=(Je=String(Je)).split(".");return Te.length>1?Te[1].length:0}function ee(Je,Te){Je.classList?Je.classList.add(Te):Je.className+=" "+Te}function Se(Je,Te){Je.classList?Je.classList.remove(Te):Je.className=Je.className.replace(new RegExp("(^|\\b)"+Te.split(" ").join("|")+"(\\b|$)","gi")," ")}function Re(Je){var Te=void 0!==window.pageXOffset,pn="CSS1Compat"===(Je.compatMode||"");return{x:Te?window.pageXOffset:pn?Je.documentElement.scrollLeft:Je.body.scrollLeft,y:Te?window.pageYOffset:pn?Je.documentElement.scrollTop:Je.body.scrollTop}}function tt(Je,Te){return 100/(Te-Je)}function _t(Je,Te){return 100*Te/(Je[1]-Je[0])}function Jt(Je,Te){for(var pn=1;Je>=Te[pn];)pn+=1;return pn}function ze(Je,Te,pn){if(pn>=Je.slice(-1)[0])return 100;var xn,Vn,Mn=Jt(pn,Je);return Vn=Te[Mn],(xn=Te[Mn-1])+function Ve(Je,Te){return _t(Je,Je[0]<0?Te+Math.abs(Je[0]):Te-Je[0])}([Je[Mn-1],Je[Mn]],pn)/tt(xn,Vn)}function Dt(Je,Te,pn,Mn){if(100===Mn)return Mn;var dn,xn,lr=Jt(Mn,Je);return pn?Mn-(dn=Je[lr-1])>((xn=Je[lr])-dn)/2?xn:dn:Te[lr-1]?Je[lr-1]+function Ne(Je,Te){return Math.round(Je/Te)*Te}(Mn-Je[lr-1],Te[lr-1]):Mn}function Et(Je,Te,pn){var Mn;if("number"==typeof Te&&(Te=[Te]),"[object Array]"!==Object.prototype.toString.call(Te))throw new Error("noUiSlider (10.1.0): 'range' contains invalid value.");if(!Ee(Mn="min"===Je?0:"max"===Je?100:parseFloat(Je))||!Ee(Te[0]))throw new Error("noUiSlider (10.1.0): 'range' value isn't numeric.");pn.xPct.push(Mn),pn.xVal.push(Te[0]),Mn?pn.xSteps.push(!isNaN(Te[1])&&Te[1]):isNaN(Te[1])||(pn.xSteps[0]=Te[1]),pn.xHighestCompleteStep.push(0)}function tn(Je,Te,pn){if(!Te)return!0;pn.xSteps[Je]=_t([pn.xVal[Je],pn.xVal[Je+1]],Te)/tt(pn.xPct[Je],pn.xPct[Je+1]);var lr=Math.ceil(Number(((pn.xVal[Je+1]-pn.xVal[Je])/pn.xNumSteps[Je]).toFixed(3))-1);pn.xHighestCompleteStep[Je]=pn.xVal[Je]+pn.xNumSteps[Je]*lr}function bt(Je,Te,pn){this.xPct=[],this.xVal=[],this.xSteps=[pn||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=Te;var Mn,lr=[];for(Mn in Je)Je.hasOwnProperty(Mn)&&lr.push([Je[Mn],Mn]);for(lr.sort(lr.length&&"object"==typeof lr[0][0]?function(dn,xn){return dn[0][0]-xn[0][0]}:function(dn,xn){return dn[0]-xn[0]}),Mn=0;Mn<lr.length;Mn++)Et(lr[Mn][1],lr[Mn][0],this);for(this.xNumSteps=this.xSteps.slice(0),Mn=0;Mn<this.xNumSteps.length;Mn++)tn(Mn,this.xNumSteps[Mn],this)}bt.prototype.getMargin=function(Je){var Te=this.xNumSteps[0];if(Te&&Je/Te%1!=0)throw new Error("noUiSlider (10.1.0): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&_t(this.xVal,Je)},bt.prototype.toStepping=function(Je){return ze(this.xVal,this.xPct,Je)},bt.prototype.fromStepping=function(Je){return function pt(Je,Te,pn){if(pn>=100)return Je.slice(-1)[0];var xn,Mn=Jt(pn,Te);return function Tt(Je,Te){return Te*(Je[1]-Je[0])/100+Je[0]}([Je[Mn-1],Je[Mn]],(pn-(xn=Te[Mn-1]))*tt(xn,Te[Mn]))}(this.xVal,this.xPct,Je)},bt.prototype.getStep=function(Je){return Dt(this.xPct,this.xSteps,this.snap,Je)},bt.prototype.getNearbySteps=function(Je){var Te=Jt(Je,this.xPct);return{stepBefore:{startValue:this.xVal[Te-2],step:this.xNumSteps[Te-2],highestStep:this.xHighestCompleteStep[Te-2]},thisStep:{startValue:this.xVal[Te-1],step:this.xNumSteps[Te-1],highestStep:this.xHighestCompleteStep[Te-1]},stepAfter:{startValue:this.xVal[Te-0],step:this.xNumSteps[Te-0],highestStep:this.xHighestCompleteStep[Te-0]}}},bt.prototype.countStepDecimals=function(){var Je=this.xNumSteps.map(ne);return Math.max.apply(null,Je)},bt.prototype.convert=function(Je){return this.getStep(this.toStepping(Je))};var Qn={to:function(Je){return void 0!==Je&&Je.toFixed(2)},from:Number};function qt(Je){if(function ce(Je){return"object"==typeof Je&&"function"==typeof Je.to&&"function"==typeof Je.from}(Je))return!0;throw new Error("noUiSlider (10.1.0): 'format' requires 'to' and 'from' methods.")}function kt(Je,Te){if(!Ee(Te))throw new Error("noUiSlider (10.1.0): 'step' is not numeric.");Je.singleStep=Te}function zt(Je,Te){if("object"!=typeof Te||Array.isArray(Te))throw new Error("noUiSlider (10.1.0): 'range' is not an object.");if(void 0===Te.min||void 0===Te.max)throw new Error("noUiSlider (10.1.0): Missing 'min' or 'max' in 'range'.");if(Te.min===Te.max)throw new Error("noUiSlider (10.1.0): 'range' 'min' and 'max' cannot be equal.");Je.spectrum=new bt(Te,Je.snap,Je.singleStep)}function Rt(Je,Te){if(Te=Ce(Te),!Array.isArray(Te)||!Te.length)throw new Error("noUiSlider (10.1.0): 'start' option is incorrect.");Je.handles=Te.length,Je.start=Te}function Dn(Je,Te){if(Je.snap=Te,"boolean"!=typeof Te)throw new Error("noUiSlider (10.1.0): 'snap' option must be a boolean.")}function In(Je,Te){if(Je.animate=Te,"boolean"!=typeof Te)throw new Error("noUiSlider (10.1.0): 'animate' option must be a boolean.")}function It(Je,Te){if(Je.animationDuration=Te,"number"!=typeof Te)throw new Error("noUiSlider (10.1.0): 'animationDuration' option must be a number.")}function At(Je,Te){var Mn,pn=[!1];if("lower"===Te?Te=[!0,!1]:"upper"===Te&&(Te=[!1,!0]),!0===Te||!1===Te){for(Mn=1;Mn<Je.handles;Mn++)pn.push(Te);pn.push(!1)}else{if(!Array.isArray(Te)||!Te.length||Te.length!==Je.handles+1)throw new Error("noUiSlider (10.1.0): 'connect' option doesn't match handle count.");pn=Te}Je.connect=pn}function Ut(Je,Te){switch(Te){case"horizontal":Je.ort=0;break;case"vertical":Je.ort=1;break;default:throw new Error("noUiSlider (10.1.0): 'orientation' option is invalid.")}}function an(Je,Te){if(!Ee(Te))throw new Error("noUiSlider (10.1.0): 'margin' option must be numeric.");if(0!==Te&&(Je.margin=Je.spectrum.getMargin(Te),!Je.margin))throw new Error("noUiSlider (10.1.0): 'margin' option is only supported on linear sliders.")}function Sn(Je,Te){if(!Ee(Te))throw new Error("noUiSlider (10.1.0): 'limit' option must be numeric.");if(Je.limit=Je.spectrum.getMargin(Te),!Je.limit||Je.handles<2)throw new Error("noUiSlider (10.1.0): 'limit' option is only supported on linear sliders with 2 or more handles.")}function Zn(Je,Te){if(!Ee(Te))throw new Error("noUiSlider (10.1.0): 'padding' option must be numeric.");if(0!==Te){if(Je.padding=Je.spectrum.getMargin(Te),!Je.padding)throw new Error("noUiSlider (10.1.0): 'padding' option is only supported on linear sliders.");if(Je.padding<0)throw new Error("noUiSlider (10.1.0): 'padding' option must be a positive number.");if(Je.padding>=50)throw new Error("noUiSlider (10.1.0): 'padding' option must be less than half the range.")}}function $n(Je,Te){switch(Te){case"ltr":Je.dir=0;break;case"rtl":Je.dir=1;break;default:throw new Error("noUiSlider (10.1.0): 'direction' option was not recognized.")}}function ar(Je,Te){if("string"!=typeof Te)throw new Error("noUiSlider (10.1.0): 'behaviour' must be a string containing options.");var pn=Te.indexOf("tap")>=0,Mn=Te.indexOf("drag")>=0,lr=Te.indexOf("fixed")>=0,dn=Te.indexOf("snap")>=0,xn=Te.indexOf("hover")>=0;if(lr){if(2!==Je.handles)throw new Error("noUiSlider (10.1.0): 'fixed' behaviour must be used with 2 handles");an(Je,Je.start[1]-Je.start[0])}Je.events={tap:pn||dn,drag:Mn,fixed:lr,snap:dn,hover:xn}}function Vr(Je,Te){if(Je.multitouch=Te,"boolean"!=typeof Te)throw new Error("noUiSlider (10.1.0): 'multitouch' option must be a boolean.")}function Zr(Je,Te){if(!1!==Te)if(!0===Te){Je.tooltips=[];for(var pn=0;pn<Je.handles;pn++)Je.tooltips.push(!0)}else{if(Je.tooltips=Ce(Te),Je.tooltips.length!==Je.handles)throw new Error("noUiSlider (10.1.0): must pass a formatter for all handles.");Je.tooltips.forEach(function(Mn){if("boolean"!=typeof Mn&&("object"!=typeof Mn||"function"!=typeof Mn.to))throw new Error("noUiSlider (10.1.0): 'tooltips' must be passed a formatter or 'false'.")})}}function Pr(Je,Te){Je.ariaFormat=Te,qt(Te)}function Gr(Je,Te){Je.format=Te,qt(Te)}function ti(Je,Te){if(void 0!==Te&&"string"!=typeof Te&&!1!==Te)throw new Error("noUiSlider (10.1.0): 'cssPrefix' must be a string or `false`.");Je.cssPrefix=Te}function er(Je,Te){if(void 0!==Te&&"object"!=typeof Te)throw new Error("noUiSlider (10.1.0): 'cssClasses' must be an object.");if("string"==typeof Je.cssPrefix)for(var pn in Je.cssClasses={},Te)!Te.hasOwnProperty(pn)||(Je.cssClasses[pn]=Je.cssPrefix+Te[pn]);else Je.cssClasses=Te}function wr(Je,Te){if(!0!==Te&&!1!==Te)throw new Error("noUiSlider (10.1.0): 'useRequestAnimationFrame' option should be true (default) or false.");Je.useRequestAnimationFrame=Te}function vr(Je){var Te={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:Qn,format:Qn},pn={step:{r:!1,t:kt},start:{r:!0,t:Rt},connect:{r:!0,t:At},direction:{r:!0,t:$n},snap:{r:!1,t:Dn},animate:{r:!1,t:In},animationDuration:{r:!1,t:It},range:{r:!0,t:zt},orientation:{r:!1,t:Ut},margin:{r:!1,t:an},limit:{r:!1,t:Sn},padding:{r:!1,t:Zn},behaviour:{r:!0,t:ar},multitouch:{r:!0,t:Vr},ariaFormat:{r:!1,t:Pr},format:{r:!1,t:Gr},tooltips:{r:!1,t:Zr},cssPrefix:{r:!1,t:ti},cssClasses:{r:!1,t:er},useRequestAnimationFrame:{r:!1,t:wr}},Mn={connect:!1,direction:"ltr",behaviour:"tap",multitouch:!1,orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};Je.format&&!Je.ariaFormat&&(Je.ariaFormat=Je.format),Object.keys(pn).forEach(function(dn){if(void 0===Je[dn]&&void 0===Mn[dn]){if(pn[dn].r)throw new Error("noUiSlider (10.1.0): '"+dn+"' is required.");return!0}pn[dn].t(Te,void 0===Je[dn]?Mn[dn]:Je[dn])}),Te.pips=Je.pips;var lr=[["left","top"],["right","bottom"]];return Te.style=lr[Te.dir][Te.ort],Te.styleOposite=lr[Te.dir?0:1][Te.ort],Te}function xr(Je,Te,pn){var Yi,vi,Ht,_r,Ns,Mn=function we(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}(),dn=function Ze(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}()&&function it(){var Je=!1;try{var Te=Object.defineProperty({},"passive",{get:function(){Je=!0}});window.addEventListener("test",null,Te)}catch(pn){}return Je}(),xn=Je,Vn=[],St=[],Ar=0,En=Te.spectrum,or=[],nr={},Kr=Je.ownerDocument,mr=Kr.documentElement,Qr=Kr.body;function ts(rt,Lt){var Ft=Kr.createElement("div");return Lt&&ee(Ft,Lt),rt.appendChild(Ft),Ft}function tr(rt,Lt){var Ft=ts(rt,Te.cssClasses.origin),yn=ts(Ft,Te.cssClasses.handle);return yn.setAttribute("data-handle",Lt),yn.setAttribute("tabindex","0"),yn.setAttribute("role","slider"),yn.setAttribute("aria-orientation",Te.ort?"vertical":"horizontal"),0===Lt?ee(yn,Te.cssClasses.handleLower):Lt===Te.handles-1&&ee(yn,Te.cssClasses.handleUpper),Ft}function ks(rt,Lt){return!!Lt&&ts(rt,Te.cssClasses.connect)}function po(rt,Lt){return!!Te.tooltips[Lt]&&ts(rt.firstChild,Te.cssClasses.tooltip)}function xe(rt,Lt,Ft){var yn=Kr.createElement("div"),Cn=[Te.cssClasses.valueNormal,Te.cssClasses.valueLarge,Te.cssClasses.valueSub],Un=[Te.cssClasses.markerNormal,Te.cssClasses.markerLarge,Te.cssClasses.markerSub],Wn=[Te.cssClasses.valueHorizontal,Te.cssClasses.valueVertical],ui=[Te.cssClasses.markerHorizontal,Te.cssClasses.markerVertical];function Ir(Rr,Ci){var Tr=Ci===Te.cssClasses.value;return Ci+" "+(Tr?Wn:ui)[Te.ort]+" "+(Tr?Cn:Un)[Rr]}return ee(yn,Te.cssClasses.pips),ee(yn,0===Te.ort?Te.cssClasses.pipsHorizontal:Te.cssClasses.pipsVertical),Object.keys(rt).forEach(function(Rr){!function Si(Rr,Ci){Ci[1]=Ci[1]&&Lt?Lt(Ci[0],Ci[1]):Ci[1];var Tr=ts(yn,!1);Tr.className=Ir(Ci[1],Te.cssClasses.marker),Tr.style[Te.style]=Rr+"%",Ci[1]&&((Tr=ts(yn,!1)).className=Ir(Ci[1],Te.cssClasses.value),Tr.style[Te.style]=Rr+"%",Tr.innerText=Ft.to(Ci[0]))}(Rr,rt[Rr])}),yn}function mt(){Ns&&(function Ie(Je){Je.parentElement.removeChild(Je)}(Ns),Ns=null)}function Qt(rt){mt();var Lt=rt.mode,yn=rt.filter||!1,ui=function at(rt,Lt,Ft){function yn(Rr,Ci){return(Rr+Ci).toFixed(7)/1}var Cn={},Un=En.xVal[0],Wn=En.xVal[En.xVal.length-1],ui=!1,Ir=!1,Si=0;return(Ft=function Pe(Je){return Je.filter(function(Te){return!this[Te]&&(this[Te]=!0)},{})}(Ft.slice().sort(function(Rr,Ci){return Rr-Ci})))[0]!==Un&&(Ft.unshift(Un),ui=!0),Ft[Ft.length-1]!==Wn&&(Ft.push(Wn),Ir=!0),Ft.forEach(function(Rr,Ci){var Tr,Is,Oi,Os,io,$e,qe,Ot,Mo=Rr,$i=Ft[Ci+1];if("steps"===Lt&&(Tr=En.xNumSteps[Ci]),Tr||(Tr=$i-Mo),!1!==Mo&&void 0!==$i)for(Tr=Math.max(Tr,1e-7),Is=Mo;Is<=$i;Is=yn(Is,Tr)){for(Ot=(io=(Os=En.toStepping(Is))-Si)/(qe=Math.round(io/rt)),Oi=1;Oi<=qe;Oi+=1)Cn[(Si+Oi*Ot).toFixed(5)]=["x",0];$e=Ft.indexOf(Is)>-1?1:"steps"===Lt?2:0,!Ci&&ui&&($e=0),Is===$i&&Ir||(Cn[Os.toFixed(5)]=[Is,$e]),Si=Os}}),Cn}(rt.density||1,Lt,function Nt(rt,Lt,Ft){if("range"===rt||"steps"===rt)return En.xVal;if("count"===rt){if(!Lt)throw new Error("noUiSlider (10.1.0): 'values' required for mode 'count'.");var Cn,yn=100/(Lt-1),Un=0;for(Lt=[];(Cn=Un++*yn)<=100;)Lt.push(Cn);rt="positions"}return"positions"===rt?Lt.map(function(Wn){return En.fromStepping(Ft?En.getStep(Wn):Wn)}):"values"===rt?Ft?Lt.map(function(Wn){return En.fromStepping(En.getStep(En.toStepping(Wn)))}):Lt:void 0}(Lt,rt.values||!1,rt.stepped||!1)),Ir=rt.format||{to:Math.round};return Ns=xn.appendChild(xe(ui,yn,Ir))}function Yn(){var rt=Yi.getBoundingClientRect(),Lt="offset"+["Width","Height"][Te.ort];return 0===Te.ort?rt.width||Yi[Lt]:rt.height||Yi[Lt]}function cr(rt,Lt,Ft,yn){var Cn=function(Wn){if(xn.hasAttribute("disabled")||function ue(Je,Te){return Je.classList?Je.classList.contains(Te):new RegExp("\\b"+Te+"\\b").test(Je.className)}(xn,Te.cssClasses.tap)||!(Wn=function _i(rt,Lt,Ft){var Wn,ui,yn=0===rt.type.indexOf("touch"),Cn=0===rt.type.indexOf("mouse"),Un=0===rt.type.indexOf("pointer");if(0===rt.type.indexOf("MSPointer")&&(Un=!0),yn&&Te.multitouch){var Ir=function(Ci){return Ci.target===Ft||Ft.contains(Ci.target)};if("touchstart"===rt.type){var Si=Array.prototype.filter.call(rt.touches,Ir);if(Si.length>1)return!1;Wn=Si[0].pageX,ui=Si[0].pageY}else{var Rr=Array.prototype.find.call(rt.changedTouches,Ir);if(!Rr)return!1;Wn=Rr.pageX,ui=Rr.pageY}}else if(yn){if(rt.touches.length>1)return!1;Wn=rt.changedTouches[0].pageX,ui=rt.changedTouches[0].pageY}return Lt=Lt||Re(Kr),(Cn||Un)&&(Wn=rt.clientX+Lt.x,ui=rt.clientY+Lt.y),rt.pageOffset=Lt,rt.points=[Wn,ui],rt.cursor=Cn||Un,rt}(Wn,yn.pageOffset,yn.target||Lt))||rt===Mn.start&&void 0!==Wn.buttons&&Wn.buttons>1||yn.hover&&Wn.buttons)return!1;dn||Wn.preventDefault(),Wn.calcPoint=Wn.points[Te.ort],Ft(Wn,yn)},Un=[];return rt.split(" ").forEach(function(Wn){Lt.addEventListener(Wn,Cn,!!dn&&{passive:!0}),Un.push([Wn,Cn])}),Un}function ai(rt){var Ft=100*(rt-function Le(Je,Te){var pn=Je.getBoundingClientRect(),Mn=Je.ownerDocument,lr=Mn.documentElement,dn=Re(Mn);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(dn.x=0),Te?pn.top+dn.y-lr.clientTop:pn.left+dn.x-lr.clientLeft}(Yi,Te.ort))/Yn();return Te.dir?100-Ft:Ft}function ri(rt,Lt,Ft,yn){var Cn=Ft.slice(),Un=[!rt,rt],Wn=[rt,!rt];yn=yn.slice(),rt&&yn.reverse(),yn.length>1?yn.forEach(function(Ir,Si){var Rr=zr(Cn,Ir,Cn[Ir]+Lt,Un[Si],Wn[Si],!1);!1===Rr?Lt=0:(Lt=Rr-Cn[Ir],Cn[Ir]=Rr)}):Un=Wn=[!0];var ui=!1;yn.forEach(function(Ir,Si){ui=ir(Ir,Ft[Ir]+Lt,Un[Si],Wn[Si])||ui}),ui&&yn.forEach(function(Ir){ii("update",Ir),ii("slide",Ir)})}function ii(rt,Lt,Ft){Object.keys(nr).forEach(function(yn){var Cn=yn.split(".")[0];rt===Cn&&nr[yn].forEach(function(Un){Un.call(_r,or.map(Te.format.to),Lt,or.slice(),Ft||!1,Vn.slice())})})}function Oe(rt,Lt){"mouseout"===rt.type&&"HTML"===rt.target.nodeName&&null===rt.relatedTarget&&ke(rt,Lt)}function ye(rt,Lt){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===rt.buttons&&0!==Lt.buttonsProperty)return ke(rt,Lt);var Ft=(Te.dir?-1:1)*(rt.calcPoint-Lt.startCalcPoint);ri(Ft>0,100*Ft/Lt.baseSize,Lt.locations,Lt.handleNumbers)}function ke(rt,Lt){Lt.handle&&(Se(Lt.handle,Te.cssClasses.active),Ar-=1),Lt.listeners.forEach(function(Ft){mr.removeEventListener(Ft[0],Ft[1])}),0===Ar&&(Se(xn,Te.cssClasses.drag),dt(),rt.cursor&&(Qr.style.cursor="",Qr.removeEventListener("selectstart",ae))),Lt.handleNumbers.forEach(function(Ft){ii("change",Ft),ii("set",Ft),ii("end",Ft)})}function Ke(rt,Lt){var Ft;if(1===Lt.handleNumbers.length){var yn=vi[Lt.handleNumbers[0]];if(yn.hasAttribute("disabled"))return!1;Ar+=1,ee(Ft=yn.children[0],Te.cssClasses.active)}rt.stopPropagation();var Cn=[],Un=cr(Mn.move,mr,ye,{target:rt.target,handle:Ft,listeners:Cn,startCalcPoint:rt.calcPoint,baseSize:Yn(),pageOffset:rt.pageOffset,handleNumbers:Lt.handleNumbers,buttonsProperty:rt.buttons,locations:Vn.slice()}),Wn=cr(Mn.end,mr,ke,{target:rt.target,handle:Ft,listeners:Cn,handleNumbers:Lt.handleNumbers}),ui=cr("mouseout",mr,Oe,{target:rt.target,handle:Ft,listeners:Cn,handleNumbers:Lt.handleNumbers});Cn.push.apply(Cn,Un.concat(Wn,ui)),rt.cursor&&(Qr.style.cursor=getComputedStyle(rt.target).cursor,vi.length>1&&ee(xn,Te.cssClasses.drag),Qr.addEventListener("selectstart",ae,!1)),Lt.handleNumbers.forEach(function(Ir){ii("start",Ir)})}function Ye(rt){rt.stopPropagation();var Lt=ai(rt.calcPoint),Ft=function Fs(rt){var Lt=100,Ft=!1;return vi.forEach(function(yn,Cn){if(!yn.hasAttribute("disabled")){var Un=Math.abs(Vn[Cn]-rt);Un<Lt&&(Ft=Cn,Lt=Un)}}),Ft}(Lt);if(!1===Ft)return!1;Te.events.snap||fe(xn,Te.cssClasses.tap,Te.animationDuration),ir(Ft,Lt,!0,!0),dt(),ii("slide",Ft,!0),ii("update",Ft,!0),ii("change",Ft,!0),ii("set",Ft,!0),Te.events.snap&&Ke(rt,{handleNumbers:[Ft]})}function rn(rt){var Lt=ai(rt.calcPoint),Ft=En.getStep(Lt),yn=En.fromStepping(Ft);Object.keys(nr).forEach(function(Cn){"hover"===Cn.split(".")[0]&&nr[Cn].forEach(function(Un){Un.call(_r,yn)})})}function zr(rt,Lt,Ft,yn,Cn,Un){return vi.length>1&&(yn&&Lt>0&&(Ft=Math.max(Ft,rt[Lt-1]+Te.margin)),Cn&&Lt<vi.length-1&&(Ft=Math.min(Ft,rt[Lt+1]-Te.margin))),vi.length>1&&Te.limit&&(yn&&Lt>0&&(Ft=Math.min(Ft,rt[Lt-1]+Te.limit)),Cn&&Lt<vi.length-1&&(Ft=Math.max(Ft,rt[Lt+1]-Te.limit))),Te.padding&&(0===Lt&&(Ft=Math.max(Ft,Te.padding)),Lt===vi.length-1&&(Ft=Math.min(Ft,100-Te.padding))),!((Ft=function Ae(Je){return Math.max(Math.min(Je,100),0)}(Ft=En.getStep(Ft)))===rt[Lt]&&!Un)&&Ft}function Er(rt){return rt+"%"}function dt(){St.forEach(function(rt){vi[rt].childNodes[0].style.zIndex=3+(vi.length+(Vn[rt]>50?-1:1)*rt)})}function ir(rt,Lt,Ft,yn){return!1!==(Lt=zr(Vn,rt,Lt,Ft,yn,!1))&&(function yr(rt,Lt){Vn[rt]=Lt,or[rt]=En.fromStepping(Lt);var Ft=function(){vi[rt].style[Te.style]=Er(Lt),On(rt),On(rt+1)};window.requestAnimationFrame&&Te.useRequestAnimationFrame?window.requestAnimationFrame(Ft):Ft()}(rt,Lt),!0)}function On(rt){if(Ht[rt]){var Lt=0,Ft=100;0!==rt&&(Lt=Vn[rt-1]),rt!==Ht.length-1&&(Ft=Vn[rt]),Ht[rt].style[Te.style]=Er(Lt),Ht[rt].style[Te.styleOposite]=Er(100-Ft)}}function qn(rt,Lt){null===rt||!1===rt||("number"==typeof rt&&(rt=String(rt)),!1!==(rt=Te.format.from(rt))&&!isNaN(rt)&&ir(Lt,En.toStepping(rt),!1,!1))}function kr(rt,Lt){var Ft=Ce(rt),yn=void 0===Vn[0];Lt=void 0===Lt||!!Lt,Ft.forEach(qn),Te.animate&&!yn&&fe(xn,Te.cssClasses.tap,Te.animationDuration),St.forEach(function(Cn){ir(Cn,Vn[Cn],!0,!1)}),dt(),St.forEach(function(Cn){ii("update",Cn),null!==Ft[Cn]&&Lt&&ii("set",Cn)})}function ro(){var rt=or.map(Te.format.to);return 1===rt.length?rt[0]:rt}function Yr(rt,Lt){nr[rt]=nr[rt]||[],nr[rt].push(Lt),"update"===rt.split(".")[0]&&vi.forEach(function(Ft,yn){ii("update",yn)})}if(xn.noUiSlider)throw new Error("noUiSlider (10.1.0): Slider was already initialized.");return function ni(rt){ee(rt,Te.cssClasses.target),ee(rt,0===Te.dir?Te.cssClasses.ltr:Te.cssClasses.rtl),ee(rt,0===Te.ort?Te.cssClasses.horizontal:Te.cssClasses.vertical),Yi=ts(rt,Te.cssClasses.base)}(xn),function Ys(rt,Lt){vi=[],(Ht=[]).push(ks(Lt,rt[0]));for(var Ft=0;Ft<Te.handles;Ft++)vi.push(tr(Lt,Ft)),St[Ft]=Ft,Ht.push(ks(Lt,rt[Ft+1]))}(Te.connect,Yi),_r={destroy:function Hi(){for(var rt in Te.cssClasses)!Te.cssClasses.hasOwnProperty(rt)||Se(xn,Te.cssClasses[rt]);for(;xn.firstChild;)xn.removeChild(xn.firstChild);delete xn.noUiSlider},steps:function Ii(){return Vn.map(function(rt,Lt){var Ft=En.getNearbySteps(rt),yn=or[Lt],Cn=Ft.thisStep.step,Un=null;!1!==Cn&&yn+Cn>Ft.stepAfter.startValue&&(Cn=Ft.stepAfter.startValue-yn),Un=yn>Ft.thisStep.startValue?Ft.thisStep.step:!1!==Ft.stepBefore.step&&yn-Ft.stepBefore.highestStep,100===rt?Cn=null:0===rt&&(Un=null);var Wn=En.countStepDecimals();return null!==Cn&&!1!==Cn&&(Cn=Number(Cn.toFixed(Wn))),null!==Un&&!1!==Un&&(Un=Number(Un.toFixed(Wn))),[Un,Cn]})},on:Yr,off:function Es(rt){var Lt=rt&&rt.split(".")[0],Ft=Lt&&rt.substring(Lt.length);Object.keys(nr).forEach(function(yn){var Cn=yn.split(".")[0],Un=yn.substring(Cn.length);Lt&&Lt!==Cn||Ft&&Ft!==Un||delete nr[yn]})},get:ro,set:kr,reset:function os(rt){kr(Te.start,rt)},__moveHandles:function(rt,Lt,Ft){ri(rt,Lt,Vn,Ft)},options:pn,updateOptions:function $r(rt,Lt){var Ft=ro(),yn=["margin","limit","padding","range","animate","snap","step","format"];yn.forEach(function(Un){void 0!==rt[Un]&&(pn[Un]=rt[Un])});var Cn=vr(pn);yn.forEach(function(Un){void 0!==rt[Un]&&(Te[Un]=Cn[Un])}),En=Cn.spectrum,Te.margin=Cn.margin,Te.limit=Cn.limit,Te.padding=Cn.padding,Te.pips&&Qt(Te.pips),Vn=[],kr(rt.start||Ft,Lt)},target:xn,removePips:mt,pips:Qt},function kn(rt){rt.fixed||vi.forEach(function(Lt,Ft){cr(Mn.start,Lt.children[0],Ke,{handleNumbers:[Ft]})}),rt.tap&&cr(Mn.start,Yi,Ye,{}),rt.hover&&cr(Mn.move,Yi,rn,{hover:!0}),rt.drag&&Ht.forEach(function(Lt,Ft){if(!1!==Lt&&0!==Ft&&Ft!==Ht.length-1){var yn=vi[Ft-1],Cn=vi[Ft],Un=[Lt];ee(Lt,Te.cssClasses.draggable),rt.fixed&&(Un.push(yn.children[0]),Un.push(Cn.children[0])),Un.forEach(function(Wn){cr(Mn.start,Wn,Ke,{handles:[yn,Cn],handleNumbers:[Ft-1,Ft]})})}})}(Te.events),kr(Te.start),Te.pips&&Qt(Te.pips),Te.tooltips&&function Ws(){var rt=vi.map(po);Yr("update",function(Lt,Ft,yn){if(rt[Ft]){var Cn=Lt[Ft];!0!==Te.tooltips[Ft]&&(Cn=Te.tooltips[Ft].to(yn[Ft])),rt[Ft].innerHTML=Cn}})}(),function qi(){Yr("update",function(rt,Lt,Ft,yn,Cn){St.forEach(function(Un){var Wn=vi[Un],ui=zr(Vn,Un,0,!0,!0,!0),Ir=zr(Vn,Un,100,!0,!0,!0),Si=Cn[Un],Rr=Te.ariaFormat.to(Ft[Un]);Wn.children[0].setAttribute("aria-valuemin",ui.toFixed(1)),Wn.children[0].setAttribute("aria-valuemax",Ir.toFixed(1)),Wn.children[0].setAttribute("aria-valuenow",Si.toFixed(1)),Wn.children[0].setAttribute("aria-valuetext",Rr)})})}(),_r}return{version:re,create:function gi(Je,Te){if(!Je||!Je.nodeName)throw new Error("noUiSlider (10.1.0): create requires a single element, got: "+Je);var Mn=xr(Je,vr(Te),Te);return Je.noUiSlider=Mn,Mn}}}.apply(st,[]))&&(Kt.exports=y)},9165:Kt=>{"use strict";var st=String.prototype.replace,F=/%20/g;Kt.exports={default:"RFC3986",formatters:{RFC1738:function(y){return st.call(y,F,"+")},RFC3986:function(y){return String(y)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},1781:(Kt,st,F)=>{"use strict";var a=F(3726),y=F(6954),re=F(9165);Kt.exports={formats:re,parse:y,stringify:a}},6954:(Kt,st,F)=>{"use strict";var a=F(4393),y=Object.prototype.hasOwnProperty,re=Array.isArray,ce={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:a.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},ae=function(Ce,ne){return Ce&&"string"==typeof Ce&&ne.comma&&Ce.indexOf(",")>-1?Ce.split(","):Ce},fe=function(ne,ee,Se,ue){if(ne){var Re=Se.allowDots?ne.replace(/\.([^.[]+)/g,"[$1]"):ne,it=/(\[[^[\]]*])/g,Ze=Se.depth>0&&/(\[[^[\]]*])/.exec(Re),tt=Ze?Re.slice(0,Ze.index):Re,_t=[];if(tt){if(!Se.plainObjects&&y.call(Object.prototype,tt)&&!Se.allowPrototypes)return;_t.push(tt)}for(var Ve=0;Se.depth>0&&null!==(Ze=it.exec(Re))&&Ve<Se.depth;){if(Ve+=1,!Se.plainObjects&&y.call(Object.prototype,Ze[1].slice(1,-1))&&!Se.allowPrototypes)return;_t.push(Ze[1])}return Ze&&_t.push("["+Re.slice(Ze.index)+"]"),function(Ce,ne,ee,Se){for(var ue=Se?ne:ae(ne,ee),Re=Ce.length-1;Re>=0;--Re){var we,it=Ce[Re];if("[]"===it&&ee.parseArrays)we=[].concat(ue);else{we=ee.plainObjects?Object.create(null):{};var Ze="["===it.charAt(0)&&"]"===it.charAt(it.length-1)?it.slice(1,-1):it,tt=parseInt(Ze,10);ee.parseArrays||""!==Ze?!isNaN(tt)&&it!==Ze&&String(tt)===Ze&&tt>=0&&ee.parseArrays&&tt<=ee.arrayLimit?(we=[])[tt]=ue:"__proto__"!==Ze&&(we[Ze]=ue):we={0:ue}}ue=we}return ue}(_t,ee,Se,ue)}};Kt.exports=function(Ce,ne){var ee=function(ne){if(!ne)return ce;if(null!=ne.decoder&&"function"!=typeof ne.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==ne.charset&&"utf-8"!==ne.charset&&"iso-8859-1"!==ne.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:void 0===ne.allowDots?ce.allowDots:!!ne.allowDots,allowPrototypes:"boolean"==typeof ne.allowPrototypes?ne.allowPrototypes:ce.allowPrototypes,arrayLimit:"number"==typeof ne.arrayLimit?ne.arrayLimit:ce.arrayLimit,charset:void 0===ne.charset?ce.charset:ne.charset,charsetSentinel:"boolean"==typeof ne.charsetSentinel?ne.charsetSentinel:ce.charsetSentinel,comma:"boolean"==typeof ne.comma?ne.comma:ce.comma,decoder:"function"==typeof ne.decoder?ne.decoder:ce.decoder,delimiter:"string"==typeof ne.delimiter||a.isRegExp(ne.delimiter)?ne.delimiter:ce.delimiter,depth:"number"==typeof ne.depth||!1===ne.depth?+ne.depth:ce.depth,ignoreQueryPrefix:!0===ne.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof ne.interpretNumericEntities?ne.interpretNumericEntities:ce.interpretNumericEntities,parameterLimit:"number"==typeof ne.parameterLimit?ne.parameterLimit:ce.parameterLimit,parseArrays:!1!==ne.parseArrays,plainObjects:"boolean"==typeof ne.plainObjects?ne.plainObjects:ce.plainObjects,strictNullHandling:"boolean"==typeof ne.strictNullHandling?ne.strictNullHandling:ce.strictNullHandling}}(ne);if(""===Ce||null==Ce)return ee.plainObjects?Object.create(null):{};for(var Se="string"==typeof Ce?function(ne,ee){var Ze,Se={},we=(ee.ignoreQueryPrefix?ne.replace(/^\?/,""):ne).split(ee.delimiter,ee.parameterLimit===1/0?void 0:ee.parameterLimit),it=-1,tt=ee.charset;if(ee.charsetSentinel)for(Ze=0;Ze<we.length;++Ze)0===we[Ze].indexOf("utf8=")&&("utf8=%E2%9C%93"===we[Ze]?tt="utf-8":"utf8=%26%2310003%3B"===we[Ze]&&(tt="iso-8859-1"),it=Ze,Ze=we.length);for(Ze=0;Ze<we.length;++Ze)if(Ze!==it){var Jt,ze,_t=we[Ze],Ve=_t.indexOf("]="),Tt=-1===Ve?_t.indexOf("="):Ve+1;-1===Tt?(Jt=ee.decoder(_t,ce.decoder,tt,"key"),ze=ee.strictNullHandling?null:""):(Jt=ee.decoder(_t.slice(0,Tt),ce.decoder,tt,"key"),ze=a.maybeMap(ae(_t.slice(Tt+1),ee),function(pt){return ee.decoder(pt,ce.decoder,tt,"value")})),ze&&ee.interpretNumericEntities&&"iso-8859-1"===tt&&(ze=ze.replace(/&#(\d+);/g,function(ne,ee){return String.fromCharCode(parseInt(ee,10))})),_t.indexOf("[]=")>-1&&(ze=re(ze)?[ze]:ze),Se[Jt]=y.call(Se,Jt)?a.combine(Se[Jt],ze):ze}return Se}(Ce,ee):Ce,ue=ee.plainObjects?Object.create(null):{},Re=Object.keys(Se),we=0;we<Re.length;++we){var it=Re[we],Ze=fe(it,Se[it],ee,"string"==typeof Ce);ue=a.merge(ue,Ze,ee)}return a.compact(ue)}},3726:(Kt,st,F)=>{"use strict";var a=F(4393),y=F(9165),re=Object.prototype.hasOwnProperty,ce={brackets:function(Se){return Se+"[]"},comma:"comma",indices:function(Se,ue){return Se+"["+ue+"]"},repeat:function(Se){return Se}},Ie=Array.isArray,ae=String.prototype.split,Pe=Array.prototype.push,Ne=function(ee,Se){Pe.apply(ee,Ie(Se)?Se:[Se])},Le=Date.prototype.toISOString,Ee=y.default,fe={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,format:Ee,formatter:y.formatters[Ee],indices:!1,serializeDate:function(Se){return Le.call(Se)},skipNulls:!1,strictNullHandling:!1},Ce=function ee(Se,ue,Re,we,it,Ze,tt,_t,Ve,Tt,Jt,ze,pt,Dt){var Et=Se;if("function"==typeof tt?Et=tt(ue,Et):Et instanceof Date?Et=Tt(Et):"comma"===Re&&Ie(Et)&&(Et=a.maybeMap(Et,function(Ut){return Ut instanceof Date?Tt(Ut):Ut})),null===Et){if(we)return Ze&&!pt?Ze(ue,fe.encoder,Dt,"key",Jt):ue;Et=""}if(function(Se){return"string"==typeof Se||"number"==typeof Se||"boolean"==typeof Se||"symbol"==typeof Se||"bigint"==typeof Se}(Et)||a.isBuffer(Et)){if(Ze){var tn=pt?ue:Ze(ue,fe.encoder,Dt,"key",Jt);if("comma"===Re&&pt){for(var bt=ae.call(String(Et),","),Qn="",qt=0;qt<bt.length;++qt)Qn+=(0===qt?"":",")+ze(Ze(bt[qt],fe.encoder,Dt,"value",Jt));return[ze(tn)+"="+Qn]}return[ze(tn)+"="+ze(Ze(Et,fe.encoder,Dt,"value",Jt))]}return[ze(ue)+"="+ze(String(Et))]}var zt,kt=[];if(void 0===Et)return kt;if("comma"===Re&&Ie(Et))zt=[{value:Et.length>0?Et.join(",")||null:void 0}];else if(Ie(tt))zt=tt;else{var Rt=Object.keys(Et);zt=_t?Rt.sort(_t):Rt}for(var Dn=0;Dn<zt.length;++Dn){var In=zt[Dn],It="object"==typeof In&&void 0!==In.value?In.value:Et[In];if(!it||null!==It){var At=Ie(Et)?"function"==typeof Re?Re(ue,In):ue:ue+(Ve?"."+In:"["+In+"]");Ne(kt,ee(It,At,Re,we,it,Ze,tt,_t,Ve,Tt,Jt,ze,pt,Dt))}}return kt};Kt.exports=function(ee,Se){var we,ue=ee,Re=function(Se){if(!Se)return fe;if(null!=Se.encoder&&"function"!=typeof Se.encoder)throw new TypeError("Encoder has to be a function.");var ue=Se.charset||fe.charset;if(void 0!==Se.charset&&"utf-8"!==Se.charset&&"iso-8859-1"!==Se.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var Re=y.default;if(void 0!==Se.format){if(!re.call(y.formatters,Se.format))throw new TypeError("Unknown format option provided.");Re=Se.format}var we=y.formatters[Re],it=fe.filter;return("function"==typeof Se.filter||Ie(Se.filter))&&(it=Se.filter),{addQueryPrefix:"boolean"==typeof Se.addQueryPrefix?Se.addQueryPrefix:fe.addQueryPrefix,allowDots:void 0===Se.allowDots?fe.allowDots:!!Se.allowDots,charset:ue,charsetSentinel:"boolean"==typeof Se.charsetSentinel?Se.charsetSentinel:fe.charsetSentinel,delimiter:void 0===Se.delimiter?fe.delimiter:Se.delimiter,encode:"boolean"==typeof Se.encode?Se.encode:fe.encode,encoder:"function"==typeof Se.encoder?Se.encoder:fe.encoder,encodeValuesOnly:"boolean"==typeof Se.encodeValuesOnly?Se.encodeValuesOnly:fe.encodeValuesOnly,filter:it,format:Re,formatter:we,serializeDate:"function"==typeof Se.serializeDate?Se.serializeDate:fe.serializeDate,skipNulls:"boolean"==typeof Se.skipNulls?Se.skipNulls:fe.skipNulls,sort:"function"==typeof Se.sort?Se.sort:null,strictNullHandling:"boolean"==typeof Se.strictNullHandling?Se.strictNullHandling:fe.strictNullHandling}}(Se);"function"==typeof Re.filter?ue=(0,Re.filter)("",ue):Ie(Re.filter)&&(we=Re.filter);var Ze=[];if("object"!=typeof ue||null===ue)return"";var _t=ce[Se&&Se.arrayFormat in ce?Se.arrayFormat:Se&&"indices"in Se?Se.indices?"indices":"repeat":"indices"];we||(we=Object.keys(ue)),Re.sort&&we.sort(Re.sort);for(var Ve=0;Ve<we.length;++Ve){var Tt=we[Ve];Re.skipNulls&&null===ue[Tt]||Ne(Ze,Ce(ue[Tt],Tt,_t,Re.strictNullHandling,Re.skipNulls,Re.encode?Re.encoder:null,Re.filter,Re.sort,Re.allowDots,Re.serializeDate,Re.format,Re.formatter,Re.encodeValuesOnly,Re.charset))}var Jt=Ze.join(Re.delimiter),ze=!0===Re.addQueryPrefix?"?":"";return Re.charsetSentinel&&(ze+="iso-8859-1"===Re.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),Jt.length>0?ze+Jt:""}},4393:(Kt,st,F)=>{"use strict";var a=F(9165),y=Object.prototype.hasOwnProperty,re=Array.isArray,ce=function(){for(var Se=[],ue=0;ue<256;++ue)Se.push("%"+((ue<16?"0":"")+ue.toString(16)).toUpperCase());return Se}(),ae=function(ue,Re){for(var we=Re&&Re.plainObjects?Object.create(null):{},it=0;it<ue.length;++it)void 0!==ue[it]&&(we[it]=ue[it]);return we};Kt.exports={arrayToObject:ae,assign:function(ue,Re){return Object.keys(Re).reduce(function(we,it){return we[it]=Re[it],we},ue)},combine:function(ue,Re){return[].concat(ue,Re)},compact:function(ue){for(var Re=[{obj:{o:ue},prop:"o"}],we=[],it=0;it<Re.length;++it)for(var Ze=Re[it],tt=Ze.obj[Ze.prop],_t=Object.keys(tt),Ve=0;Ve<_t.length;++Ve){var Tt=_t[Ve],Jt=tt[Tt];"object"==typeof Jt&&null!==Jt&&-1===we.indexOf(Jt)&&(Re.push({obj:tt,prop:Tt}),we.push(Jt))}return function(ue){for(;ue.length>1;){var Re=ue.pop(),we=Re.obj[Re.prop];if(re(we)){for(var it=[],Ze=0;Ze<we.length;++Ze)void 0!==we[Ze]&&it.push(we[Ze]);Re.obj[Re.prop]=it}}}(Re),ue},decode:function(Se,ue,Re){var we=Se.replace(/\+/g," ");if("iso-8859-1"===Re)return we.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(we)}catch(it){return we}},encode:function(ue,Re,we,it,Ze){if(0===ue.length)return ue;var tt=ue;if("symbol"==typeof ue?tt=Symbol.prototype.toString.call(ue):"string"!=typeof ue&&(tt=String(ue)),"iso-8859-1"===we)return escape(tt).replace(/%u[0-9a-f]{4}/gi,function(Jt){return"%26%23"+parseInt(Jt.slice(2),16)+"%3B"});for(var _t="",Ve=0;Ve<tt.length;++Ve){var Tt=tt.charCodeAt(Ve);45===Tt||46===Tt||95===Tt||126===Tt||Tt>=48&&Tt<=57||Tt>=65&&Tt<=90||Tt>=97&&Tt<=122||Ze===a.RFC1738&&(40===Tt||41===Tt)?_t+=tt.charAt(Ve):Tt<128?_t+=ce[Tt]:Tt<2048?_t+=ce[192|Tt>>6]+ce[128|63&Tt]:Tt<55296||Tt>=57344?_t+=ce[224|Tt>>12]+ce[128|Tt>>6&63]+ce[128|63&Tt]:(Tt=65536+((1023&Tt)<<10|1023&tt.charCodeAt(Ve+=1)),_t+=ce[240|Tt>>18]+ce[128|Tt>>12&63]+ce[128|Tt>>6&63]+ce[128|63&Tt])}return _t},isBuffer:function(ue){return!(!ue||"object"!=typeof ue||!(ue.constructor&&ue.constructor.isBuffer&&ue.constructor.isBuffer(ue)))},isRegExp:function(ue){return"[object RegExp]"===Object.prototype.toString.call(ue)},maybeMap:function(ue,Re){if(re(ue)){for(var we=[],it=0;it<ue.length;it+=1)we.push(Re(ue[it]));return we}return Re(ue)},merge:function Se(ue,Re,we){if(!Re)return ue;if("object"!=typeof Re){if(re(ue))ue.push(Re);else{if(!ue||"object"!=typeof ue)return[ue,Re];(we&&(we.plainObjects||we.allowPrototypes)||!y.call(Object.prototype,Re))&&(ue[Re]=!0)}return ue}if(!ue||"object"!=typeof ue)return[ue].concat(Re);var it=ue;return re(ue)&&!re(Re)&&(it=ae(ue,we)),re(ue)&&re(Re)?(Re.forEach(function(Ze,tt){if(y.call(ue,tt)){var _t=ue[tt];_t&&"object"==typeof _t&&Ze&&"object"==typeof Ze?ue[tt]=Se(_t,Ze,we):ue.push(Ze)}else ue[tt]=Ze}),ue):Object.keys(Re).reduce(function(Ze,tt){var _t=Re[tt];return Ze[tt]=y.call(Ze,tt)?Se(Ze[tt],_t,we):_t,Ze},it)}}},9146:Kt=>{"use strict";var st=function(re){switch(typeof re){case"string":return re;case"boolean":return re?"true":"false";case"number":return isFinite(re)?re:"";default:return""}};Kt.exports=function(re,ce,Ie,ae){return ce=ce||"&",Ie=Ie||"=",null===re&&(re=void 0),"object"==typeof re?a(y(re),function(Pe){var Ne=encodeURIComponent(st(Pe))+Ie;return F(re[Pe])?a(re[Pe],function(Le){return Ne+encodeURIComponent(st(Le))}).join(ce):Ne+encodeURIComponent(st(re[Pe]))}).join(ce):ae?encodeURIComponent(st(ae))+Ie+encodeURIComponent(st(re)):""};var F=Array.isArray||function(re){return"[object Array]"===Object.prototype.toString.call(re)};function a(re,ce){if(re.map)return re.map(ce);for(var Ie=[],ae=0;ae<re.length;ae++)Ie.push(ce(re[ae],ae));return Ie}var y=Object.keys||function(re){var ce=[];for(var Ie in re)Object.prototype.hasOwnProperty.call(re,Ie)&&ce.push(Ie);return ce}},8306:(Kt,st,F)=>{"use strict";F.d(st,{y:()=>Ee});var a=F(930),y=F(727),re=F(8822),ce=F(4671);var Pe=F(2416),Ne=F(576),Le=F(2806);let Ee=(()=>{class ne{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const ue=new ne;return ue.source=this,ue.operator=Se,ue}subscribe(Se,ue,Re){const we=function Ce(ne){return ne&&ne instanceof a.Lv||function Ae(ne){return ne&&(0,Ne.m)(ne.next)&&(0,Ne.m)(ne.error)&&(0,Ne.m)(ne.complete)}(ne)&&(0,y.Nn)(ne)}(Se)?Se:new a.Hp(Se,ue,Re);return(0,Le.x)(()=>{const{operator:it,source:Ze}=this;we.add(it?it.call(we,Ze):Ze?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(Se){try{return this._subscribe(Se)}catch(ue){Se.error(ue)}}forEach(Se,ue){return new(ue=fe(ue))((Re,we)=>{const it=new a.Hp({next:Ze=>{try{Se(Ze)}catch(tt){we(tt),it.unsubscribe()}},error:we,complete:Re});this.subscribe(it)})}_subscribe(Se){var ue;return null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(Se)}[re.L](){return this}pipe(...Se){return function ae(ne){return 0===ne.length?ce.y:1===ne.length?ne[0]:function(Se){return ne.reduce((ue,Re)=>Re(ue),Se)}}(Se)(this)}toPromise(Se){return new(Se=fe(Se))((ue,Re)=>{let we;this.subscribe(it=>we=it,it=>Re(it),()=>ue(we))})}}return ne.create=ee=>new ne(ee),ne})();function fe(ne){var ee;return null!==(ee=null!=ne?ne:Pe.v.Promise)&&void 0!==ee?ee:Promise}},7579:(Kt,st,F)=>{"use strict";F.d(st,{x:()=>Pe});var a=F(8306),y=F(727);const ce=(0,F(3888).d)(Le=>function(){Le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ie=F(8737),ae=F(2806);let Pe=(()=>{class Le extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const Ae=new Ne(this,this);return Ae.operator=fe,Ae}_throwIfClosed(){if(this.closed)throw new ce}next(fe){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ae of this.currentObservers)Ae.next(fe)}})}error(fe){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().error(fe)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:Ae,isStopped:Ce,observers:ne}=this;return Ae||Ce?y.Lc:(this.currentObservers=null,ne.push(fe),new y.w0(()=>{this.currentObservers=null,(0,Ie.P)(ne,fe)}))}_checkFinalizedStatuses(fe){const{hasError:Ae,thrownError:Ce,isStopped:ne}=this;Ae?fe.error(Ce):ne&&fe.complete()}asObservable(){const fe=new a.y;return fe.source=this,fe}}return Le.create=(Ee,fe)=>new Ne(Ee,fe),Le})();class Ne extends Pe{constructor(Ee,fe){super(),this.destination=Ee,this.source=fe}next(Ee){var fe,Ae;null===(Ae=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===Ae||Ae.call(fe,Ee)}error(Ee){var fe,Ae;null===(Ae=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===Ae||Ae.call(fe,Ee)}complete(){var Ee,fe;null===(fe=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.complete)||void 0===fe||fe.call(Ee)}_subscribe(Ee){var fe,Ae;return null!==(Ae=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Ee))&&void 0!==Ae?Ae:y.Lc}}},930:(Kt,st,F)=>{"use strict";F.d(st,{Hp:()=>Se,Lv:()=>Ae});var a=F(576),y=F(727),re=F(2416),ce=F(7849),Ie=F(5032);const ae=Le("C",void 0,void 0);function Le(Ze,tt,_t){return{kind:Ze,value:tt,error:_t}}var Ee=F(3410),fe=F(2806);class Ae extends y.w0{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,y.Nn)(tt)&&tt.add(this)):this.destination=it}static create(tt,_t,Ve){return new Se(tt,_t,Ve)}next(tt){this.isStopped?we(function Ne(Ze){return Le("N",Ze,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?we(function Pe(Ze){return Le("E",void 0,Ze)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?we(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ce=Function.prototype.bind;function ne(Ze,tt){return Ce.call(Ze,tt)}class ee{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:_t}=this;if(_t.next)try{_t.next(tt)}catch(Ve){ue(Ve)}}error(tt){const{partialObserver:_t}=this;if(_t.error)try{_t.error(tt)}catch(Ve){ue(Ve)}else ue(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(_t){ue(_t)}}}class Se extends Ae{constructor(tt,_t,Ve){let Tt;if(super(),(0,a.m)(tt)||!tt)Tt={next:null!=tt?tt:void 0,error:null!=_t?_t:void 0,complete:null!=Ve?Ve:void 0};else{let Jt;this&&re.v.useDeprecatedNextContext?(Jt=Object.create(tt),Jt.unsubscribe=()=>this.unsubscribe(),Tt={next:tt.next&&ne(tt.next,Jt),error:tt.error&&ne(tt.error,Jt),complete:tt.complete&&ne(tt.complete,Jt)}):Tt=tt}this.destination=new ee(Tt)}}function ue(Ze){re.v.useDeprecatedSynchronousErrorHandling?(0,fe.O)(Ze):(0,ce.h)(Ze)}function we(Ze,tt){const{onStoppedNotification:_t}=re.v;_t&&Ee.z.setTimeout(()=>_t(Ze,tt))}const it={closed:!0,next:Ie.Z,error:function Re(Ze){throw Ze},complete:Ie.Z}},727:(Kt,st,F)=>{"use strict";F.d(st,{Lc:()=>ae,w0:()=>Ie,Nn:()=>Pe});var a=F(576);const re=(0,F(3888).d)(Le=>function(fe){Le(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((Ae,Ce)=>`${Ce+1}) ${Ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var ce=F(8737);class Ie{constructor(Ee){this.initialTeardown=Ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ee;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const ne of fe)ne.remove(this);else fe.remove(this);const{initialTeardown:Ae}=this;if((0,a.m)(Ae))try{Ae()}catch(ne){Ee=ne instanceof re?ne.errors:[ne]}const{_finalizers:Ce}=this;if(Ce){this._finalizers=null;for(const ne of Ce)try{Ne(ne)}catch(ee){Ee=null!=Ee?Ee:[],ee instanceof re?Ee=[...Ee,...ee.errors]:Ee.push(ee)}}if(Ee)throw new re(Ee)}}add(Ee){var fe;if(Ee&&Ee!==this)if(this.closed)Ne(Ee);else{if(Ee instanceof Ie){if(Ee.closed||Ee._hasParent(this))return;Ee._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(Ee)}}_hasParent(Ee){const{_parentage:fe}=this;return fe===Ee||Array.isArray(fe)&&fe.includes(Ee)}_addParent(Ee){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(Ee),fe):fe?[fe,Ee]:Ee}_removeParent(Ee){const{_parentage:fe}=this;fe===Ee?this._parentage=null:Array.isArray(fe)&&(0,ce.P)(fe,Ee)}remove(Ee){const{_finalizers:fe}=this;fe&&(0,ce.P)(fe,Ee),Ee instanceof Ie&&Ee._removeParent(this)}}Ie.EMPTY=(()=>{const Le=new Ie;return Le.closed=!0,Le})();const ae=Ie.EMPTY;function Pe(Le){return Le instanceof Ie||Le&&"closed"in Le&&(0,a.m)(Le.remove)&&(0,a.m)(Le.add)&&(0,a.m)(Le.unsubscribe)}function Ne(Le){(0,a.m)(Le)?Le():Le.unsubscribe()}},2416:(Kt,st,F)=>{"use strict";F.d(st,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Kt,st,F)=>{"use strict";F.d(st,{z:()=>Ie});var a=F(8189),re=F(3269),ce=F(8996);function Ie(...ae){return function y(){return(0,a.J)(1)}()((0,ce.D)(ae,(0,re.yG)(ae)))}},515:(Kt,st,F)=>{"use strict";F.d(st,{E:()=>y,c:()=>re});var a=F(8306);const y=new a.y(Ie=>Ie.complete());function re(Ie){return Ie?function ce(Ie){return new a.y(ae=>Ie.schedule(()=>ae.complete()))}(Ie):y}},8996:(Kt,st,F)=>{"use strict";F.d(st,{D:()=>tt});var a=F(8421),y=F(5363),re=F(9468),ae=F(8306),Ne=F(2202),Le=F(576),Ee=F(9672);function Ae(_t,Ve){if(!_t)throw new Error("Iterable cannot be null");return new ae.y(Tt=>{(0,Ee.f)(Tt,Ve,()=>{const Jt=_t[Symbol.asyncIterator]();(0,Ee.f)(Tt,Ve,()=>{Jt.next().then(ze=>{ze.done?Tt.complete():Tt.next(ze.value)})},0,!0)})})}var Ce=F(3670),ne=F(8239),ee=F(1144),Se=F(6495),ue=F(2206),Re=F(4532),we=F(3260);function tt(_t,Ve){return Ve?function Ze(_t,Ve){if(null!=_t){if((0,Ce.c)(_t))return function ce(_t,Ve){return(0,a.Xf)(_t).pipe((0,re.R)(Ve),(0,y.Q)(Ve))}(_t,Ve);if((0,ee.z)(_t))return function Pe(_t,Ve){return new ae.y(Tt=>{let Jt=0;return Ve.schedule(function(){Jt===_t.length?Tt.complete():(Tt.next(_t[Jt++]),Tt.closed||this.schedule())})})}(_t,Ve);if((0,ne.t)(_t))return function Ie(_t,Ve){return(0,a.Xf)(_t).pipe((0,re.R)(Ve),(0,y.Q)(Ve))}(_t,Ve);if((0,ue.D)(_t))return Ae(_t,Ve);if((0,Se.T)(_t))return function fe(_t,Ve){return new ae.y(Tt=>{let Jt;return(0,Ee.f)(Tt,Ve,()=>{Jt=_t[Ne.h](),(0,Ee.f)(Tt,Ve,()=>{let ze,pt;try{({value:ze,done:pt}=Jt.next())}catch(Dt){return void Tt.error(Dt)}pt?Tt.complete():Tt.next(ze)},0,!0)}),()=>(0,Le.m)(null==Jt?void 0:Jt.return)&&Jt.return()})}(_t,Ve);if((0,we.L)(_t))return function it(_t,Ve){return Ae((0,we.Q)(_t),Ve)}(_t,Ve)}throw(0,Re.z)(_t)}(_t,Ve):(0,a.Xf)(_t)}},8421:(Kt,st,F)=>{"use strict";F.d(st,{Xf:()=>Ce});var a=F(655),y=F(1144),re=F(8239),ce=F(8306),Ie=F(3670),ae=F(2206),Pe=F(4532),Ne=F(6495),Le=F(3260),Ee=F(576),fe=F(7849),Ae=F(8822);function Ce(Ze){if(Ze instanceof ce.y)return Ze;if(null!=Ze){if((0,Ie.c)(Ze))return function ne(Ze){return new ce.y(tt=>{const _t=Ze[Ae.L]();if((0,Ee.m)(_t.subscribe))return _t.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ze);if((0,y.z)(Ze))return function ee(Ze){return new ce.y(tt=>{for(let _t=0;_t<Ze.length&&!tt.closed;_t++)tt.next(Ze[_t]);tt.complete()})}(Ze);if((0,re.t)(Ze))return function Se(Ze){return new ce.y(tt=>{Ze.then(_t=>{tt.closed||(tt.next(_t),tt.complete())},_t=>tt.error(_t)).then(null,fe.h)})}(Ze);if((0,ae.D)(Ze))return Re(Ze);if((0,Ne.T)(Ze))return function ue(Ze){return new ce.y(tt=>{for(const _t of Ze)if(tt.next(_t),tt.closed)return;tt.complete()})}(Ze);if((0,Le.L)(Ze))return function we(Ze){return Re((0,Le.Q)(Ze))}(Ze)}throw(0,Pe.z)(Ze)}function Re(Ze){return new ce.y(tt=>{(function it(Ze,tt){var _t,Ve,Tt,Jt;return(0,a.mG)(this,void 0,void 0,function*(){try{for(_t=(0,a.KL)(Ze);!(Ve=yield _t.next()).done;)if(tt.next(Ve.value),tt.closed)return}catch(ze){Tt={error:ze}}finally{try{Ve&&!Ve.done&&(Jt=_t.return)&&(yield Jt.call(_t))}finally{if(Tt)throw Tt.error}}tt.complete()})})(Ze,tt).catch(_t=>tt.error(_t))})}},6451:(Kt,st,F)=>{"use strict";F.d(st,{T:()=>ae});var a=F(8189),y=F(8421),re=F(515),ce=F(3269),Ie=F(8996);function ae(...Pe){const Ne=(0,ce.yG)(Pe),Le=(0,ce._6)(Pe,1/0),Ee=Pe;return Ee.length?1===Ee.length?(0,y.Xf)(Ee[0]):(0,a.J)(Le)((0,Ie.D)(Ee,Ne)):re.E}},9646:(Kt,st,F)=>{"use strict";F.d(st,{of:()=>re});var a=F(3269),y=F(8996);function re(...ce){const Ie=(0,a.yG)(ce);return(0,y.D)(ce,Ie)}},5403:(Kt,st,F)=>{"use strict";F.d(st,{x:()=>y});var a=F(930);function y(ce,Ie,ae,Pe,Ne){return new re(ce,Ie,ae,Pe,Ne)}class re extends a.Lv{constructor(Ie,ae,Pe,Ne,Le,Ee){super(Ie),this.onFinalize=Le,this.shouldUnsubscribe=Ee,this._next=ae?function(fe){try{ae(fe)}catch(Ae){Ie.error(Ae)}}:super._next,this._error=Ne?function(fe){try{Ne(fe)}catch(Ae){Ie.error(Ae)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(fe){Ie.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(Ie=this.onFinalize)||void 0===Ie||Ie.call(this))}}}},4351:(Kt,st,F)=>{"use strict";F.d(st,{b:()=>re});var a=F(6099),y=F(576);function re(ce,Ie){return(0,y.m)(Ie)?(0,a.z)(ce,Ie,1):(0,a.z)(ce,1)}},6590:(Kt,st,F)=>{"use strict";F.d(st,{d:()=>re});var a=F(4482),y=F(5403);function re(ce){return(0,a.e)((Ie,ae)=>{let Pe=!1;Ie.subscribe((0,y.x)(ae,Ne=>{Pe=!0,ae.next(Ne)},()=>{Pe||ae.next(ce),ae.complete()}))})}},1884:(Kt,st,F)=>{"use strict";F.d(st,{x:()=>ce});var a=F(4671),y=F(4482),re=F(5403);function ce(ae,Pe=a.y){return ae=null!=ae?ae:Ie,(0,y.e)((Ne,Le)=>{let Ee,fe=!0;Ne.subscribe((0,re.x)(Le,Ae=>{const Ce=Pe(Ae);(fe||!ae(Ee,Ce))&&(fe=!1,Ee=Ce,Le.next(Ae))}))})}function Ie(ae,Pe){return ae===Pe}},9300:(Kt,st,F)=>{"use strict";F.d(st,{h:()=>re});var a=F(4482),y=F(5403);function re(ce,Ie){return(0,a.e)((ae,Pe)=>{let Ne=0;ae.subscribe((0,y.x)(Pe,Le=>ce.call(Ie,Le,Ne++)&&Pe.next(Le)))})}},8746:(Kt,st,F)=>{"use strict";F.d(st,{x:()=>y});var a=F(4482);function y(re){return(0,a.e)((ce,Ie)=>{try{ce.subscribe(Ie)}finally{Ie.add(re)}})}},590:(Kt,st,F)=>{"use strict";F.d(st,{P:()=>Pe});var a=F(6805),y=F(9300),re=F(5698),ce=F(6590),Ie=F(8068),ae=F(4671);function Pe(Ne,Le){const Ee=arguments.length>=2;return fe=>fe.pipe(Ne?(0,y.h)((Ae,Ce)=>Ne(Ae,Ce,fe)):ae.y,(0,re.q)(1),Ee?(0,ce.d)(Le):(0,Ie.T)(()=>new a.K))}},4004:(Kt,st,F)=>{"use strict";F.d(st,{U:()=>re});var a=F(4482),y=F(5403);function re(ce,Ie){return(0,a.e)((ae,Pe)=>{let Ne=0;ae.subscribe((0,y.x)(Pe,Le=>{Pe.next(ce.call(Ie,Le,Ne++))}))})}},8189:(Kt,st,F)=>{"use strict";F.d(st,{J:()=>re});var a=F(6099),y=F(4671);function re(ce=1/0){return(0,a.z)(y.y,ce)}},2733:(Kt,st,F)=>{"use strict";F.d(st,{p:()=>ce});var a=F(8421),y=F(9672),re=F(5403);function ce(Ie,ae,Pe,Ne,Le,Ee,fe,Ae){const Ce=[];let ne=0,ee=0,Se=!1;const ue=()=>{Se&&!Ce.length&&!ne&&ae.complete()},Re=it=>ne<Ne?we(it):Ce.push(it),we=it=>{Ee&&ae.next(it),ne++;let Ze=!1;(0,a.Xf)(Pe(it,ee++)).subscribe((0,re.x)(ae,tt=>{null==Le||Le(tt),Ee?Re(tt):ae.next(tt)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(ne--;Ce.length&&ne<Ne;){const tt=Ce.shift();fe?(0,y.f)(ae,fe,()=>we(tt)):we(tt)}ue()}catch(tt){ae.error(tt)}}))};return Ie.subscribe((0,re.x)(ae,Re,()=>{Se=!0,ue()})),()=>{null==Ae||Ae()}}},6099:(Kt,st,F)=>{"use strict";F.d(st,{z:()=>ae});var a=F(4004),y=F(8421),re=F(4482),ce=F(2733),Ie=F(576);function ae(Pe,Ne,Le=1/0){return(0,Ie.m)(Ne)?ae((Ee,fe)=>(0,a.U)((Ae,Ce)=>Ne(Ee,Ae,fe,Ce))((0,y.Xf)(Pe(Ee,fe))),Le):("number"==typeof Ne&&(Le=Ne),(0,re.e)((Ee,fe)=>(0,ce.p)(Ee,fe,Pe,Le)))}},5363:(Kt,st,F)=>{"use strict";F.d(st,{Q:()=>ce});var a=F(9672),y=F(4482),re=F(5403);function ce(Ie,ae=0){return(0,y.e)((Pe,Ne)=>{Pe.subscribe((0,re.x)(Ne,Le=>(0,a.f)(Ne,Ie,()=>Ne.next(Le),ae),()=>(0,a.f)(Ne,Ie,()=>Ne.complete(),ae),Le=>(0,a.f)(Ne,Ie,()=>Ne.error(Le),ae)))})}},5026:(Kt,st,F)=>{"use strict";F.d(st,{R:()=>ce});var a=F(4482),y=F(5403);function re(Ie,ae,Pe,Ne,Le){return(Ee,fe)=>{let Ae=Pe,Ce=ae,ne=0;Ee.subscribe((0,y.x)(fe,ee=>{const Se=ne++;Ce=Ae?Ie(Ce,ee,Se):(Ae=!0,ee),Ne&&fe.next(Ce)},Le&&(()=>{Ae&&fe.next(Ce),fe.complete()})))}}function ce(Ie,ae){return(0,a.e)(re(Ie,ae,arguments.length>=2,!0))}},3099:(Kt,st,F)=>{"use strict";F.d(st,{B:()=>ae});var a=F(8996),y=F(5698),re=F(7579),ce=F(930),Ie=F(4482);function ae(Ne={}){const{connector:Le=(()=>new re.x),resetOnError:Ee=!0,resetOnComplete:fe=!0,resetOnRefCountZero:Ae=!0}=Ne;return Ce=>{let ne=null,ee=null,Se=null,ue=0,Re=!1,we=!1;const it=()=>{null==ee||ee.unsubscribe(),ee=null},Ze=()=>{it(),ne=Se=null,Re=we=!1},tt=()=>{const _t=ne;Ze(),null==_t||_t.unsubscribe()};return(0,Ie.e)((_t,Ve)=>{ue++,!we&&!Re&&it();const Tt=Se=null!=Se?Se:Le();Ve.add(()=>{ue--,0===ue&&!we&&!Re&&(ee=Pe(tt,Ae))}),Tt.subscribe(Ve),ne||(ne=new ce.Hp({next:Jt=>Tt.next(Jt),error:Jt=>{we=!0,it(),ee=Pe(Ze,Ee,Jt),Tt.error(Jt)},complete:()=>{Re=!0,it(),ee=Pe(Ze,fe),Tt.complete()}}),(0,a.D)(_t).subscribe(ne))})(Ce)}}function Pe(Ne,Le,...Ee){return!0===Le?(Ne(),null):!1===Le?null:Le(...Ee).pipe((0,y.q)(1)).subscribe(()=>Ne())}},8675:(Kt,st,F)=>{"use strict";F.d(st,{O:()=>ce});var a=F(7272),y=F(3269),re=F(4482);function ce(...Ie){const ae=(0,y.yG)(Ie);return(0,re.e)((Pe,Ne)=>{(ae?(0,a.z)(Ie,Pe,ae):(0,a.z)(Ie,Pe)).subscribe(Ne)})}},9468:(Kt,st,F)=>{"use strict";F.d(st,{R:()=>y});var a=F(4482);function y(re,ce=0){return(0,a.e)((Ie,ae)=>{ae.add(re.schedule(()=>Ie.subscribe(ae),ce))})}},3900:(Kt,st,F)=>{"use strict";F.d(st,{w:()=>ce});var a=F(8421),y=F(4482),re=F(5403);function ce(Ie,ae){return(0,y.e)((Pe,Ne)=>{let Le=null,Ee=0,fe=!1;const Ae=()=>fe&&!Le&&Ne.complete();Pe.subscribe((0,re.x)(Ne,Ce=>{null==Le||Le.unsubscribe();let ne=0;const ee=Ee++;(0,a.Xf)(Ie(Ce,ee)).subscribe(Le=(0,re.x)(Ne,Se=>Ne.next(ae?ae(Ce,Se,ee,ne++):Se),()=>{Le=null,Ae()}))},()=>{fe=!0,Ae()}))})}},5698:(Kt,st,F)=>{"use strict";F.d(st,{q:()=>ce});var a=F(515),y=F(4482),re=F(5403);function ce(Ie){return Ie<=0?()=>a.E:(0,y.e)((ae,Pe)=>{let Ne=0;ae.subscribe((0,re.x)(Pe,Le=>{++Ne<=Ie&&(Pe.next(Le),Ie<=Ne&&Pe.complete())}))})}},8505:(Kt,st,F)=>{"use strict";F.d(st,{b:()=>Ie});var a=F(576),y=F(4482),re=F(5403),ce=F(4671);function Ie(ae,Pe,Ne){const Le=(0,a.m)(ae)||Pe||Ne?{next:ae,error:Pe,complete:Ne}:ae;return Le?(0,y.e)((Ee,fe)=>{var Ae;null===(Ae=Le.subscribe)||void 0===Ae||Ae.call(Le);let Ce=!0;Ee.subscribe((0,re.x)(fe,ne=>{var ee;null===(ee=Le.next)||void 0===ee||ee.call(Le,ne),fe.next(ne)},()=>{var ne;Ce=!1,null===(ne=Le.complete)||void 0===ne||ne.call(Le),fe.complete()},ne=>{var ee;Ce=!1,null===(ee=Le.error)||void 0===ee||ee.call(Le,ne),fe.error(ne)},()=>{var ne,ee;Ce&&(null===(ne=Le.unsubscribe)||void 0===ne||ne.call(Le)),null===(ee=Le.finalize)||void 0===ee||ee.call(Le)}))}):ce.y}},8068:(Kt,st,F)=>{"use strict";F.d(st,{T:()=>ce});var a=F(6805),y=F(4482),re=F(5403);function ce(ae=Ie){return(0,y.e)((Pe,Ne)=>{let Le=!1;Pe.subscribe((0,re.x)(Ne,Ee=>{Le=!0,Ne.next(Ee)},()=>Le?Ne.complete():Ne.error(ae())))})}function Ie(){return new a.K}},4408:(Kt,st,F)=>{"use strict";F.d(st,{o:()=>Ie});var a=F(727);class y extends a.w0{constructor(Pe,Ne){super()}schedule(Pe,Ne=0){return this}}const re={setInterval(ae,Pe,...Ne){const{delegate:Le}=re;return(null==Le?void 0:Le.setInterval)?Le.setInterval(ae,Pe,...Ne):setInterval(ae,Pe,...Ne)},clearInterval(ae){const{delegate:Pe}=re;return((null==Pe?void 0:Pe.clearInterval)||clearInterval)(ae)},delegate:void 0};var ce=F(8737);class Ie extends y{constructor(Pe,Ne){super(Pe,Ne),this.scheduler=Pe,this.work=Ne,this.pending=!1}schedule(Pe,Ne=0){if(this.closed)return this;this.state=Pe;const Le=this.id,Ee=this.scheduler;return null!=Le&&(this.id=this.recycleAsyncId(Ee,Le,Ne)),this.pending=!0,this.delay=Ne,this.id=this.id||this.requestAsyncId(Ee,this.id,Ne),this}requestAsyncId(Pe,Ne,Le=0){return re.setInterval(Pe.flush.bind(Pe,this),Le)}recycleAsyncId(Pe,Ne,Le=0){if(null!=Le&&this.delay===Le&&!1===this.pending)return Ne;re.clearInterval(Ne)}execute(Pe,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Le=this._execute(Pe,Ne);if(Le)return Le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,Ne){let Ee,Le=!1;try{this.work(Pe)}catch(fe){Le=!0,Ee=fe||new Error("Scheduled action threw falsy error")}if(Le)return this.unsubscribe(),Ee}unsubscribe(){if(!this.closed){const{id:Pe,scheduler:Ne}=this,{actions:Le}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(Le,this),null!=Pe&&(this.id=this.recycleAsyncId(Ne,Pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Kt,st,F)=>{"use strict";F.d(st,{v:()=>re});var a=F(6063);class y{constructor(Ie,ae=y.now){this.schedulerActionCtor=Ie,this.now=ae}schedule(Ie,ae=0,Pe){return new this.schedulerActionCtor(this,Ie).schedule(Pe,ae)}}y.now=a.l.now;class re extends y{constructor(Ie,ae=y.now){super(Ie,ae),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ie){const{actions:ae}=this;if(this._active)return void ae.push(Ie);let Pe;this._active=!0;do{if(Pe=Ie.execute(Ie.state,Ie.delay))break}while(Ie=ae.shift());if(this._active=!1,Pe){for(;Ie=ae.shift();)Ie.unsubscribe();throw Pe}}}},4986:(Kt,st,F)=>{"use strict";F.d(st,{z:()=>re,P:()=>ce});var a=F(4408);const re=new(F(7565).v)(a.o),ce=re},6063:(Kt,st,F)=>{"use strict";F.d(st,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(Kt,st,F)=>{"use strict";F.d(st,{z:()=>a});const a={setTimeout(y,re,...ce){const{delegate:Ie}=a;return(null==Ie?void 0:Ie.setTimeout)?Ie.setTimeout(y,re,...ce):setTimeout(y,re,...ce)},clearTimeout(y){const{delegate:re}=a;return((null==re?void 0:re.clearTimeout)||clearTimeout)(y)},delegate:void 0}},2202:(Kt,st,F)=>{"use strict";F.d(st,{h:()=>y});const y=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Kt,st,F)=>{"use strict";F.d(st,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Kt,st,F)=>{"use strict";F.d(st,{K:()=>y});const y=(0,F(3888).d)(re=>function(){re(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Kt,st,F)=>{"use strict";F.d(st,{jO:()=>ce,yG:()=>Ie,_6:()=>ae});var a=F(576),y=F(3532);function re(Pe){return Pe[Pe.length-1]}function ce(Pe){return(0,a.m)(re(Pe))?Pe.pop():void 0}function Ie(Pe){return(0,y.K)(re(Pe))?Pe.pop():void 0}function ae(Pe,Ne){return"number"==typeof re(Pe)?Pe.pop():Ne}},4742:(Kt,st,F)=>{"use strict";F.d(st,{D:()=>Ie});const{isArray:a}=Array,{getPrototypeOf:y,prototype:re,keys:ce}=Object;function Ie(Pe){if(1===Pe.length){const Ne=Pe[0];if(a(Ne))return{args:Ne,keys:null};if(function ae(Pe){return Pe&&"object"==typeof Pe&&y(Pe)===re}(Ne)){const Le=ce(Ne);return{args:Le.map(Ee=>Ne[Ee]),keys:Le}}}return{args:Pe,keys:null}}},8737:(Kt,st,F)=>{"use strict";function a(y,re){if(y){const ce=y.indexOf(re);0<=ce&&y.splice(ce,1)}}F.d(st,{P:()=>a})},3888:(Kt,st,F)=>{"use strict";function a(y){const ce=y(Ie=>{Error.call(Ie),Ie.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}F.d(st,{d:()=>a})},1810:(Kt,st,F)=>{"use strict";function a(y,re){return y.reduce((ce,Ie,ae)=>(ce[Ie]=re[ae],ce),{})}F.d(st,{n:()=>a})},2806:(Kt,st,F)=>{"use strict";F.d(st,{x:()=>re,O:()=>ce});var a=F(2416);let y=null;function re(Ie){if(a.v.useDeprecatedSynchronousErrorHandling){const ae=!y;if(ae&&(y={errorThrown:!1,error:null}),Ie(),ae){const{errorThrown:Pe,error:Ne}=y;if(y=null,Pe)throw Ne}}else Ie()}function ce(Ie){a.v.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=Ie)}},9672:(Kt,st,F)=>{"use strict";function a(y,re,ce,Ie=0,ae=!1){const Pe=re.schedule(function(){ce(),ae?y.add(this.schedule(null,Ie)):this.unsubscribe()},Ie);if(y.add(Pe),!ae)return Pe}F.d(st,{f:()=>a})},4671:(Kt,st,F)=>{"use strict";function a(y){return y}F.d(st,{y:()=>a})},1144:(Kt,st,F)=>{"use strict";F.d(st,{z:()=>a});const a=y=>y&&"number"==typeof y.length&&"function"!=typeof y},2206:(Kt,st,F)=>{"use strict";F.d(st,{D:()=>y});var a=F(576);function y(re){return Symbol.asyncIterator&&(0,a.m)(null==re?void 0:re[Symbol.asyncIterator])}},576:(Kt,st,F)=>{"use strict";function a(y){return"function"==typeof y}F.d(st,{m:()=>a})},3670:(Kt,st,F)=>{"use strict";F.d(st,{c:()=>re});var a=F(8822),y=F(576);function re(ce){return(0,y.m)(ce[a.L])}},6495:(Kt,st,F)=>{"use strict";F.d(st,{T:()=>re});var a=F(2202),y=F(576);function re(ce){return(0,y.m)(null==ce?void 0:ce[a.h])}},8239:(Kt,st,F)=>{"use strict";F.d(st,{t:()=>y});var a=F(576);function y(re){return(0,a.m)(null==re?void 0:re.then)}},3260:(Kt,st,F)=>{"use strict";F.d(st,{Q:()=>re,L:()=>ce});var a=F(655),y=F(576);function re(Ie){return(0,a.FC)(this,arguments,function*(){const Pe=Ie.getReader();try{for(;;){const{value:Ne,done:Le}=yield(0,a.qq)(Pe.read());if(Le)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Ne)}}finally{Pe.releaseLock()}})}function ce(Ie){return(0,y.m)(null==Ie?void 0:Ie.getReader)}},3532:(Kt,st,F)=>{"use strict";F.d(st,{K:()=>y});var a=F(576);function y(re){return re&&(0,a.m)(re.schedule)}},4482:(Kt,st,F)=>{"use strict";F.d(st,{A:()=>y,e:()=>re});var a=F(576);function y(ce){return(0,a.m)(null==ce?void 0:ce.lift)}function re(ce){return Ie=>{if(y(Ie))return Ie.lift(function(ae){try{return ce(ae,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Kt,st,F)=>{"use strict";F.d(st,{Z:()=>ce});var a=F(4004);const{isArray:y}=Array;function ce(Ie){return(0,a.U)(ae=>function re(Ie,ae){return y(ae)?Ie(...ae):Ie(ae)}(Ie,ae))}},5032:(Kt,st,F)=>{"use strict";function a(){}F.d(st,{Z:()=>a})},7849:(Kt,st,F)=>{"use strict";F.d(st,{h:()=>re});var a=F(2416),y=F(3410);function re(ce){y.z.setTimeout(()=>{const{onUnhandledError:Ie}=a.v;if(!Ie)throw ce;Ie(ce)})}},4532:(Kt,st,F)=>{"use strict";function a(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(st,{z:()=>a})},655:(Kt,st,F)=>{"use strict";function ce(ze,pt){var Dt={};for(var Et in ze)Object.prototype.hasOwnProperty.call(ze,Et)&&pt.indexOf(Et)<0&&(Dt[Et]=ze[Et]);if(null!=ze&&"function"==typeof Object.getOwnPropertySymbols){var tn=0;for(Et=Object.getOwnPropertySymbols(ze);tn<Et.length;tn++)pt.indexOf(Et[tn])<0&&Object.prototype.propertyIsEnumerable.call(ze,Et[tn])&&(Dt[Et[tn]]=ze[Et[tn]])}return Dt}function Ne(ze,pt,Dt,Et){return new(Dt||(Dt=Promise))(function(bt,Qn){function qt(Rt){try{zt(Et.next(Rt))}catch(Dn){Qn(Dn)}}function kt(Rt){try{zt(Et.throw(Rt))}catch(Dn){Qn(Dn)}}function zt(Rt){Rt.done?bt(Rt.value):function tn(bt){return bt instanceof Dt?bt:new Dt(function(Qn){Qn(bt)})}(Rt.value).then(qt,kt)}zt((Et=Et.apply(ze,pt||[])).next())})}function ue(ze){return this instanceof ue?(this.v=ze,this):new ue(ze)}function Re(ze,pt,Dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tn,Et=Dt.apply(ze,pt||[]),bt=[];return tn={},Qn("next"),Qn("throw"),Qn("return"),tn[Symbol.asyncIterator]=function(){return this},tn;function Qn(In){Et[In]&&(tn[In]=function(It){return new Promise(function(At,Ut){bt.push([In,It,At,Ut])>1||qt(In,It)})})}function qt(In,It){try{!function kt(In){In.value instanceof ue?Promise.resolve(In.value.v).then(zt,Rt):Dn(bt[0][2],In)}(Et[In](It))}catch(At){Dn(bt[0][3],At)}}function zt(In){qt("next",In)}function Rt(In){qt("throw",In)}function Dn(In,It){In(It),bt.shift(),bt.length&&qt(bt[0][0],bt[0][1])}}function it(ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Dt,pt=ze[Symbol.asyncIterator];return pt?pt.call(ze):(ze=function Ae(ze){var pt="function"==typeof Symbol&&Symbol.iterator,Dt=pt&&ze[pt],Et=0;if(Dt)return Dt.call(ze);if(ze&&"number"==typeof ze.length)return{next:function(){return ze&&Et>=ze.length&&(ze=void 0),{value:ze&&ze[Et++],done:!ze}}};throw new TypeError(pt?"Object is not iterable.":"Symbol.iterator is not defined.")}(ze),Dt={},Et("next"),Et("throw"),Et("return"),Dt[Symbol.asyncIterator]=function(){return this},Dt);function Et(bt){Dt[bt]=ze[bt]&&function(Qn){return new Promise(function(qt,kt){!function tn(bt,Qn,qt,kt){Promise.resolve(kt).then(function(zt){bt({value:zt,done:qt})},Qn)}(qt,kt,(Qn=ze[bt](Qn)).done,Qn.value)})}}}F.d(st,{_T:()=>ce,mG:()=>Ne,qq:()=>ue,FC:()=>Re,KL:()=>it})},9808:(Kt,st,F)=>{"use strict";F.d(st,{mr:()=>we,ez:()=>Us,H9:()=>Ss,K0:()=>Pe,uU:()=>Ot,JJ:()=>li,Do:()=>Ze,Ts:()=>pr,V_:()=>Ee,Ye:()=>tt,S$:()=>ue,mk:()=>os,sg:()=>Ii,O5:()=>$r,PC:()=>Si,tP:()=>Rr,b0:()=>it,lw:()=>Ne,rS:()=>$e,EM:()=>so,JF:()=>bi,NF:()=>Ui,PM:()=>jo,w_:()=>ae,bD:()=>Rs,q:()=>re,Mx:()=>kr,HT:()=>Ie});var a=F(5e3);let y=null;function re(){return y}function Ie(q){y||(y=q)}class ae{}const Pe=new a.OlP("DocumentToken");let Ne=(()=>{class q{historyGo(W){throw new Error("Not implemented")}}return q.\u0275fac=function(W){return new(W||q)},q.\u0275prov=a.Yz7({token:q,factory:function(){return function Le(){return(0,a.LFG)(fe)}()},providedIn:"platform"}),q})();const Ee=new a.OlP("Location Initialized");let fe=(()=>{class q extends Ne{constructor(W){super(),this._doc=W,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return re().getBaseHref(this._doc)}onPopState(W){const ve=re().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("popstate",W,!1),()=>ve.removeEventListener("popstate",W)}onHashChange(W){const ve=re().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("hashchange",W,!1),()=>ve.removeEventListener("hashchange",W)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(W){this.location.pathname=W}pushState(W,ve,nt){Ae()?this._history.pushState(W,ve,nt):this.location.hash=nt}replaceState(W,ve,nt){Ae()?this._history.replaceState(W,ve,nt):this.location.hash=nt}forward(){this._history.forward()}back(){this._history.back()}historyGo(W=0){this._history.go(W)}getState(){return this._history.state}}return q.\u0275fac=function(W){return new(W||q)(a.LFG(Pe))},q.\u0275prov=a.Yz7({token:q,factory:function(){return function Ce(){return new fe((0,a.LFG)(Pe))}()},providedIn:"platform"}),q})();function Ae(){return!!window.history.pushState}function ne(q,de){if(0==q.length)return de;if(0==de.length)return q;let W=0;return q.endsWith("/")&&W++,de.startsWith("/")&&W++,2==W?q+de.substring(1):1==W?q+de:q+"/"+de}function ee(q){const de=q.match(/#|\?|$/),W=de&&de.index||q.length;return q.slice(0,W-("/"===q[W-1]?1:0))+q.slice(W)}function Se(q){return q&&"?"!==q[0]?"?"+q:q}let ue=(()=>{class q{historyGo(W){throw new Error("Not implemented")}}return q.\u0275fac=function(W){return new(W||q)},q.\u0275prov=a.Yz7({token:q,factory:function(){return function Re(q){const de=(0,a.LFG)(Pe).location;return new it((0,a.LFG)(Ne),de&&de.origin||"")}()},providedIn:"root"}),q})();const we=new a.OlP("appBaseHref");let it=(()=>{class q extends ue{constructor(W,ve){if(super(),this._platformLocation=W,this._removeListenerFns=[],null==ve&&(ve=this._platformLocation.getBaseHrefFromDOM()),null==ve)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ve}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}prepareExternalUrl(W){return ne(this._baseHref,W)}path(W=!1){const ve=this._platformLocation.pathname+Se(this._platformLocation.search),nt=this._platformLocation.hash;return nt&&W?`${ve}${nt}`:ve}pushState(W,ve,nt,Gt){const hn=this.prepareExternalUrl(nt+Se(Gt));this._platformLocation.pushState(W,ve,hn)}replaceState(W,ve,nt,Gt){const hn=this.prepareExternalUrl(nt+Se(Gt));this._platformLocation.replaceState(W,ve,hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(W=0){var ve,nt;null===(nt=(ve=this._platformLocation).historyGo)||void 0===nt||nt.call(ve,W)}}return q.\u0275fac=function(W){return new(W||q)(a.LFG(Ne),a.LFG(we,8))},q.\u0275prov=a.Yz7({token:q,factory:q.\u0275fac}),q})(),Ze=(()=>{class q extends ue{constructor(W,ve){super(),this._platformLocation=W,this._baseHref="",this._removeListenerFns=[],null!=ve&&(this._baseHref=ve)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}path(W=!1){let ve=this._platformLocation.hash;return null==ve&&(ve="#"),ve.length>0?ve.substring(1):ve}prepareExternalUrl(W){const ve=ne(this._baseHref,W);return ve.length>0?"#"+ve:ve}pushState(W,ve,nt,Gt){let hn=this.prepareExternalUrl(nt+Se(Gt));0==hn.length&&(hn=this._platformLocation.pathname),this._platformLocation.pushState(W,ve,hn)}replaceState(W,ve,nt,Gt){let hn=this.prepareExternalUrl(nt+Se(Gt));0==hn.length&&(hn=this._platformLocation.pathname),this._platformLocation.replaceState(W,ve,hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(W=0){var ve,nt;null===(nt=(ve=this._platformLocation).historyGo)||void 0===nt||nt.call(ve,W)}}return q.\u0275fac=function(W){return new(W||q)(a.LFG(Ne),a.LFG(we,8))},q.\u0275prov=a.Yz7({token:q,factory:q.\u0275fac}),q})(),tt=(()=>{class q{constructor(W,ve){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=W;const nt=this._platformStrategy.getBaseHref();this._platformLocation=ve,this._baseHref=ee(Tt(nt)),this._platformStrategy.onPopState(Gt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Gt.state,type:Gt.type})})}path(W=!1){return this.normalize(this._platformStrategy.path(W))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(W,ve=""){return this.path()==this.normalize(W+Se(ve))}normalize(W){return q.stripTrailingSlash(function Ve(q,de){return q&&de.startsWith(q)?de.substring(q.length):de}(this._baseHref,Tt(W)))}prepareExternalUrl(W){return W&&"/"!==W[0]&&(W="/"+W),this._platformStrategy.prepareExternalUrl(W)}go(W,ve="",nt=null){this._platformStrategy.pushState(nt,"",W,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+Se(ve)),nt)}replaceState(W,ve="",nt=null){this._platformStrategy.replaceState(nt,"",W,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+Se(ve)),nt)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(W=0){var ve,nt;null===(nt=(ve=this._platformStrategy).historyGo)||void 0===nt||nt.call(ve,W)}onUrlChange(W){this._urlChangeListeners.push(W),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ve=>{this._notifyUrlChangeListeners(ve.url,ve.state)}))}_notifyUrlChangeListeners(W="",ve){this._urlChangeListeners.forEach(nt=>nt(W,ve))}subscribe(W,ve,nt){return this._subject.subscribe({next:W,error:ve,complete:nt})}}return q.normalizeQueryParams=Se,q.joinWithSlash=ne,q.stripTrailingSlash=ee,q.\u0275fac=function(W){return new(W||q)(a.LFG(ue),a.LFG(Ne))},q.\u0275prov=a.Yz7({token:q,factory:function(){return function _t(){return new tt((0,a.LFG)(ue),(0,a.LFG)(Ne))}()},providedIn:"root"}),q})();function Tt(q){return q.replace(/\/index.html$/,"")}const Jt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ze=(()=>((ze=ze||{})[ze.Decimal=0]="Decimal",ze[ze.Percent=1]="Percent",ze[ze.Currency=2]="Currency",ze[ze.Scientific=3]="Scientific",ze))(),Dt=(()=>((Dt=Dt||{})[Dt.Format=0]="Format",Dt[Dt.Standalone=1]="Standalone",Dt))(),Et=(()=>((Et=Et||{})[Et.Narrow=0]="Narrow",Et[Et.Abbreviated=1]="Abbreviated",Et[Et.Wide=2]="Wide",Et[Et.Short=3]="Short",Et))(),tn=(()=>((tn=tn||{})[tn.Short=0]="Short",tn[tn.Medium=1]="Medium",tn[tn.Long=2]="Long",tn[tn.Full=3]="Full",tn))(),bt=(()=>((bt=bt||{})[bt.Decimal=0]="Decimal",bt[bt.Group=1]="Group",bt[bt.List=2]="List",bt[bt.PercentSign=3]="PercentSign",bt[bt.PlusSign=4]="PlusSign",bt[bt.MinusSign=5]="MinusSign",bt[bt.Exponential=6]="Exponential",bt[bt.SuperscriptingExponent=7]="SuperscriptingExponent",bt[bt.PerMille=8]="PerMille",bt[bt.Infinity=9]="Infinity",bt[bt.NaN=10]="NaN",bt[bt.TimeSeparator=11]="TimeSeparator",bt[bt.CurrencyDecimal=12]="CurrencyDecimal",bt[bt.CurrencyGroup=13]="CurrencyGroup",bt))();function At(q,de){return vr((0,a.cg1)(q)[a.wAp.DateFormat],de)}function Ut(q,de){return vr((0,a.cg1)(q)[a.wAp.TimeFormat],de)}function an(q,de){return vr((0,a.cg1)(q)[a.wAp.DateTimeFormat],de)}function Sn(q,de){const W=(0,a.cg1)(q),ve=W[a.wAp.NumberSymbols][de];if(void 0===ve){if(de===bt.CurrencyDecimal)return W[a.wAp.NumberSymbols][bt.Decimal];if(de===bt.CurrencyGroup)return W[a.wAp.NumberSymbols][bt.Group]}return ve}function Zn(q,de){return(0,a.cg1)(q)[a.wAp.NumberFormats][de]}function Gr(q){if(!q[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${q[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vr(q,de){for(let W=de;W>-1;W--)if(void 0!==q[W])return q[W];throw new Error("Locale data API: locale data undefined")}function xr(q){const[de,W]=q.split(":");return{hours:+de,minutes:+W}}const pn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mn={},lr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var dn=(()=>((dn=dn||{})[dn.Short=0]="Short",dn[dn.ShortGMT=1]="ShortGMT",dn[dn.Long=2]="Long",dn[dn.Extended=3]="Extended",dn))(),xn=(()=>((xn=xn||{})[xn.FullYear=0]="FullYear",xn[xn.Month=1]="Month",xn[xn.Date=2]="Date",xn[xn.Hours=3]="Hours",xn[xn.Minutes=4]="Minutes",xn[xn.Seconds=5]="Seconds",xn[xn.FractionalSeconds=6]="FractionalSeconds",xn[xn.Day=7]="Day",xn))(),Vn=(()=>((Vn=Vn||{})[Vn.DayPeriods=0]="DayPeriods",Vn[Vn.Days=1]="Days",Vn[Vn.Months=2]="Months",Vn[Vn.Eras=3]="Eras",Vn))();function Yi(q,de,W,ve){let nt=function at(q){if(mt(q))return q;if("number"==typeof q&&!isNaN(q))return new Date(q);if("string"==typeof q){if(q=q.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(q)){const[nt,Gt=1,hn=1]=q.split("-").map(dr=>+dr);return vi(nt,Gt-1,hn)}const W=parseFloat(q);if(!isNaN(q-W))return new Date(W);let ve;if(ve=q.match(pn))return function xe(q){const de=new Date(0);let W=0,ve=0;const nt=q[8]?de.setUTCFullYear:de.setFullYear,Gt=q[8]?de.setUTCHours:de.setHours;q[9]&&(W=Number(q[9]+q[10]),ve=Number(q[9]+q[11])),nt.call(de,Number(q[1]),Number(q[2])-1,Number(q[3]));const hn=Number(q[4]||0)-W,dr=Number(q[5]||0)-ve,di=Number(q[6]||0),Nr=Math.floor(1e3*parseFloat("0."+(q[7]||0)));return Gt.call(de,hn,dr,di,Nr),de}(ve)}const de=new Date(q);if(!mt(de))throw new Error(`Unable to convert "${q}" into a date`);return de}(q);de=St(W,de)||de;let dr,hn=[];for(;de;){if(dr=lr.exec(de),!dr){hn.push(de);break}{hn=hn.concat(dr.slice(1));const Kn=hn.pop();if(!Kn)break;de=Kn}}let di=nt.getTimezoneOffset();ve&&(di=Ws(ve,di),nt=function Nt(q,de,W){const ve=W?-1:1,nt=q.getTimezoneOffset();return function qi(q,de){return(q=new Date(q.getTime())).setMinutes(q.getMinutes()+de),q}(q,ve*(Ws(de,nt)-nt))}(nt,ve,!0));let Nr="";return hn.forEach(Kn=>{const Xr=function po(q){if(ni[q])return ni[q];let de;switch(q){case"G":case"GG":case"GGG":de=_r(Vn.Eras,Et.Abbreviated);break;case"GGGG":de=_r(Vn.Eras,Et.Wide);break;case"GGGGG":de=_r(Vn.Eras,Et.Narrow);break;case"y":de=or(xn.FullYear,1,0,!1,!0);break;case"yy":de=or(xn.FullYear,2,0,!0,!0);break;case"yyy":de=or(xn.FullYear,3,0,!1,!0);break;case"yyyy":de=or(xn.FullYear,4,0,!1,!0);break;case"Y":de=Ys(1);break;case"YY":de=Ys(2,!0);break;case"YYY":de=Ys(3);break;case"YYYY":de=Ys(4);break;case"M":case"L":de=or(xn.Month,1,1);break;case"MM":case"LL":de=or(xn.Month,2,1);break;case"MMM":de=_r(Vn.Months,Et.Abbreviated);break;case"MMMM":de=_r(Vn.Months,Et.Wide);break;case"MMMMM":de=_r(Vn.Months,Et.Narrow);break;case"LLL":de=_r(Vn.Months,Et.Abbreviated,Dt.Standalone);break;case"LLLL":de=_r(Vn.Months,Et.Wide,Dt.Standalone);break;case"LLLLL":de=_r(Vn.Months,Et.Narrow,Dt.Standalone);break;case"w":de=ks(1);break;case"ww":de=ks(2);break;case"W":de=ks(1,!0);break;case"d":de=or(xn.Date,1);break;case"dd":de=or(xn.Date,2);break;case"c":case"cc":de=or(xn.Day,1);break;case"ccc":de=_r(Vn.Days,Et.Abbreviated,Dt.Standalone);break;case"cccc":de=_r(Vn.Days,Et.Wide,Dt.Standalone);break;case"ccccc":de=_r(Vn.Days,Et.Narrow,Dt.Standalone);break;case"cccccc":de=_r(Vn.Days,Et.Short,Dt.Standalone);break;case"E":case"EE":case"EEE":de=_r(Vn.Days,Et.Abbreviated);break;case"EEEE":de=_r(Vn.Days,Et.Wide);break;case"EEEEE":de=_r(Vn.Days,Et.Narrow);break;case"EEEEEE":de=_r(Vn.Days,Et.Short);break;case"a":case"aa":case"aaa":de=_r(Vn.DayPeriods,Et.Abbreviated);break;case"aaaa":de=_r(Vn.DayPeriods,Et.Wide);break;case"aaaaa":de=_r(Vn.DayPeriods,Et.Narrow);break;case"b":case"bb":case"bbb":de=_r(Vn.DayPeriods,Et.Abbreviated,Dt.Standalone,!0);break;case"bbbb":de=_r(Vn.DayPeriods,Et.Wide,Dt.Standalone,!0);break;case"bbbbb":de=_r(Vn.DayPeriods,Et.Narrow,Dt.Standalone,!0);break;case"B":case"BB":case"BBB":de=_r(Vn.DayPeriods,Et.Abbreviated,Dt.Format,!0);break;case"BBBB":de=_r(Vn.DayPeriods,Et.Wide,Dt.Format,!0);break;case"BBBBB":de=_r(Vn.DayPeriods,Et.Narrow,Dt.Format,!0);break;case"h":de=or(xn.Hours,1,-12);break;case"hh":de=or(xn.Hours,2,-12);break;case"H":de=or(xn.Hours,1);break;case"HH":de=or(xn.Hours,2);break;case"m":de=or(xn.Minutes,1);break;case"mm":de=or(xn.Minutes,2);break;case"s":de=or(xn.Seconds,1);break;case"ss":de=or(xn.Seconds,2);break;case"S":de=or(xn.FractionalSeconds,1);break;case"SS":de=or(xn.FractionalSeconds,2);break;case"SSS":de=or(xn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":de=Kr(dn.Short);break;case"ZZZZZ":de=Kr(dn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":de=Kr(dn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":de=Kr(dn.Long);break;default:return null}return ni[q]=de,de}(Kn);Nr+=Xr?Xr(nt,W,di):"''"===Kn?"'":Kn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Nr}function vi(q,de,W){const ve=new Date(0);return ve.setFullYear(q,de,W),ve.setHours(0,0,0),ve}function St(q,de){const W=function qt(q){return(0,a.cg1)(q)[a.wAp.LocaleId]}(q);if(Mn[W]=Mn[W]||{},Mn[W][de])return Mn[W][de];let ve="";switch(de){case"shortDate":ve=At(q,tn.Short);break;case"mediumDate":ve=At(q,tn.Medium);break;case"longDate":ve=At(q,tn.Long);break;case"fullDate":ve=At(q,tn.Full);break;case"shortTime":ve=Ut(q,tn.Short);break;case"mediumTime":ve=Ut(q,tn.Medium);break;case"longTime":ve=Ut(q,tn.Long);break;case"fullTime":ve=Ut(q,tn.Full);break;case"short":const nt=St(q,"shortTime"),Gt=St(q,"shortDate");ve=Ar(an(q,tn.Short),[nt,Gt]);break;case"medium":const hn=St(q,"mediumTime"),dr=St(q,"mediumDate");ve=Ar(an(q,tn.Medium),[hn,dr]);break;case"long":const di=St(q,"longTime"),Nr=St(q,"longDate");ve=Ar(an(q,tn.Long),[di,Nr]);break;case"full":const Kn=St(q,"fullTime"),Xr=St(q,"fullDate");ve=Ar(an(q,tn.Full),[Kn,Xr])}return ve&&(Mn[W][de]=ve),ve}function Ar(q,de){return de&&(q=q.replace(/\{([^}]+)}/g,function(W,ve){return null!=de&&ve in de?de[ve]:W})),q}function Ht(q,de,W="-",ve,nt){let Gt="";(q<0||nt&&q<=0)&&(nt?q=1-q:(q=-q,Gt=W));let hn=String(q);for(;hn.length<de;)hn="0"+hn;return ve&&(hn=hn.substr(hn.length-de)),Gt+hn}function or(q,de,W=0,ve=!1,nt=!1){return function(Gt,hn){let dr=function nr(q,de){switch(q){case xn.FullYear:return de.getFullYear();case xn.Month:return de.getMonth();case xn.Date:return de.getDate();case xn.Hours:return de.getHours();case xn.Minutes:return de.getMinutes();case xn.Seconds:return de.getSeconds();case xn.FractionalSeconds:return de.getMilliseconds();case xn.Day:return de.getDay();default:throw new Error(`Unknown DateType value "${q}".`)}}(q,Gt);if((W>0||dr>-W)&&(dr+=W),q===xn.Hours)0===dr&&-12===W&&(dr=12);else if(q===xn.FractionalSeconds)return function En(q,de){return Ht(q,3).substr(0,de)}(dr,de);const di=Sn(hn,bt.MinusSign);return Ht(dr,de,di,ve,nt)}}function _r(q,de,W=Dt.Format,ve=!1){return function(nt,Gt){return function Ns(q,de,W,ve,nt,Gt){switch(W){case Vn.Months:return function Rt(q,de,W){const ve=(0,a.cg1)(q),Gt=vr([ve[a.wAp.MonthsFormat],ve[a.wAp.MonthsStandalone]],de);return vr(Gt,W)}(de,nt,ve)[q.getMonth()];case Vn.Days:return function zt(q,de,W){const ve=(0,a.cg1)(q),Gt=vr([ve[a.wAp.DaysFormat],ve[a.wAp.DaysStandalone]],de);return vr(Gt,W)}(de,nt,ve)[q.getDay()];case Vn.DayPeriods:const hn=q.getHours(),dr=q.getMinutes();if(Gt){const Nr=function ti(q){const de=(0,a.cg1)(q);return Gr(de),(de[a.wAp.ExtraData][2]||[]).map(ve=>"string"==typeof ve?xr(ve):[xr(ve[0]),xr(ve[1])])}(de),Kn=function er(q,de,W){const ve=(0,a.cg1)(q);Gr(ve);const Gt=vr([ve[a.wAp.ExtraData][0],ve[a.wAp.ExtraData][1]],de)||[];return vr(Gt,W)||[]}(de,nt,ve),Xr=Nr.findIndex(Pi=>{if(Array.isArray(Pi)){const[wi,Fi]=Pi,oo=hn>=wi.hours&&dr>=wi.minutes,ao=hn<Fi.hours||hn===Fi.hours&&dr<Fi.minutes;if(wi.hours<Fi.hours){if(oo&&ao)return!0}else if(oo||ao)return!0}else if(Pi.hours===hn&&Pi.minutes===dr)return!0;return!1});if(-1!==Xr)return Kn[Xr]}return function kt(q,de,W){const ve=(0,a.cg1)(q),Gt=vr([ve[a.wAp.DayPeriodsFormat],ve[a.wAp.DayPeriodsStandalone]],de);return vr(Gt,W)}(de,nt,ve)[hn<12?0:1];case Vn.Eras:return function Dn(q,de){return vr((0,a.cg1)(q)[a.wAp.Eras],de)}(de,ve)[q.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${W}`)}}(nt,Gt,q,de,W,ve)}}function Kr(q){return function(de,W,ve){const nt=-1*ve,Gt=Sn(W,bt.MinusSign),hn=nt>0?Math.floor(nt/60):Math.ceil(nt/60);switch(q){case dn.Short:return(nt>=0?"+":"")+Ht(hn,2,Gt)+Ht(Math.abs(nt%60),2,Gt);case dn.ShortGMT:return"GMT"+(nt>=0?"+":"")+Ht(hn,1,Gt);case dn.Long:return"GMT"+(nt>=0?"+":"")+Ht(hn,2,Gt)+":"+Ht(Math.abs(nt%60),2,Gt);case dn.Extended:return 0===ve?"Z":(nt>=0?"+":"")+Ht(hn,2,Gt)+":"+Ht(Math.abs(nt%60),2,Gt);default:throw new Error(`Unknown zone width "${q}"`)}}}function tr(q){return vi(q.getFullYear(),q.getMonth(),q.getDate()+(4-q.getDay()))}function ks(q,de=!1){return function(W,ve){let nt;if(de){const Gt=new Date(W.getFullYear(),W.getMonth(),1).getDay()-1,hn=W.getDate();nt=1+Math.floor((hn+Gt)/7)}else{const Gt=tr(W),hn=function ts(q){const de=vi(q,0,1).getDay();return vi(q,0,1+(de<=4?4:11)-de)}(Gt.getFullYear()),dr=Gt.getTime()-hn.getTime();nt=1+Math.round(dr/6048e5)}return Ht(nt,q,Sn(ve,bt.MinusSign))}}function Ys(q,de=!1){return function(W,ve){return Ht(tr(W).getFullYear(),q,Sn(ve,bt.MinusSign),de)}}const ni={};function Ws(q,de){q=q.replace(/:/g,"");const W=Date.parse("Jan 01, 1970 00:00:00 "+q)/6e4;return isNaN(W)?de:W}function mt(q){return q instanceof Date&&!isNaN(q.valueOf())}const Qt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ye(q,de,W,ve,nt,Gt,hn=!1){let dr="",di=!1;if(isFinite(q)){let Nr=function zr(q){let ve,nt,Gt,hn,dr,de=Math.abs(q)+"",W=0;for((nt=de.indexOf("."))>-1&&(de=de.replace(".","")),(Gt=de.search(/e/i))>0?(nt<0&&(nt=Gt),nt+=+de.slice(Gt+1),de=de.substring(0,Gt)):nt<0&&(nt=de.length),Gt=0;"0"===de.charAt(Gt);Gt++);if(Gt===(dr=de.length))ve=[0],nt=1;else{for(dr--;"0"===de.charAt(dr);)dr--;for(nt-=Gt,ve=[],hn=0;Gt<=dr;Gt++,hn++)ve[hn]=Number(de.charAt(Gt))}return nt>22&&(ve=ve.splice(0,21),W=nt-1,nt=1),{digits:ve,exponent:W,integerLen:nt}}(q);hn&&(Nr=function kn(q){if(0===q.digits[0])return q;const de=q.digits.length-q.integerLen;return q.exponent?q.exponent+=2:(0===de?q.digits.push(0,0):1===de&&q.digits.push(0),q.integerLen+=2),q}(Nr));let Kn=de.minInt,Xr=de.minFrac,Pi=de.maxFrac;if(Gt){const vo=Gt.match(Qt);if(null===vo)throw new Error(`${Gt} is not a valid digit info`);const Ia=vo[1],Cs=vo[3],co=vo[5];null!=Ia&&(Kn=yr(Ia)),null!=Cs&&(Xr=yr(Cs)),null!=co?Pi=yr(co):null!=Cs&&Xr>Pi&&(Pi=Xr)}!function Er(q,de,W){if(de>W)throw new Error(`The minimum number of digits after fraction (${de}) is higher than the maximum (${W}).`);let ve=q.digits,nt=ve.length-q.integerLen;const Gt=Math.min(Math.max(de,nt),W);let hn=Gt+q.integerLen,dr=ve[hn];if(hn>0){ve.splice(Math.max(q.integerLen,hn));for(let Xr=hn;Xr<ve.length;Xr++)ve[Xr]=0}else{nt=Math.max(0,nt),q.integerLen=1,ve.length=Math.max(1,hn=Gt+1),ve[0]=0;for(let Xr=1;Xr<hn;Xr++)ve[Xr]=0}if(dr>=5)if(hn-1<0){for(let Xr=0;Xr>hn;Xr--)ve.unshift(0),q.integerLen++;ve.unshift(1),q.integerLen++}else ve[hn-1]++;for(;nt<Math.max(0,Gt);nt++)ve.push(0);let di=0!==Gt;const Nr=de+q.integerLen,Kn=ve.reduceRight(function(Xr,Pi,wi,Fi){return Fi[wi]=(Pi+=Xr)<10?Pi:Pi-10,di&&(0===Fi[wi]&&wi>=Nr?Fi.pop():di=!1),Pi>=10?1:0},0);Kn&&(ve.unshift(Kn),q.integerLen++)}(Nr,Xr,Pi);let wi=Nr.digits,Fi=Nr.integerLen;const oo=Nr.exponent;let ao=[];for(di=wi.every(vo=>!vo);Fi<Kn;Fi++)wi.unshift(0);for(;Fi<0;Fi++)wi.unshift(0);Fi>0?ao=wi.splice(Fi,wi.length):(ao=wi,wi=[0]);const Sr=[];for(wi.length>=de.lgSize&&Sr.unshift(wi.splice(-de.lgSize,wi.length).join(""));wi.length>de.gSize;)Sr.unshift(wi.splice(-de.gSize,wi.length).join(""));wi.length&&Sr.unshift(wi.join("")),dr=Sr.join(Sn(W,ve)),ao.length&&(dr+=Sn(W,nt)+ao.join("")),oo&&(dr+=Sn(W,bt.Exponential)+"+"+oo)}else dr=Sn(W,bt.Infinity);return dr=q<0&&!di?de.negPre+dr+de.negSuf:de.posPre+dr+de.posSuf,dr}function rn(q,de="-"){const W={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ve=q.split(";"),nt=ve[0],Gt=ve[1],hn=-1!==nt.indexOf(".")?nt.split("."):[nt.substring(0,nt.lastIndexOf("0")+1),nt.substring(nt.lastIndexOf("0")+1)],dr=hn[0],di=hn[1]||"";W.posPre=dr.substr(0,dr.indexOf("#"));for(let Kn=0;Kn<di.length;Kn++){const Xr=di.charAt(Kn);"0"===Xr?W.minFrac=W.maxFrac=Kn+1:"#"===Xr?W.maxFrac=Kn+1:W.posSuf+=Xr}const Nr=dr.split(",");if(W.gSize=Nr[1]?Nr[1].length:0,W.lgSize=Nr[2]||Nr[1]?(Nr[2]||Nr[1]).length:0,Gt){const Kn=nt.length-W.posPre.length-W.posSuf.length,Xr=Gt.indexOf("#");W.negPre=Gt.substr(0,Xr).replace(/'/g,""),W.negSuf=Gt.substr(Xr+Kn).replace(/'/g,"")}else W.negPre=de+W.posPre,W.negSuf=W.posSuf;return W}function yr(q){const de=parseInt(q);if(isNaN(de))throw new Error("Invalid integer literal when parsing "+q);return de}function kr(q,de){de=encodeURIComponent(de);for(const W of q.split(";")){const ve=W.indexOf("="),[nt,Gt]=-1==ve?[W,""]:[W.slice(0,ve),W.slice(ve+1)];if(nt.trim()===de)return decodeURIComponent(Gt)}return null}let os=(()=>{class q{constructor(W,ve,nt,Gt){this._iterableDiffers=W,this._keyValueDiffers=ve,this._ngEl=nt,this._renderer=Gt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(W){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof W?W.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(W){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof W?W.split(/\s+/):W,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const W=this._iterableDiffer.diff(this._rawClass);W&&this._applyIterableChanges(W)}else if(this._keyValueDiffer){const W=this._keyValueDiffer.diff(this._rawClass);W&&this._applyKeyValueChanges(W)}}_applyKeyValueChanges(W){W.forEachAddedItem(ve=>this._toggleClass(ve.key,ve.currentValue)),W.forEachChangedItem(ve=>this._toggleClass(ve.key,ve.currentValue)),W.forEachRemovedItem(ve=>{ve.previousValue&&this._toggleClass(ve.key,!1)})}_applyIterableChanges(W){W.forEachAddedItem(ve=>{if("string"!=typeof ve.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(ve.item)}`);this._toggleClass(ve.item,!0)}),W.forEachRemovedItem(ve=>this._toggleClass(ve.item,!1))}_applyClasses(W){W&&(Array.isArray(W)||W instanceof Set?W.forEach(ve=>this._toggleClass(ve,!0)):Object.keys(W).forEach(ve=>this._toggleClass(ve,!!W[ve])))}_removeClasses(W){W&&(Array.isArray(W)||W instanceof Set?W.forEach(ve=>this._toggleClass(ve,!1)):Object.keys(W).forEach(ve=>this._toggleClass(ve,!1)))}_toggleClass(W,ve){(W=W.trim())&&W.split(/\s+/g).forEach(nt=>{ve?this._renderer.addClass(this._ngEl.nativeElement,nt):this._renderer.removeClass(this._ngEl.nativeElement,nt)})}}return q.\u0275fac=function(W){return new(W||q)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},q.\u0275dir=a.lG2({type:q,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),q})();class Hi{constructor(de,W,ve,nt){this.$implicit=de,this.ngForOf=W,this.index=ve,this.count=nt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ii=(()=>{class q{constructor(W,ve,nt){this._viewContainer=W,this._template=ve,this._differs=nt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(W){this._ngForOf=W,this._ngForOfDirty=!0}set ngForTrackBy(W){this._trackByFn=W}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(W){W&&(this._template=W)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const W=this._ngForOf;!this._differ&&W&&(this._differ=this._differs.find(W).create(this.ngForTrackBy))}if(this._differ){const W=this._differ.diff(this._ngForOf);W&&this._applyChanges(W)}}_applyChanges(W){const ve=this._viewContainer;W.forEachOperation((nt,Gt,hn)=>{if(null==nt.previousIndex)ve.createEmbeddedView(this._template,new Hi(nt.item,this._ngForOf,-1,-1),null===hn?void 0:hn);else if(null==hn)ve.remove(null===Gt?void 0:Gt);else if(null!==Gt){const dr=ve.get(Gt);ve.move(dr,hn),Yr(dr,nt)}});for(let nt=0,Gt=ve.length;nt<Gt;nt++){const dr=ve.get(nt).context;dr.index=nt,dr.count=Gt,dr.ngForOf=this._ngForOf}W.forEachIdentityChange(nt=>{Yr(ve.get(nt.currentIndex),nt)})}static ngTemplateContextGuard(W,ve){return!0}}return q.\u0275fac=function(W){return new(W||q)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},q.\u0275dir=a.lG2({type:q,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),q})();function Yr(q,de){q.context.$implicit=de.item}let $r=(()=>{class q{constructor(W,ve){this._viewContainer=W,this._context=new rt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ve}set ngIf(W){this._context.$implicit=this._context.ngIf=W,this._updateView()}set ngIfThen(W){Lt("ngIfThen",W),this._thenTemplateRef=W,this._thenViewRef=null,this._updateView()}set ngIfElse(W){Lt("ngIfElse",W),this._elseTemplateRef=W,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(W,ve){return!0}}return q.\u0275fac=function(W){return new(W||q)(a.Y36(a.s_b),a.Y36(a.Rgc))},q.\u0275dir=a.lG2({type:q,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),q})();class rt{constructor(){this.$implicit=null,this.ngIf=null}}function Lt(q,de){if(de&&!de.createEmbeddedView)throw new Error(`${q} must be a TemplateRef, but received '${(0,a.AaK)(de)}'.`)}let Si=(()=>{class q{constructor(W,ve,nt){this._ngEl=W,this._differs=ve,this._renderer=nt,this._ngStyle=null,this._differ=null}set ngStyle(W){this._ngStyle=W,!this._differ&&W&&(this._differ=this._differs.find(W).create())}ngDoCheck(){if(this._differ){const W=this._differ.diff(this._ngStyle);W&&this._applyChanges(W)}}_setStyle(W,ve){const[nt,Gt]=W.split(".");null!=(ve=null!=ve&&Gt?`${ve}${Gt}`:ve)?this._renderer.setStyle(this._ngEl.nativeElement,nt,ve):this._renderer.removeStyle(this._ngEl.nativeElement,nt)}_applyChanges(W){W.forEachRemovedItem(ve=>this._setStyle(ve.key,null)),W.forEachAddedItem(ve=>this._setStyle(ve.key,ve.currentValue)),W.forEachChangedItem(ve=>this._setStyle(ve.key,ve.currentValue))}}return q.\u0275fac=function(W){return new(W||q)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},q.\u0275dir=a.lG2({type:q,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),q})(),Rr=(()=>{class q{constructor(W){this._viewContainerRef=W,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(W){if(W.ngTemplateOutlet){const ve=this._viewContainerRef;this._viewRef&&ve.remove(ve.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ve.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&W.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return q.\u0275fac=function(W){return new(W||q)(a.Y36(a.s_b))},q.\u0275dir=a.lG2({type:q,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[a.TTD]}),q})();function Tr(q,de){return new a.vHH(2100,"")}const Lo=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let $e=(()=>{class q{transform(W){if(null==W)return null;if("string"!=typeof W)throw Tr();return W.replace(Lo,ve=>ve[0].toUpperCase()+ve.substr(1).toLowerCase())}}return q.\u0275fac=function(W){return new(W||q)},q.\u0275pipe=a.Yjl({name:"titlecase",type:q,pure:!0}),q})();const qe=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ot=(()=>{class q{constructor(W,ve){this.locale=W,this.defaultTimezone=ve}transform(W,ve="mediumDate",nt,Gt){var hn;if(null==W||""===W||W!=W)return null;try{return Yi(W,ve,Gt||this.locale,null!==(hn=null!=nt?nt:this.defaultTimezone)&&void 0!==hn?hn:void 0)}catch(dr){throw Tr()}}}return q.\u0275fac=function(W){return new(W||q)(a.Y36(a.soG,16),a.Y36(qe,24))},q.\u0275pipe=a.Yjl({name:"date",type:q,pure:!0}),q})(),pr=(()=>{class q{transform(W){return JSON.stringify(W,null,2)}}return q.\u0275fac=function(W){return new(W||q)},q.\u0275pipe=a.Yjl({name:"json",type:q,pure:!1}),q})(),li=(()=>{class q{constructor(W){this._locale=W}transform(W,ve,nt){if(!go(W))return null;nt=nt||this._locale;try{return function Ye(q,de,W){return ye(q,rn(Zn(de,ze.Decimal),Sn(de,bt.MinusSign)),de,bt.Group,bt.Decimal,W)}(Uo(W),nt,ve)}catch(Gt){throw Tr()}}}return q.\u0275fac=function(W){return new(W||q)(a.Y36(a.soG,16))},q.\u0275pipe=a.Yjl({name:"number",type:q,pure:!0}),q})(),Ss=(()=>{class q{constructor(W,ve="USD"){this._locale=W,this._defaultCurrencyCode=ve}transform(W,ve=this._defaultCurrencyCode,nt="symbol",Gt,hn){if(!go(W))return null;hn=hn||this._locale,"boolean"==typeof nt&&(nt=nt?"symbol":"code");let dr=ve||this._defaultCurrencyCode;"code"!==nt&&(dr="symbol"===nt||"symbol-narrow"===nt?function gi(q,de,W="en"){const ve=function Zr(q){return(0,a.cg1)(q)[a.wAp.Currencies]}(W)[q]||Jt[q]||[],nt=ve[1];return"narrow"===de&&"string"==typeof nt?nt:ve[0]||q}(dr,"symbol"===nt?"wide":"narrow",hn):nt);try{return function ke(q,de,W,ve,nt){const hn=rn(Zn(de,ze.Currency),Sn(de,bt.MinusSign));return hn.minFrac=function Te(q){let de;const W=Jt[q];return W&&(de=W[2]),"number"==typeof de?de:2}(ve),hn.maxFrac=hn.minFrac,ye(q,hn,de,bt.CurrencyGroup,bt.CurrencyDecimal,nt).replace("\xa4",W).replace("\xa4","").trim()}(Uo(W),hn,dr,ve,Gt)}catch(di){throw Tr()}}}return q.\u0275fac=function(W){return new(W||q)(a.Y36(a.soG,16),a.Y36(a.EJc,16))},q.\u0275pipe=a.Yjl({name:"currency",type:q,pure:!0}),q})();function go(q){return!(null==q||""===q||q!=q)}function Uo(q){if("string"==typeof q&&!isNaN(Number(q)-parseFloat(q)))return Number(q);if("number"!=typeof q)throw new Error(`${q} is not a number`);return q}let Us=(()=>{class q{}return q.\u0275fac=function(W){return new(W||q)},q.\u0275mod=a.oAB({type:q}),q.\u0275inj=a.cJS({}),q})();const Rs="browser";function Ui(q){return q===Rs}function jo(q){return"server"===q}let so=(()=>{class q{}return q.\u0275prov=(0,a.Yz7)({token:q,providedIn:"root",factory:()=>new To((0,a.LFG)(Pe),window)}),q})();class To{constructor(de,W){this.document=de,this.window=W,this.offset=()=>[0,0]}setOffset(de){this.offset=Array.isArray(de)?()=>de:de}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(de){this.supportsScrolling()&&this.window.scrollTo(de[0],de[1])}scrollToAnchor(de){if(!this.supportsScrolling())return;const W=function ms(q,de){const W=q.getElementById(de)||q.getElementsByName(de)[0];if(W)return W;if("function"==typeof q.createTreeWalker&&q.body&&(q.body.createShadowRoot||q.body.attachShadow)){const ve=q.createTreeWalker(q.body,NodeFilter.SHOW_ELEMENT);let nt=ve.currentNode;for(;nt;){const Gt=nt.shadowRoot;if(Gt){const hn=Gt.getElementById(de)||Gt.querySelector(`[name="${de}"]`);if(hn)return hn}nt=ve.nextNode()}}return null}(this.document,de);W&&(this.scrollToElement(W),W.focus())}setHistoryScrollRestoration(de){if(this.supportScrollRestoration()){const W=this.window.history;W&&W.scrollRestoration&&(W.scrollRestoration=de)}}scrollToElement(de){const W=de.getBoundingClientRect(),ve=W.left+this.window.pageXOffset,nt=W.top+this.window.pageYOffset,Gt=this.offset();this.window.scrollTo(ve-Gt[0],nt-Gt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const de=As(this.window.history)||As(Object.getPrototypeOf(this.window.history));return!(!de||!de.writable&&!de.set)}catch(de){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(de){return!1}}}function As(q){return Object.getOwnPropertyDescriptor(q,"scrollRestoration")}class bi{}},5e3:(Kt,st,F)=>{"use strict";F.d(st,{deG:()=>Pd,tb:()=>Lw,AFp:()=>Pw,ip1:()=>Mw,CZH:()=>tb,hGG:()=>lI,z2F:()=>cb,sBO:()=>GE,Sil:()=>DE,_Vd:()=>zg,EJc:()=>CE,SBq:()=>Zg,qLn:()=>eu,vpe:()=>Od,tBr:()=>Hn,XFs:()=>er,OlP:()=>Bs,zs3:()=>wd,ZZ4:()=>pb,aQg:()=>gb,soG:()=>rb,YKP:()=>pl,h0i:()=>Hl,PXZ:()=>BE,R0b:()=>xh,FiY:()=>Xi,Lbi:()=>Fw,g9A:()=>kw,Qsj:()=>jf,FYo:()=>e_,JOm:()=>Ec,q3G:()=>es,tp0:()=>$t,Rgc:()=>n,dDg:()=>Vw,q4F:()=>t_,GfV:()=>L0,s_b:()=>w,ifc:()=>dn,eFA:()=>Ww,G48:()=>qE,Gpc:()=>fe,X6Q:()=>ZE,_c5:()=>uI,VLi:()=>LE,c2e:()=>Uw,zSh:()=>Ap,wAp:()=>si,vHH:()=>ee,EiD:()=>Nh,mCW:()=>vc,qzn:()=>ac,JVY:()=>Ku,pB0:()=>hr,eBb:()=>Yc,L6k:()=>fu,LAX:()=>na,cg1:()=>ih,kL8:()=>xv,yhl:()=>El,dqk:()=>St,sIi:()=>Rf,CqO:()=>Lp,QGY:()=>Fp,F4k:()=>Lm,RDi:()=>As,AaK:()=>Ne,z3N:()=>za,qOj:()=>Jf,TTD:()=>go,_Bn:()=>T0,xp6:()=>Nc,uIk:()=>nh,Tol:()=>Vp,ekj:()=>Bl,Suo:()=>lw,Xpm:()=>tr,lG2:()=>at,Yz7:()=>At,cJS:()=>an,oAB:()=>Ws,Yjl:()=>xe,Y36:()=>sp,_UZ:()=>kp,GkF:()=>Cg,qZA:()=>Sg,TgZ:()=>op,EpF:()=>nv,n5z:()=>So,LFG:()=>De,$8M:()=>ha,$Z:()=>Eg,NdJ:()=>Um,CRH:()=>dw,kcU:()=>ua,O4$:()=>Iu,oxw:()=>Bm,ALo:()=>em,lcZ:()=>py,xi3:()=>gy,Hsn:()=>Dg,F$t:()=>Tg,Q6J:()=>Ig,s9C:()=>ap,DdM:()=>gf,VKq:()=>Jg,WLB:()=>mf,HTZ:()=>Dh,rFY:()=>s_,iGM:()=>cw,MAs:()=>Im,evT:()=>Uh,CHM:()=>Bn,oJD:()=>ed,LSH:()=>td,kYT:()=>qi,Udp:()=>Ac,YNc:()=>Em,W1O:()=>gw,_uU:()=>vv,Oqu:()=>Gm,hij:()=>Hp,AsE:()=>Dd,Gf:()=>uw});var a=F(7579),y=F(727),re=F(8306),ce=F(6451),Ie=F(3099);function ae(r){for(let i in r)if(r[i]===ae)return i;throw Error("Could not find renamed property on target object.")}function Pe(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function Ne(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Ne).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Le(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const Ee=ae({__forward_ref__:ae});function fe(r){return r.__forward_ref__=fe,r.toString=function(){return Ne(this())},r}function Ae(r){return Ce(r)?r():r}function Ce(r){return"function"==typeof r&&r.hasOwnProperty(Ee)&&r.__forward_ref__===fe}class ee extends Error{constructor(i,o){super(function Se(r,i){return`NG0${Math.abs(r)}${i?": "+i:""}`}(i,o)),this.code=i}}function ue(r){return"string"==typeof r?r:null==r?"":String(r)}function Re(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ue(r)}function tt(r,i){const o=i?` in ${i}`:"";throw new ee(-201,`No provider for ${Re(r)} found${o}`)}function zt(r,i){null==r&&function Rt(r,i,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function At(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function an(r){return{providers:r.providers||[],imports:r.imports||[]}}function Sn(r){return Zn(r,Zr)||Zn(r,Gr)}function Zn(r,i){return r.hasOwnProperty(i)?r[i]:null}function Vr(r){return r&&(r.hasOwnProperty(Pr)||r.hasOwnProperty(ti))?r[Pr]:null}const Zr=ae({\u0275prov:ae}),Pr=ae({\u0275inj:ae}),Gr=ae({ngInjectableDef:ae}),ti=ae({ngInjectorDef:ae});var er=(()=>((er=er||{})[er.Default=0]="Default",er[er.Host=1]="Host",er[er.Self=2]="Self",er[er.SkipSelf=4]="SkipSelf",er[er.Optional=8]="Optional",er))();let wr;function xr(r){const i=wr;return wr=r,i}function gi(r,i,o){const l=Sn(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&er.Optional?null:void 0!==i?i:void tt(Ne(r),"Injector")}function Te(r){return{toString:r}.toString()}var pn=(()=>((pn=pn||{})[pn.OnPush=0]="OnPush",pn[pn.Default=1]="Default",pn))(),dn=(()=>{return(r=dn||(dn={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",dn;var r})();const xn="undefined"!=typeof globalThis&&globalThis,Vn="undefined"!=typeof window&&window,Yi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,St=xn||"undefined"!=typeof global&&global||Vn||Yi,En={},or=[],nr=ae({\u0275cmp:ae}),_r=ae({\u0275dir:ae}),Ns=ae({\u0275pipe:ae}),Kr=ae({\u0275mod:ae}),mr=ae({\u0275fac:ae}),Qr=ae({__NG_ELEMENT_ID__:ae});let ts=0;function tr(r){return Te(()=>{const o={},l={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||or,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||dn.Emulated,id:"c",styles:r.styles||or,_:null,setInput:null,schemas:r.schemas||null,tView:null},g=r.directives,E=r.features,T=r.pipes;return l.id+=ts++,l.inputs=Nt(r.inputs,o),l.outputs=Nt(r.outputs),E&&E.forEach(N=>N(l)),l.directiveDefs=g?()=>("function"==typeof g?g():g).map(Ys):null,l.pipeDefs=T?()=>("function"==typeof T?T():T).map(ni):null,l})}function Ys(r){return mt(r)||function Qt(r){return r[_r]||null}(r)}function ni(r){return function Yn(r){return r[Ns]||null}(r)}const po={};function Ws(r){return Te(()=>{const i={type:r.type,bootstrap:r.bootstrap||or,declarations:r.declarations||or,imports:r.imports||or,exports:r.exports||or,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(po[r.id]=r.type),i})}function qi(r,i){return Te(()=>{const o=cr(r,!0);o.declarations=i.declarations||or,o.imports=i.imports||or,o.exports=i.exports||or})}function Nt(r,i){if(null==r)return En;const o={};for(const l in r)if(r.hasOwnProperty(l)){let g=r[l],E=g;Array.isArray(g)&&(E=g[1],g=g[0]),o[g]=l,i&&(i[g]=E)}return o}const at=tr;function xe(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function mt(r){return r[nr]||null}function cr(r,i){const o=r[Kr]||null;if(!o&&!0===i)throw new Error(`Type ${Ne(r)} does not have '\u0275mod' property.`);return o}function yn(r){return Array.isArray(r)&&"object"==typeof r[1]}function Cn(r){return Array.isArray(r)&&!0===r[1]}function Un(r){return 0!=(8&r.flags)}function Wn(r){return 2==(2&r.flags)}function ui(r){return 1==(1&r.flags)}function Ir(r){return null!==r.template}function Si(r){return 0!=(512&r[2])}function hi(r,i){return r.hasOwnProperty(mr)?r[mr]:null}class Ss{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function go(){return Uo}function Uo(r){return r.type.prototype.ngOnChanges&&(r.setInput=mo),Co}function Co(){const r=Rs(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===En)r.previous=i;else for(let l in i)o[l]=i[l];r.current=null,this.ngOnChanges(i)}}function mo(r,i,o,l){const g=Rs(r)||function as(r,i){return r[Us]=i}(r,{previous:En,current:null}),E=g.current||(g.current={}),T=g.previous,N=this.declaredInputs[o],B=T[N];E[N]=new Ss(B&&B.currentValue,i,T===En),r[l]=i}go.ngInherit=!0;const Us="__ngSimpleChanges__";function Rs(r){return r[Us]||null}let To;function As(r){To=r}function ms(){return void 0!==To?To:"undefined"!=typeof document?document:void 0}function bi(r){return!!r.listen}const q={createRenderer:(r,i)=>ms()};function W(r){for(;Array.isArray(r);)r=r[0];return r}function Gt(r,i){return W(i[r])}function hn(r,i){return W(i[r.index])}function di(r,i){return r.data[i]}function Nr(r,i){return r[i]}function Kn(r,i){const o=i[r];return yn(o)?o:o[0]}function Xr(r){return 4==(4&r[2])}function Pi(r){return 128==(128&r[2])}function Fi(r,i){return null==i?null:r[i]}function oo(r){r[18]=0}function ao(r,i){r[5]+=i;let o=r,l=r[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const Sr={lFrame:mi(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Y(){return Sr.bindingsEnabled}function J(){return Sr.lFrame.lView}function Mt(){return Sr.lFrame.tView}function Bn(r){return Sr.lFrame.contextLView=r,r[8]}function Fr(){let r=cs();for(;null!==r&&64===r.type;)r=r.parent;return r}function cs(){return Sr.lFrame.currentTNode}function Gi(r,i){const o=Sr.lFrame;o.currentTNode=r,o.isParent=i}function Go(){return Sr.lFrame.isParent}function Hr(){Sr.lFrame.isParent=!1}function _o(){return Sr.isInCheckNoChangesMode}function La(r){Sr.isInCheckNoChangesMode=r}function Xs(){const r=Sr.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function fi(){return Sr.lFrame.bindingIndex++}function zs(r){const i=Sr.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}function Q(r,i){const o=Sr.lFrame;o.bindingIndex=o.bindingRootIndex=r,Be(i)}function Be(r){Sr.lFrame.currentDirectiveIndex=r}function Yt(){return Sr.lFrame.currentQueryIndex}function Gn(r){Sr.lFrame.currentQueryIndex=r}function qr(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Cr(r,i,o){if(o&er.SkipSelf){let g=i,E=r;for(;!(g=g.parent,null!==g||o&er.Host||(g=qr(E),null===g||(E=E[15],10&g.type))););if(null===g)return!1;i=g,r=E}const l=Sr.lFrame=rs();return l.currentTNode=i,l.lView=r,!0}function Ti(r){const i=rs(),o=r[1];Sr.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function rs(){const r=Sr.lFrame,i=null===r?null:r.child;return null===i?mi(r):i}function mi(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function bo(){const r=Sr.lFrame;return Sr.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const wo=bo;function Xa(){const r=bo();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function ys(){return Sr.lFrame.selectedIndex}function Zs(r){Sr.lFrame.selectedIndex=r}function is(){const r=Sr.lFrame;return di(r.tView,r.selectedIndex)}function Iu(){Sr.lFrame.currentNamespace="svg"}function ua(){!function Hc(){Sr.lFrame.currentNamespace=null}()}function Tc(r,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const E=r.data[o].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:N,ngAfterViewInit:B,ngAfterViewChecked:ie,ngOnDestroy:he}=E;T&&(r.contentHooks||(r.contentHooks=[])).push(-o,T),N&&((r.contentHooks||(r.contentHooks=[])).push(o,N),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,N)),B&&(r.viewHooks||(r.viewHooks=[])).push(-o,B),ie&&((r.viewHooks||(r.viewHooks=[])).push(o,ie),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,ie)),null!=he&&(r.destroyHooks||(r.destroyHooks=[])).push(o,he)}}function Aa(r,i,o){vs(r,i,3,o)}function Ki(r,i,o,l){(3&r[2])===o&&vs(r,i,o,l)}function uo(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function vs(r,i,o,l){const E=null!=l?l:-1,T=i.length-1;let N=0;for(let B=void 0!==l?65535&r[18]:0;B<T;B++)if("number"==typeof i[B+1]){if(N=i[B],null!=l&&N>=l)break}else i[B]<0&&(r[18]+=65536),(N<E||-1==E)&&(ju(r,o,i,B),r[18]=(4294901760&r[18])+B+2),B++}function ju(r,i,o,l){const g=o[l]<0,E=o[l+1],N=r[g?-o[l]:o[l]];if(g){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{E.call(N)}finally{}}}else try{E.call(N)}finally{}}class Bo{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Di(r,i,o){const l=bi(r);let g=0;for(;g<o.length;){const E=o[g];if("number"==typeof E){if(0!==E)break;g++;const T=o[g++],N=o[g++],B=o[g++];l?r.setAttribute(i,N,B,T):i.setAttributeNS(T,N,B)}else{const T=E,N=o[++g];Yo(T)?l&&r.setProperty(i,T,N):l?r.setAttribute(i,T,N):i.setAttribute(T,N),g++}}return g}function ji(r){return 3===r||4===r||6===r}function Yo(r){return 64===r.charCodeAt(0)}function zc(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const g=i[l];"number"==typeof g?o=g:0===o||Ca(r,o,g,null,-1===o||2===o?i[++l]:null)}}return r}function Ca(r,i,o,l,g){let E=0,T=r.length;if(-1===i)T=-1;else for(;E<r.length;){const N=r[E++];if("number"==typeof N){if(N===i){T=-1;break}if(N>i){T=E-1;break}}}for(;E<r.length;){const N=r[E];if("number"==typeof N)break;if(N===o){if(null===l)return void(null!==g&&(r[E+1]=g));if(l===r[E+1])return void(r[E+2]=g)}E++,null!==l&&E++,null!==g&&E++}-1!==T&&(r.splice(T,0,i),E=T+1),r.splice(E++,0,o),null!==l&&r.splice(E++,0,l),null!==g&&r.splice(E++,0,g)}function Ua(r){return-1!==r}function da(r){return 32767&r}function nc(r,i){let o=function ml(r){return r>>16}(r),l=i;for(;o>0;)l=l[15],o--;return l}let Ta=!0;function Eo(r){const i=Ta;return Ta=r,i}let Jo=0;function Io(r,i){const o=ja(r,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,Bu(l.data,r),Bu(i,null),Bu(l.blueprint,null));const g=au(r,i),E=r.injectorIndex;if(Ua(g)){const T=da(g),N=nc(g,i),B=N[1].data;for(let ie=0;ie<8;ie++)i[E+ie]=N[T+ie]|B[T+ie]}return i[E+8]=g,E}function Bu(r,i){r.push(0,0,0,0,0,0,0,0,i)}function ja(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function au(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,g=i;for(;null!==g;){const E=g[1],T=E.type;if(l=2===T?E.declTNode:1===T?g[6]:null,null===l)return-1;if(o++,g=g[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function U(r,i,o){!function Su(r,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Qr)&&(l=o[Qr]),null==l&&(l=o[Qr]=Jo++);const g=255&l;i.data[r+(g>>5)]|=1<<g}(r,i,o)}function M(r,i,o){if(o&er.Optional)return r;tt(i,"NodeInjector")}function $(r,i,o,l){if(o&er.Optional&&void 0===l&&(l=null),0==(o&(er.Self|er.Host))){const g=r[9],E=xr(void 0);try{return g?g.get(i,l,o&er.Optional):gi(i,l,o&er.Optional)}finally{xr(E)}}return M(l,i,o)}function X(r,i,o,l=er.Default,g){if(null!==r){const E=function pi(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(Qr)?r[Qr]:void 0;return"number"==typeof i?i>=0?255&i:Fe:i}(o);if("function"==typeof E){if(!Cr(i,r,l))return l&er.Host?M(g,o,l):$(i,o,l,g);try{const T=E(l);if(null!=T||l&er.Optional)return T;tt(o)}finally{wo()}}else if("number"==typeof E){let T=null,N=ja(r,i),B=-1,ie=l&er.Host?i[16][6]:null;for((-1===N||l&er.SkipSelf)&&(B=-1===N?au(r,i):i[N+8],-1!==B&&zi(l,!1)?(T=i[1],N=da(B),i=nc(B,i)):N=-1);-1!==N;){const he=i[1];if(br(E,N,he.data)){const Ue=ot(N,i,o,T,l,ie);if(Ue!==me)return Ue}B=i[N+8],-1!==B&&zi(l,i[1].data[N+8]===ie)&&br(E,N,i)?(T=he,N=da(B),i=nc(B,i)):N=-1}}}return $(i,o,l,g)}const me={};function Fe(){return new Ei(Fr(),J())}function ot(r,i,o,l,g,E){const T=i[1],N=T.data[r+8],he=nn(N,T,o,null==l?Wn(N)&&Ta:l!=T&&0!=(3&N.type),g&er.Host&&E===N);return null!==he?sr(i,T,he,N):me}function nn(r,i,o,l,g){const E=r.providerIndexes,T=i.data,N=1048575&E,B=r.directiveStart,he=E>>20,yt=g?N+he:r.directiveEnd;for(let Vt=l?N:N+he;Vt<yt;Vt++){const vn=T[Vt];if(Vt<B&&o===vn||Vt>=B&&vn.type===o)return Vt}if(g){const Vt=T[B];if(Vt&&Ir(Vt)&&Vt.type===o)return B}return null}function sr(r,i,o,l){let g=r[o];const E=i.data;if(function Qo(r){return r instanceof Bo}(g)){const T=g;T.resolving&&function we(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new ee(-200,`Circular dependency in DI detected for ${r}${o}`)}(Re(E[o]));const N=Eo(T.canSeeViewProviders);T.resolving=!0;const B=T.injectImpl?xr(T.injectImpl):null;Cr(r,l,er.Default);try{g=r[o]=T.factory(void 0,E,r,l),i.firstCreatePass&&o>=l.directiveStart&&function ou(r,i,o){const{ngOnChanges:l,ngOnInit:g,ngDoCheck:E}=i.type.prototype;if(l){const T=Uo(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,T),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,T)}g&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,g),E&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,E),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,E))}(o,E[o],i)}finally{null!==B&&xr(B),Eo(N),T.resolving=!1,wo()}}return g}function br(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function zi(r,i){return!(r&er.Self||r&er.Host&&i)}class Ei{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return X(this._tNode,this._lView,i,l,o)}}function So(r){return Te(()=>{const i=r.prototype.constructor,o=i[mr]||Xo(i),l=Object.prototype;let g=Object.getPrototypeOf(r.prototype).constructor;for(;g&&g!==l;){const E=g[mr]||Xo(g);if(E&&E!==o)return E;g=Object.getPrototypeOf(g)}return E=>new E})}function Xo(r){return Ce(r)?()=>{const i=Xo(Ae(r));return i&&i()}:hi(r)}function ha(r){return function P(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const l=o.length;let g=0;for(;g<l;){const E=o[g];if(ji(E))break;if(0===E)g+=2;else if("number"==typeof E)for(g++;g<l&&"string"==typeof o[g];)g++;else{if(E===i)return o[g+1];g+=2}}}return null}(Fr(),r)}const No="__parameters__";function pa(r,i,o){return Te(()=>{const l=function Gs(r){return function(...o){if(r){const l=r(...o);for(const g in l)this[g]=l[g]}}}(i);function g(...E){if(this instanceof g)return l.apply(this,E),this;const T=new g(...E);return N.annotation=T,N;function N(B,ie,he){const Ue=B.hasOwnProperty(No)?B[No]:Object.defineProperty(B,No,{value:[]})[No];for(;Ue.length<=he;)Ue.push(null);return(Ue[he]=Ue[he]||[]).push(T),B}}return o&&(g.prototype=Object.create(o.prototype)),g.prototype.ngMetadataName=r,g.annotationCls=g,g})}class Bs{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=At({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Pd=new Bs("AnalyzeForEntryComponents");function rc(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?(i===r&&(i=r.slice(0,o)),rc(l,i)):i!==r&&i.push(l)}return i}function Ji(r,i){r.forEach(o=>Array.isArray(o)?Ji(o,i):i(o))}function ic(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function Ld(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function Hu(r,i){const o=[];for(let l=0;l<r;l++)o.push(i);return o}function Vo(r,i,o){let l=Kc(r,i);return l>=0?r[1|l]=o:(l=~l,function sc(r,i,o,l){let g=r.length;if(g==i)r.push(o,l);else if(1===g)r.push(l,r[0]),r[0]=o;else{for(g--,r.push(r[g-1],r[g]);g>i;)r[g]=r[g-2],g--;r[i]=o,r[i+1]=l}}(r,l,i,o)),l}function $u(r,i){const o=Kc(r,i);if(o>=0)return r[1|o]}function Kc(r,i){return function Ud(r,i,o){let l=0,g=r.length>>o;for(;g!==l;){const E=l+(g-l>>1),T=r[E<<o];if(i===T)return E<<o;T>i?g=E:l=E+1}return~(g<<o)}(r,i,1)}const Rc={},_l="__NG_DI_FLAG__",$a="ngTempTokenPath",Ao=/\n/gm,R="__source",A=ae({provide:String,useValue:ae});let k;function z(r){const i=k;return k=r,i}function G(r,i=er.Default){if(void 0===k)throw new ee(203,"");return null===k?gi(r,void 0,i):k.get(r,i&er.Optional?null:void 0,i)}function De(r,i=er.Default){return(function vr(){return wr}()||G)(Ae(r),i)}const wn=De;function xt(r){const i=[];for(let o=0;o<r.length;o++){const l=Ae(r[o]);if(Array.isArray(l)){if(0===l.length)throw new ee(900,"");let g,E=er.Default;for(let T=0;T<l.length;T++){const N=l[T],B=Dr(N);"number"==typeof B?-1===B?g=N.token:E|=B:g=N}i.push(De(g,E))}else i.push(De(l))}return i}function Pn(r,i){return r[_l]=i,r.prototype[_l]=i,r}function Dr(r){return r[_l]}const Hn=Pn(pa("Inject",r=>({token:r})),-1),Xi=Pn(pa("Optional"),8),$t=Pn(pa("SkipSelf"),4);let Vs,Ni;function Gu(r){var i;return(null===(i=function Lr(){if(void 0===Vs&&(Vs=null,St.trustedTypes))try{Vs=St.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Vs}())||void 0===i?void 0:i.createHTML(r))||r}function xo(r){var i;return(null===(i=function Yl(){if(void 0===Ni&&(Ni=null,St.trustedTypes))try{Ni=St.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Ni}())||void 0===i?void 0:i.createHTML(r))||r}class Ps{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class hu extends Ps{getTypeName(){return"HTML"}}class Ho extends Ps{getTypeName(){return"Style"}}class eo extends Ps{getTypeName(){return"Script"}}class yc extends Ps{getTypeName(){return"URL"}}class uh extends Ps{getTypeName(){return"ResourceURL"}}function za(r){return r instanceof Ps?r.changingThisBreaksApplicationSecurity:r}function ac(r,i){const o=El(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function El(r){return r instanceof Ps&&r.getTypeName()||null}function Ku(r){return new hu(r)}function fu(r){return new Ho(r)}function Yc(r){return new eo(r)}function na(r){return new yc(r)}function hr(r){return new uh(r)}class pu{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Gu(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class cc{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Gu(i),o;const l=this.inertDocument.createElement("body");return l.innerHTML=Gu(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const o=i.attributes;for(let g=o.length-1;0<g;g--){const T=o.item(g).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&i.removeAttribute(T)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const gu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Au=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vc(r){return(r=String(r)).match(gu)||r.match(Au)?r:"unsafe:"+r}function us(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function Qu(...r){const i={};for(const o of r)for(const l in o)o.hasOwnProperty(l)&&(i[l]=!0);return i}const Yu=us("area,br,col,hr,img,wbr"),Il=us("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tu=us("rp,rt"),ls=Qu(Yu,Qu(Il,us("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qu(Tu,us("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qu(Tu,Il)),mu=us("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uc=us("srcset"),Xu=Qu(mu,uc,us("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),us("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dh=us("script,style,template");class el{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let g=this.checkClobberedElement(o,o.nextSibling);if(g){o=g;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!ls.hasOwnProperty(o))return this.sanitizedSomething=!0,!dh.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=i.attributes;for(let g=0;g<l.length;g++){const E=l.item(g),T=E.name,N=T.toLowerCase();if(!Xu.hasOwnProperty(N)){this.sanitizedSomething=!0;continue}let B=E.value;mu[N]&&(B=vc(B)),uc[N]&&(r=B,B=(r=String(r)).split(",").map(i=>vc(i.trim())).join(", ")),this.buf.push(" ",T,'="',tl(B),'"')}var r;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();ls.hasOwnProperty(o)&&!Yu.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(tl(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Bd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sl=/([^\#-~ |!])/g;function tl(r){return r.replace(/&/g,"&amp;").replace(Bd,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Sl,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ds;function Nh(r,i){let o=null;try{ds=ds||function Jl(r){const i=new cc(r);return function Jc(){try{return!!(new window.DOMParser).parseFromString(Gu(""),"text/html")}catch(r){return!1}}()?new pu(i):i}(r);let l=i?String(i):"";o=ds.getInertBodyElement(l);let g=5,E=l;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,l=E,E=o.innerHTML,o=ds.getInertBodyElement(l)}while(l!==E);return Gu((new el).sanitizeChildren(Al(o)||o))}finally{if(o){const l=Al(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Al(r){return"content"in r&&function hh(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var es=(()=>((es=es||{})[es.NONE=0]="NONE",es[es.HTML=1]="HTML",es[es.STYLE=2]="STYLE",es[es.SCRIPT=3]="SCRIPT",es[es.URL=4]="URL",es[es.RESOURCE_URL=5]="RESOURCE_URL",es))();function ed(r){const i=Oa();return i?xo(i.sanitize(es.HTML,r)||""):ac(r,"HTML")?xo(za(r)):Nh(ms(),ue(r))}function td(r){const i=Oa();return i?i.sanitize(es.URL,r)||"":ac(r,"URL")?za(r):vc(ue(r))}function Oa(){const r=J();return r&&r[12]}const xu="__ngContext__";function Wo(r,i){r[xu]=i}function Ra(r){const i=function Za(r){return r[xu]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function Lh(r){return r.ngOriginalError}function Ru(r,...i){r.error(...i)}class eu{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),l=function wf(r){return r&&r.ngErrorLogger||Ru}(i);l(this._console,"ERROR",i),o&&l(this._console,"ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Lh(i);for(;o&&Lh(o);)o=Lh(o);return o||null}}const Mu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(St))();function Uh(r){return r.ownerDocument}function wc(r){return r instanceof Function?r():r}var Ec=(()=>((Ec=Ec||{})[Ec.Important=1]="Important",Ec[Ec.DashCase=2]="DashCase",Ec))();function Nu(r,i){return undefined(r,i)}function to(r){const i=r[3];return Cn(i)?i[3]:i}function od(r){return Ol(r[13])}function ho(r){return Ol(r[4])}function Ol(r){for(;null!==r&&!Cn(r);)r=r[4];return r}function _s(r,i,o,l,g){if(null!=l){let E,T=!1;Cn(l)?E=l:yn(l)&&(T=!0,l=l[0]);const N=W(l);0===r&&null!==o?null==g?Wh(i,o,N):sl(i,o,N,g||null,!0):1===r&&null!==o?sl(i,o,N,g||null,!0):2===r?function al(r,i,o){const l=ud(r,i);l&&function Vf(r,i,o,l){bi(r)?r.removeChild(i,o,l):i.removeChild(o)}(r,l,i,o)}(i,N,T):3===r&&i.destroyNode(N),null!=E&&function $f(r,i,o,l,g){const E=o[7];E!==W(o)&&_s(i,r,l,E,g);for(let N=10;N<o.length;N++){const B=o[N];fd(B[1],B,r,i,l,E)}}(i,r,E,o,g)}}function ya(r,i,o){if(bi(r))return r.createElement(i,o);{const l=null!==o?function so(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(o):null;return null===l?r.createElement(i):r.createElementNS(l,i)}}function ad(r,i){const o=r[9],l=o.indexOf(i),g=i[3];1024&i[2]&&(i[2]&=-1025,ao(g,-1)),o.splice(l,1)}function Mc(r,i){if(r.length<=10)return;const o=10+i,l=r[o];if(l){const g=l[17];null!==g&&g!==r&&ad(g,l),i>0&&(r[o-1][4]=l[4]);const E=Ld(r,10+i);!function Jd(r,i){fd(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const T=E[19];null!==T&&T.detachView(E[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function cd(r,i){if(!(256&i[2])){const o=i[11];bi(o)&&o.destroyNode&&fd(r,i,o,3,null,null),function Ml(r){let i=r[13];if(!i)return vu(r[1],r);for(;i;){let o=null;if(yn(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==r;)yn(i)&&vu(i[1],i),i=i[3];null===i&&(i=r),yn(i)&&vu(i[1],i),o=i&&i[4]}i=o}}(i)}}function vu(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function Hh(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const g=i[o[l]];if(!(g instanceof Bo)){const E=o[l+1];if(Array.isArray(E))for(let T=0;T<E.length;T+=2){const N=g[E[T]],B=E[T+1];try{B.call(N)}finally{}}else try{E.call(g)}finally{}}}}(r,i),function Tf(r,i){const o=r.cleanup,l=i[7];let g=-1;if(null!==o)for(let E=0;E<o.length-1;E+=2)if("string"==typeof o[E]){const T=o[E+1],N="function"==typeof T?T(i):W(i[T]),B=l[g=o[E+2]],ie=o[E+3];"boolean"==typeof ie?N.removeEventListener(o[E],B,ie):ie>=0?l[g=ie]():l[g=-ie].unsubscribe(),E+=2}else{const T=l[g=o[E+1]];o[E].call(T)}if(null!==l){for(let E=g+1;E<l.length;E++)l[E]();i[7]=null}}(r,i),1===i[1].type&&bi(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&Cn(i[3])){o!==i[3]&&ad(o,i);const l=i[19];null!==l&&l.detachView(r)}}}function $h(r,i,o){return function mh(r,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];if(2&l.flags){const g=r.data[l.directiveStart].encapsulation;if(g===dn.None||g===dn.Emulated)return null}return hn(l,o)}(r,i.parent,o)}function sl(r,i,o,l,g){bi(r)?r.insertBefore(i,o,l,g):i.insertBefore(o,l,g)}function Wh(r,i,o){bi(r)?r.appendChild(i,o):i.appendChild(o)}function zh(r,i,o,l,g){null!==l?sl(r,i,o,l,g):Wh(r,i,o)}function ud(r,i){return bi(r)?r.parentNode(i):i.parentNode}function yh(r,i,o){return ia(r,i,o)}let ia=function Zh(r,i,o){return 40&r.type?hn(r,o):null};function ol(r,i,o,l){const g=$h(r,l,i),E=i[11],N=yh(l.parent||i[6],l,i);if(null!=g)if(Array.isArray(o))for(let B=0;B<o.length;B++)zh(E,g,o[B],N,!1);else zh(E,g,o,N,!1)}function Pc(r,i){if(null!==i){const o=i.type;if(3&o)return hn(i,r);if(4&o)return dd(-1,r[i.index]);if(8&o){const l=i.child;if(null!==l)return Pc(r,l);{const g=r[i.index];return Cn(g)?dd(-1,g):W(g)}}if(32&o)return Nu(i,r)()||W(r[i.index]);{const l=tu(r,i);return null!==l?Array.isArray(l)?l[0]:Pc(to(r[16]),l):Pc(r,i.next)}}return null}function tu(r,i){return null!==i?r[16][6].projection[i.projection]:null}function dd(r,i){const o=10+r+1;if(o<i.length){const l=i[o],g=l[1].firstChild;if(null!==g)return Pc(l,g)}return i[7]}function hd(r,i,o,l,g,E,T){for(;null!=o;){const N=l[o.index],B=o.type;if(T&&0===i&&(N&&Wo(W(N),l),o.flags|=4),64!=(64&o.flags))if(8&B)hd(r,i,o.child,l,g,E,!1),_s(i,r,g,N,E);else if(32&B){const ie=Nu(o,l);let he;for(;he=ie();)_s(i,r,g,he,E);_s(i,r,g,N,E)}else 16&B?Hf(r,i,l,o,g,E):_s(i,r,g,N,E);o=T?o.projectionNext:o.next}}function fd(r,i,o,l,g,E){hd(o,l,r.firstChild,i,g,E,!1)}function Hf(r,i,o,l,g,E){const T=o[16],B=T[6].projection[l.projection];if(Array.isArray(B))for(let ie=0;ie<B.length;ie++)_s(i,r,g,B[ie],E);else hd(r,i,B,T[3],g,E,!0)}function Nl(r,i,o){bi(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function va(r,i,o){bi(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function ki(r,i,o){let l=r.length;for(;;){const g=r.indexOf(i,o);if(-1===g)return g;if(0===g||r.charCodeAt(g-1)<=32){const E=i.length;if(g+E===l||r.charCodeAt(g+E)<=32)return g}o=g+1}}const pd="ng-template";function Wf(r,i,o){let l=0;for(;l<r.length;){let g=r[l++];if(o&&"class"===g){if(g=r[l],-1!==ki(g.toLowerCase(),i,0))return!0}else if(1===g){for(;l<r.length&&"string"==typeof(g=r[l++]);)if(g.toLowerCase()===i)return!0;return!1}}return!1}function Hs(r){return 4===r.type&&r.value!==pd}function nu(r,i,o){return i===(4!==r.type||o?r.value:pd)}function Df(r,i,o){let l=4;const g=r.attrs||[],E=function Yh(r){for(let i=0;i<r.length;i++)if(ji(r[i]))return i;return r.length}(g);let T=!1;for(let N=0;N<i.length;N++){const B=i[N];if("number"!=typeof B){if(!T)if(4&l){if(l=2|1&l,""!==B&&!nu(r,B,o)||""===B&&1===i.length){if(ci(l))return!1;T=!0}}else{const ie=8&l?B:i[++N];if(8&l&&null!==r.attrs){if(!Wf(r.attrs,ie,o)){if(ci(l))return!1;T=!0}continue}const Ue=bs(8&l?"class":B,g,Hs(r),o);if(-1===Ue){if(ci(l))return!1;T=!0;continue}if(""!==ie){let yt;yt=Ue>E?"":g[Ue+1].toLowerCase();const Vt=8&l?yt:null;if(Vt&&-1!==ki(Vt,ie,0)||2&l&&ie!==yt){if(ci(l))return!1;T=!0}}}}else{if(!T&&!ci(l)&&!ci(B))return!1;if(T&&ci(B))continue;T=!1,l=B|1&l}}return ci(l)||T}function ci(r){return 0==(1&r)}function bs(r,i,o,l){if(null===i)return-1;let g=0;if(l||!o){let E=!1;for(;g<i.length;){const T=i[g];if(T===r)return g;if(3===T||6===T)E=!0;else{if(1===T||2===T){let N=i[++g];for(;"string"==typeof N;)N=i[++g];continue}if(4===T)break;if(0===T){g+=4;continue}}g+=E?1:2}return-1}return function kl(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,r)}function Kh(r,i,o=!1){for(let l=0;l<i.length;l++)if(Df(r,i[l],o))return!0;return!1}function sa(r,i){e:for(let o=0;o<i.length;o++){const l=i[o];if(r.length===l.length){for(let g=0;g<r.length;g++)if(r[g]!==l[g])continue e;return!0}}return!1}function _h(r,i){return r?":not("+i.trim()+")":i}function zf(r){let i=r[0],o=1,l=2,g="",E=!1;for(;o<r.length;){let T=r[o];if("string"==typeof T)if(2&l){const N=r[++o];g+="["+T+(N.length>0?'="'+N+'"':"")+"]"}else 8&l?g+="."+T:4&l&&(g+=" "+T);else""!==g&&!ci(T)&&(i+=_h(E,g),g=""),l=T,E=E||!ci(l);o++}return""!==g&&(i+=_h(E,g)),i}const gr={};function Nc(r){hs(Mt(),J(),ys()+r,_o())}function hs(r,i,o,l){if(!l)if(3==(3&i[2])){const E=r.preOrderCheckHooks;null!==E&&Aa(i,E,o)}else{const E=r.preOrderHooks;null!==E&&Ki(i,E,0,o)}Zs(o)}function wh(r,i){return r<<17|i<<2}function Ga(r){return r>>17&32767}function oa(r){return 2|r}function ws(r){return(131068&r)>>2}function Ka(r,i){return-131069&r|i<<2}function $s(r){return 1|r}function Z(r,i){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const g=o[l],E=o[l+1];if(-1!==E){const T=r.data[E];Gn(g),T.contentQueries(2,i[E],E)}}}function Xe(r,i,o,l,g,E,T,N,B,ie){const he=i.blueprint.slice();return he[0]=g,he[2]=140|l,oo(he),he[3]=he[15]=r,he[8]=o,he[10]=T||r&&r[10],he[11]=N||r&&r[11],he[12]=B||r&&r[12]||null,he[9]=ie||r&&r[9]||null,he[6]=E,he[16]=2==i.type?r[16]:he,he}function Qe(r,i,o,l,g){let E=r.data[i];if(null===E)E=function gt(r,i,o,l,g){const E=cs(),T=Go(),B=r.data[i]=function Or(r,i,o,l,g,E){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?E:E&&E.parent,o,i,l,g);return null===r.firstChild&&(r.firstChild=B),null!==E&&(T?null==E.child&&null!==B.parent&&(E.child=B):null===E.next&&(E.next=B)),B}(r,i,o,l,g),function Ko(){return Sr.lFrame.inI18n}()&&(E.flags|=64);else if(64&E.type){E.type=o,E.value=l,E.attrs=g;const T=function Ms(){const r=Sr.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();E.injectorIndex=null===T?-1:T.injectorIndex}return Gi(E,!0),E}function ft(r,i,o,l){if(0===o)return-1;const g=i.length;for(let E=0;E<o;E++)i.push(l),r.blueprint.push(l),r.data.push(null);return g}function ut(r,i,o){Ti(i);try{const l=r.viewQuery;null!==l&&rm(1,l,o);const g=r.template;null!==g&&et(r,i,g,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Z(r,i),r.staticViewQueries&&rm(2,r.viewQuery,o);const E=r.components;null!==E&&function Me(r,i){for(let o=0;o<i.length;o++)ei(r,i[o])}(i,E)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,Xa()}}function lt(r,i,o,l){const g=i[2];if(256==(256&g))return;Ti(i);const E=_o();try{oo(i),function ca(r){return Sr.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&et(r,i,o,2,l);const T=3==(3&g);if(!E)if(T){const ie=r.preOrderCheckHooks;null!==ie&&Aa(i,ie,null)}else{const ie=r.preOrderHooks;null!==ie&&Ki(i,ie,0,null),uo(i,0)}if(function zn(r){for(let i=od(r);null!==i;i=ho(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const g=o[l],E=g[3];0==(1024&g[2])&&ao(E,1),g[2]|=1024}}}(i),function on(r){for(let i=od(r);null!==i;i=ho(i))for(let o=10;o<i.length;o++){const l=i[o],g=l[1];Pi(l)&&lt(g,l,g.template,l[8])}}(i),null!==r.contentQueries&&Z(r,i),!E)if(T){const ie=r.contentCheckHooks;null!==ie&&Aa(i,ie)}else{const ie=r.contentHooks;null!==ie&&Ki(i,ie,1),uo(i,1)}!function L(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const g=o[l];if(g<0)Zs(~g);else{const E=g,T=o[++l],N=o[++l];Q(T,E),N(2,i[E])}}}finally{Zs(-1)}}(r,i);const N=r.components;null!==N&&function _e(r,i){for(let o=0;o<i.length;o++)Ur(r,i[o])}(i,N);const B=r.viewQuery;if(null!==B&&rm(2,B,l),!E)if(T){const ie=r.viewCheckHooks;null!==ie&&Aa(i,ie)}else{const ie=r.viewHooks;null!==ie&&Ki(i,ie,2),uo(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),E||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,ao(i[3],-1))}finally{Xa()}}function ht(r,i,o,l){const g=i[10],E=!_o(),T=Xr(i);try{E&&!T&&g.begin&&g.begin(),T&&ut(r,i,l),lt(r,i,o,l)}finally{E&&!T&&g.end&&g.end()}}function et(r,i,o,l,g){const E=ys(),T=2&l;try{Zs(-1),T&&i.length>20&&hs(r,i,20,_o()),o(l,g)}finally{Zs(E)}}function wt(r,i,o){if(Un(i)){const g=i.directiveEnd;for(let E=i.directiveStart;E<g;E++){const T=r.data[E];T.contentQueries&&T.contentQueries(1,o[E],E)}}}function Pt(r,i,o){!Y()||(function xi(r,i,o,l){const g=o.directiveStart,E=o.directiveEnd;r.firstCreatePass||Io(o,i),Wo(l,i);const T=o.initialInputs;for(let N=g;N<E;N++){const B=r.data[N],ie=Ir(B);ie&&f(i,o,B);const he=sr(i,r,N,o);Wo(he,i),null!==T&&D(0,N-g,he,B,0,T),ie&&(Kn(o.index,i)[8]=he)}}(r,i,o,hn(o,i)),128==(128&o.flags)&&function xs(r,i,o){const l=o.directiveStart,g=o.directiveEnd,T=o.index,N=function ge(){return Sr.lFrame.currentDirectiveIndex}();try{Zs(T);for(let B=l;B<g;B++){const ie=r.data[B],he=i[B];Be(B),(null!==ie.hostBindings||0!==ie.hostVars||null!==ie.hostAttrs)&&Fa(ie,he)}}finally{Zs(-1),Be(N)}}(r,i,o))}function en(r,i,o=hn){const l=i.localNames;if(null!==l){let g=i.index+1;for(let E=0;E<l.length;E+=2){const T=l[E+1],N=-1===T?o(i,r):r[T];r[g++]=N}}}function sn(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Zt(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Zt(r,i,o,l,g,E,T,N,B,ie){const he=20+l,Ue=he+g,yt=function un(r,i){const o=[];for(let l=0;l<i;l++)o.push(l<r?null:gr);return o}(he,Ue),Vt="function"==typeof ie?ie():ie;return yt[1]={type:r,blueprint:yt,template:o,queries:null,viewQuery:N,declTNode:i,data:yt.slice().fill(null,he),bindingStartIndex:he,expandoStartIndex:Ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:B,consts:Vt,incompleteFirstPass:!1}}function ur(r,i,o,l){const g=ig(i);null===o?g.push(l):(g.push(o),r.firstCreatePass&&Sp(r).push(l,g.length-1))}function Wr(r,i,o){for(let l in r)if(r.hasOwnProperty(l)){const g=r[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(i,g):o[l]=[i,g]}return o}function p(r,i,o,l,g,E,T,N){const B=hn(i,o);let he,ie=i.inputs;!N&&null!=ie&&(he=ie[l])?(wy(r,o,he,l,g),Wn(i)&&function S(r,i){const o=Kn(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(l=function u(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),g=null!=T?T(g,i.value||"",l):g,bi(E)?E.setProperty(B,l,g):Yo(l)||(B.setProperty?B.setProperty(l,g):B[l]=g))}function Fn(r,i,o,l){let g=!1;if(Y()){const E=function zo(r,i,o){const l=r.directiveRegistry;let g=null;if(l)for(let E=0;E<l.length;E++){const T=l[E];Kh(o,T.selectors,!1)&&(g||(g=[]),U(Io(o,i),r,T.type),Ir(T)?(Fo(r,o),g.unshift(T)):g.push(T))}return g}(r,i,o),T=null===l?null:{"":-1};if(null!==E){g=!0,tf(o,r.data.length,E.length);for(let he=0;he<E.length;he++){const Ue=E[he];Ue.providersResolver&&Ue.providersResolver(Ue)}let N=!1,B=!1,ie=ft(r,i,E.length,null);for(let he=0;he<E.length;he++){const Ue=E[he];o.mergedAttrs=zc(o.mergedAttrs,Ue.hostAttrs),m(r,o,i,ie,Ue),dl(ie,Ue,T),null!==Ue.contentQueries&&(o.flags|=8),(null!==Ue.hostBindings||null!==Ue.hostAttrs||0!==Ue.hostVars)&&(o.flags|=128);const yt=Ue.type.prototype;!N&&(yt.ngOnChanges||yt.ngOnInit||yt.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),N=!0),!B&&(yt.ngOnChanges||yt.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),B=!0),ie++}!function v(r,i){const l=i.directiveEnd,g=r.data,E=i.attrs,T=[];let N=null,B=null;for(let ie=i.directiveStart;ie<l;ie++){const he=g[ie],Ue=he.inputs,yt=null===E||Hs(i)?null:se(Ue,E);T.push(yt),N=Wr(Ue,ie,N),B=Wr(he.outputs,ie,B)}null!==N&&(N.hasOwnProperty("class")&&(i.flags|=16),N.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=T,i.inputs=N,i.outputs=B}(r,o)}T&&function dc(r,i,o){if(i){const l=r.localNames=[];for(let g=0;g<i.length;g+=2){const E=o[i[g+1]];if(null==E)throw new ee(-301,!1);l.push(i[g],E)}}}(o,l,T)}return o.mergedAttrs=zc(o.mergedAttrs,o.attrs),g}function Xt(r,i,o,l,g,E){const T=E.hostBindings;if(T){let N=r.hostBindingOpCodes;null===N&&(N=r.hostBindingOpCodes=[]);const B=~i.index;(function Mr(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(N)!=B&&N.push(B),N.push(l,g,T)}}function Fa(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Fo(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function dl(r,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=r;Ir(i)&&(o[""]=r)}}function tf(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function m(r,i,o,l,g){r.data[l]=g;const E=g.factory||(g.factory=hi(g.type)),T=new Bo(E,Ir(g),null);r.blueprint[l]=T,o[l]=T,Xt(r,i,0,l,ft(r,o,g.hostVars,gr),g)}function f(r,i,o){const l=hn(i,r),g=sn(o),E=r[10],T=jc(r,Xe(r,g,null,o.onPush?64:16,l,i,E,E.createRenderer(l,o),null,null));r[i.index]=T}function I(r,i,o,l,g,E){const T=hn(r,i);!function O(r,i,o,l,g,E,T){if(null==E)bi(r)?r.removeAttribute(i,g,o):i.removeAttribute(g);else{const N=null==T?ue(E):T(E,l||"",g);bi(r)?r.setAttribute(i,g,N,o):o?i.setAttributeNS(o,g,N):i.setAttribute(g,N)}}(i[11],T,E,r.value,o,l,g)}function D(r,i,o,l,g,E){const T=E[i];if(null!==T){const N=l.setInput;for(let B=0;B<T.length;){const ie=T[B++],he=T[B++],Ue=T[B++];null!==N?l.setInput(o,Ue,ie,he):o[he]=Ue}}}function se(r,i){let o=null,l=0;for(;l<i.length;){const g=i[l];if(0!==g)if(5!==g){if("number"==typeof g)break;r.hasOwnProperty(g)&&(null===o&&(o=[]),o.push(g,r[g],i[l+1])),l+=2}else l+=2;else l+=4}return o}function Bt(r,i,o,l){return new Array(r,!0,!1,i,null,0,l,o,null,null)}function Ur(r,i){const o=Kn(i,r);if(Pi(o)){const l=o[1];80&o[2]?lt(l,o,l.template,o[8]):o[5]>0&&ln(o)}}function ln(r){for(let l=od(r);null!==l;l=ho(l))for(let g=10;g<l.length;g++){const E=l[g];if(1024&E[2]){const T=E[1];lt(T,E,T.template,E[8])}else E[5]>0&&ln(E)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const g=Kn(o[l],r);Pi(g)&&g[5]>0&&ln(g)}}function ei(r,i){const o=Kn(i,r),l=o[1];(function Vi(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(l,o),ut(l,o,o[8])}function jc(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function nf(r){for(;r;){r[2]|=64;const i=to(r);if(Si(r)&&!i)return r;r=i}return null}function th(r,i,o){const l=i[10];l.begin&&l.begin();try{lt(r,i,r.template,o)}catch(g){throw sm(i,g),g}finally{l.end&&l.end()}}function qf(r){!function hl(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],l=Ra(o),g=l[1];ht(g,l,g.template,o)}}(r[8])}function rm(r,i,o){Gn(0),i(r,o)}const Gf=(()=>Promise.resolve(null))();function ig(r){return r[7]||(r[7]=[])}function Sp(r){return r.cleanup||(r.cleanup=[])}function sm(r,i){const o=r[9],l=o?o.get(eu,null):null;l&&l.handleError(i)}function wy(r,i,o,l,g){for(let E=0;E<o.length;){const T=o[E++],N=o[E++],B=i[T],ie=r.data[T];null!==ie.setInput?ie.setInput(B,g,l,N):B[N]=g}}function bd(r,i,o){const l=Gt(i,r);!function Rl(r,i,o){bi(r)?r.setValue(i,o):i.textContent=o}(r[11],l,o)}function sg(r,i,o){let l=o?r.styles:null,g=o?r.classes:null,E=0;if(null!==i)for(let T=0;T<i.length;T++){const N=i[T];"number"==typeof N?E=N:1==E?g=Le(g,N):2==E&&(l=Le(l,N+": "+i[++T]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=g:r.classesWithoutHost=g}const am=new Bs("INJECTOR",-1);class Iy{get(i,o=Rc){if(o===Rc){const l=new Error(`NullInjectorError: No provider for ${Ne(i)}!`);throw l.name="NullInjectorError",l}return o}}const Ap=new Bs("Set Injector scope."),ba={},v_={};let cm;function Sy(){return void 0===cm&&(cm=new Iy),cm}function Ay(r,i=null,o=null,l){const g=Cy(r,i,o,l);return g._resolveInjectorDefTypes(),g}function Cy(r,i=null,o=null,l){return new __(r,o,i||Sy(),l)}class __{constructor(i,o,l,g=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const E=[];o&&Ji(o,N=>this.processProvider(N,i,o)),Ji([i],N=>this.processInjectorType(N,[],E)),this.records.set(am,Sh(void 0,this));const T=this.records.get(Ap);this.scope=null!=T?T.value:null,this.source=g||("object"==typeof i?null:Ne(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=Rc,l=er.Default){this.assertNotDestroyed();const g=z(this),E=xr(void 0);try{if(!(l&er.SkipSelf)){let N=this.records.get(i);if(void 0===N){const B=function Oy(r){return"function"==typeof r||"object"==typeof r&&r instanceof Bs}(i)&&Sn(i);N=B&&this.injectableDefInScope(B)?Sh(Cp(i),ba):null,this.records.set(i,N)}if(null!=N)return this.hydrate(i,N)}return(l&er.Self?Sy():this.parent).get(i,o=l&er.Optional&&o===Rc?null:o)}catch(T){if("NullInjectorError"===T.name){if((T[$a]=T[$a]||[]).unshift(Ne(i)),g)throw T;return function Xn(r,i,o,l){const g=r[$a];throw i[R]&&g.unshift(i[R]),r.message=function An(r,i,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let g=Ne(i);if(Array.isArray(i))g=i.map(Ne).join(" -> ");else if("object"==typeof i){let E=[];for(let T in i)if(i.hasOwnProperty(T)){let N=i[T];E.push(T+":"+("string"==typeof N?JSON.stringify(N):Ne(N)))}g=`{${E.join(", ")}}`}return`${o}${l?"("+l+")":""}[${g}]: ${r.replace(Ao,"\n  ")}`}("\n"+r.message,g,o,l),r.ngTokenPath=g,r[$a]=null,r}(T,i,"R3InjectorError",this.source)}throw T}finally{xr(E),z(g)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,g)=>i.push(Ne(g))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processInjectorType(i,o,l){if(!(i=Ae(i)))return!1;let g=Vr(i);const E=null==g&&i.ngModule||void 0,T=void 0===E?i:E,N=-1!==l.indexOf(T);if(void 0!==E&&(g=Vr(E)),null==g)return!1;if(null!=g.imports&&!N){let he;l.push(T);try{Ji(g.imports,Ue=>{this.processInjectorType(Ue,o,l)&&(void 0===he&&(he=[]),he.push(Ue))})}finally{}if(void 0!==he)for(let Ue=0;Ue<he.length;Ue++){const{ngModule:yt,providers:Vt}=he[Ue];Ji(Vt,vn=>this.processProvider(vn,yt,Vt||or))}}this.injectorDefTypes.add(T);const B=hi(T)||(()=>new T);this.records.set(T,Sh(B,ba));const ie=g.providers;if(null!=ie&&!N){const he=i;Ji(ie,Ue=>this.processProvider(Ue,he,ie))}return void 0!==E&&void 0!==i.providers}processProvider(i,o,l){let g=sf(i=Ae(i))?i:Ae(i&&i.provide);const E=function Dy(r,i,o){return Kf(r)?Sh(void 0,r.useValue):Sh(og(r),ba)}(i);if(sf(i)||!0!==i.multi)this.records.get(g);else{let T=this.records.get(g);T||(T=Sh(void 0,ba,!0),T.factory=()=>xt(T.multi),this.records.set(g,T)),g=i,T.multi.push(i)}this.records.set(g,E)}hydrate(i,o){return o.value===ba&&(o.value=v_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function b_(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Ae(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Cp(r){const i=Sn(r),o=null!==i?i.factory:hi(r);if(null!==o)return o;if(r instanceof Bs)throw new ee(204,!1);if(r instanceof Function)return function Ty(r){const i=r.length;if(i>0)throw Hu(i,"?"),new ee(204,!1);const o=function $n(r){const i=r&&(r[Zr]||r[Gr]);if(i){const o=function ar(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new ee(204,!1)}function og(r,i,o){let l;if(sf(r)){const g=Ae(r);return hi(g)||Cp(g)}if(Kf(r))l=()=>Ae(r.useValue);else if(function um(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...xt(r.deps||[]));else if(function ag(r){return!(!r||!r.useExisting)}(r))l=()=>De(Ae(r.useExisting));else{const g=Ae(r&&(r.useClass||r.provide));if(!function xy(r){return!!r.deps}(r))return hi(g)||Cp(g);l=()=>new g(...xt(r.deps))}return l}function Sh(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function Kf(r){return null!==r&&"object"==typeof r&&A in r}function sf(r){return"function"==typeof r}let wd=(()=>{class r{static create(o,l){var g;if(Array.isArray(o))return Ay({name:""},l,o,"");{const E=null!==(g=o.name)&&void 0!==g?g:"";return Ay({name:E},o.parent,o.providers,E)}}}return r.THROW_IF_NOT_FOUND=Rc,r.NULL=new Iy,r.\u0275prov=At({token:r,providedIn:"any",factory:()=>De(am)}),r.__NG_ELEMENT_ID__=-1,r})();function mm(r,i){Tc(Ra(r)[1],Fr())}function Jf(r){let i=function lg(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;i;){let g;if(Ir(r))g=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ee(903,"");g=i.\u0275dir}if(g){if(o){l.push(g);const T=r;T.inputs=dg(r.inputs),T.declaredInputs=dg(r.declaredInputs),T.outputs=dg(r.outputs);const N=g.hostBindings;N&&S_(r,N);const B=g.viewQuery,ie=g.contentQueries;if(B&&Xf(r,B),ie&&vm(r,ie),Pe(r.inputs,g.inputs),Pe(r.declaredInputs,g.declaredInputs),Pe(r.outputs,g.outputs),Ir(g)&&g.data.animation){const he=r.data;he.animation=(he.animation||[]).concat(g.data.animation)}}const E=g.features;if(E)for(let T=0;T<E.length;T++){const N=E[T];N&&N.ngInherit&&N(r),N===Jf&&(o=!1)}}i=Object.getPrototypeOf(i)}!function ym(r){let i=0,o=null;for(let l=r.length-1;l>=0;l--){const g=r[l];g.hostVars=i+=g.hostVars,g.hostAttrs=zc(g.hostAttrs,o=zc(o,g.hostAttrs))}}(l)}function dg(r){return r===En?{}:r===or?[]:r}function Xf(r,i){const o=r.viewQuery;r.viewQuery=o?(l,g)=>{i(l,g),o(l,g)}:i}function vm(r,i){const o=r.contentQueries;r.contentQueries=o?(l,g,E)=>{i(l,g,E),o(l,g,E)}:i}function S_(r,i){const o=r.hostBindings;r.hostBindings=o?(l,g)=>{i(l,g),o(l,g)}:i}let hg=null;function af(){if(!hg){const r=St.Symbol;if(r&&r.iterator)hg=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(hg=l)}}}return hg}function Rf(r){return!!bm(r)&&(Array.isArray(r)||!(r instanceof Map)&&af()in r)}function bm(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function jl(r,i,o){return r[i]=o}function ep(r,i){return r[i]}function Sc(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function Ah(r,i,o,l){const g=Sc(r,i,o);return Sc(r,i+1,l)||g}function nh(r,i,o,l){const g=J();return Sc(g,fi(),i)&&(Mt(),I(is(),g,r,i,o,l)),nh}function Ed(r,i,o,l){return Sc(r,fi(),o)?i+ue(o)+l:gr}function Id(r,i,o,l,g,E){const N=Ah(r,function js(){return Sr.lFrame.bindingIndex}(),o,g);return zs(2),N?i+ue(o)+l+ue(g)+E:gr}function Em(r,i,o,l,g,E,T,N){const B=J(),ie=Mt(),he=r+20,Ue=ie.firstCreatePass?function zy(r,i,o,l,g,E,T,N,B){const ie=i.consts,he=Qe(i,r,4,T||null,Fi(ie,N));Fn(i,o,he,Fi(ie,B)),Tc(i,he);const Ue=he.tViews=Zt(2,he,l,g,E,i.directiveRegistry,i.pipeRegistry,null,i.schemas,ie);return null!==i.queries&&(i.queries.template(i,he),Ue.queries=i.queries.embeddedTView(he)),he}(he,ie,B,i,o,l,g,E,T):ie.data[he];Gi(Ue,!1);const yt=B[11].createComment("");ol(ie,B,yt,Ue),Wo(yt,B),jc(B,B[he]=Bt(yt,B,yt,Ue)),ui(Ue)&&Pt(ie,B,Ue),null!=T&&en(B,Ue,N)}function Im(r){return Nr(function su(){return Sr.lFrame.contextLView}(),20+r)}function sp(r,i=er.Default){const o=J();return null===o?De(r,i):X(Fr(),o,Ae(r),i)}function Eg(){throw new Error("invalid")}function Ig(r,i,o){const l=J();return Sc(l,fi(),i)&&p(Mt(),is(),l,r,i,l[11],o,!1),Ig}function Nm(r,i,o,l,g){const T=g?"class":"style";wy(r,o,i.inputs[T],T,l)}function op(r,i,o,l){const g=J(),E=Mt(),T=20+r,N=g[11],B=g[T]=ya(N,i,function $c(){return Sr.lFrame.currentNamespace}()),ie=E.firstCreatePass?function L_(r,i,o,l,g,E,T){const N=i.consts,ie=Qe(i,r,2,g,Fi(N,E));return Fn(i,o,ie,Fi(N,T)),null!==ie.attrs&&sg(ie,ie.attrs,!1),null!==ie.mergedAttrs&&sg(ie,ie.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,ie),ie}(T,E,g,0,i,o,l):E.data[T];Gi(ie,!0);const he=ie.mergedAttrs;null!==he&&Di(N,B,he);const Ue=ie.classes;null!==Ue&&va(N,B,Ue);const yt=ie.styles;return null!==yt&&Nl(N,B,yt),64!=(64&ie.flags)&&ol(E,g,B,ie),0===function Ia(){return Sr.lFrame.elementDepthCount}()&&Wo(B,g),function Cs(){Sr.lFrame.elementDepthCount++}(),ui(ie)&&(Pt(E,g,ie),wt(E,ie,g)),null!==l&&en(g,ie),op}function Sg(){let r=Fr();Go()?Hr():(r=r.parent,Gi(r,!1));const i=r;!function co(){Sr.lFrame.elementDepthCount--}();const o=Mt();return o.firstCreatePass&&(Tc(o,r),Un(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function la(r){return 0!=(16&r.flags)}(i)&&Nm(o,i,J(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Wc(r){return 0!=(32&r.flags)}(i)&&Nm(o,i,J(),i.stylesWithoutHost,!1),Sg}function kp(r,i,o,l){return op(r,i,o,l),Sg(),kp}function Fm(r,i,o){const l=J(),g=Mt(),E=r+20,T=g.firstCreatePass?function km(r,i,o,l,g){const E=i.consts,T=Fi(E,l),N=Qe(i,r,8,"ng-container",T);return null!==T&&sg(N,T,!0),Fn(i,o,N,Fi(E,g)),null!==i.queries&&i.queries.elementStart(i,N),N}(E,g,l,i,o):g.data[E];Gi(T,!0);const N=l[E]=l[11].createComment("");return ol(g,l,N,T),Wo(N,l),ui(T)&&(Pt(g,l,T),wt(g,T,l)),null!=o&&en(l,T),Fm}function Ag(){let r=Fr();const i=Mt();return Go()?Hr():(r=r.parent,Gi(r,!1)),i.firstCreatePass&&(Tc(i,r),Un(r)&&i.queries.elementEnd(r)),Ag}function Cg(r,i,o){return Fm(r,i,o),Ag(),Cg}function nv(){return J()}function Fp(r){return!!r&&"function"==typeof r.then}function Lm(r){return!!r&&"function"==typeof r.subscribe}const Lp=Lm;function Um(r,i,o,l){const g=J(),E=Mt(),T=Fr();return function iv(r,i,o,l,g,E,T,N){const B=ui(l),he=r.firstCreatePass&&Sp(r),Ue=i[8],yt=ig(i);let Vt=!0;if(3&l.type||N){const fr=hn(l,i),Br=N?N(fr):fr,Tn=yt.length,oi=N?ps=>N(W(ps[l.index])):l.index;if(bi(o)){let ps=null;if(!N&&B&&(ps=function U_(r,i,o,l){const g=r.cleanup;if(null!=g)for(let E=0;E<g.length-1;E+=2){const T=g[E];if(T===o&&g[E+1]===l){const N=i[7],B=g[E+2];return N.length>B?N[B]:null}"string"==typeof T&&(E+=2)}return null}(r,i,g,l.index)),null!==ps)(ps.__ngLastListenerFn__||ps).__ngNextListenerFn__=E,ps.__ngLastListenerFn__=E,Vt=!1;else{E=Up(l,i,Ue,E,!1);const fo=o.listen(Br,g,E);yt.push(E,fo),he&&he.push(g,oi,Tn,Tn+1)}}else E=Up(l,i,Ue,E,!0),Br.addEventListener(g,E,T),yt.push(E),he&&he.push(g,oi,Tn,T)}else E=Up(l,i,Ue,E,!1);const vn=l.outputs;let Jn;if(Vt&&null!==vn&&(Jn=vn[g])){const fr=Jn.length;if(fr)for(let Br=0;Br<fr;Br+=2){const Md=i[Jn[Br]][Jn[Br+1]].subscribe(E),rg=yt.length;yt.push(E,Md),he&&he.push(g,l.index,rg,-(rg+1))}}}(E,g,g[11],T,r,i,!!o,l),Um}function jm(r,i,o,l){try{return!1!==o(l)}catch(g){return sm(r,g),!1}}function Up(r,i,o,l,g){return function E(T){if(T===Function)return l;const N=2&r.flags?Kn(r.index,i):i;0==(32&i[2])&&nf(N);let B=jm(i,0,l,T),ie=E.__ngNextListenerFn__;for(;ie;)B=jm(i,0,ie,T)&&B,ie=ie.__ngNextListenerFn__;return g&&!1===B&&(T.preventDefault(),T.returnValue=!1),B}}function Bm(r=1){return function Vc(r){return(Sr.lFrame.contextLView=function Sa(r,i){for(;r>0;)i=i[15],r--;return i}(r,Sr.lFrame.contextLView))[8]}(r)}function Vm(r,i){let o=null;const l=function Qh(r){const i=r.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(r);for(let g=0;g<i.length;g++){const E=i[g];if("*"!==E){if(null===l?Kh(r,E,!0):sa(l,E))return g}else o=g}return o}function Tg(r){const i=J()[16][6];if(!i.projection){const l=i.projection=Hu(r?r.length:1,null),g=l.slice();let E=i.child;for(;null!==E;){const T=r?Vm(E,r):0;null!==T&&(g[T]?g[T].projectionNext=E:l[T]=E,g[T]=E),E=E.next}}}function Dg(r,i=0,o){const l=J(),g=Mt(),E=Qe(g,20+r,16,null,o||null);null===E.projection&&(E.projection=i),Hr(),64!=(64&E.flags)&&function Gh(r,i,o){Hf(i[11],0,i,o,$h(r,o,i),yh(o.parent||i[6],o,i))}(g,l,E)}function ap(r,i,o){return jp(r,"",i,"",o),ap}function jp(r,i,o,l,g){const E=J(),T=Ed(E,i,o,l);return T!==gr&&p(Mt(),is(),E,r,T,E[11],g,!1),jp}function Wm(r,i,o,l,g){const E=r[o+1],T=null===i;let N=l?Ga(E):ws(E),B=!1;for(;0!==N&&(!1===B||T);){const he=r[N+1];B_(r[N],i)&&(B=!0,r[N+1]=l?$s(he):oa(he)),N=l?Ga(he):ws(he)}B&&(r[o+1]=l?oa(E):$s(E))}function B_(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Kc(r,i)>=0}const hc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cv(r){return r.substring(hc.key,hc.keyEnd)}function Mg(r,i){const o=hc.textEnd;return o===i?-1:(i=hc.keyEnd=function fs(r,i,o){for(;i<o&&r.charCodeAt(i)>32;)i++;return i}(r,hc.key=i,o),Th(r,i,o))}function Th(r,i,o){for(;i<o&&r.charCodeAt(i)<=32;)i++;return i}function Ac(r,i,o){return Vl(r,i,o,!1),Ac}function Bl(r,i){return Vl(r,i,null,!0),Bl}function Vp(r){!function Td(r,i,o,l){const g=Mt(),E=zs(2);g.firstUpdatePass&&fv(g,null,E,l);const T=J();if(o!==gr&&Sc(T,E,o)){const N=g.data[ys()];if(Z_(N,l)&&!Pg(g,E)){let B=l?N.classesWithoutHost:N.stylesWithoutHost;null!==B&&(o=Le(B,o||"")),Nm(g,N,T,o,l)}else!function gv(r,i,o,l,g,E,T,N){g===gr&&(g=or);let B=0,ie=0,he=0<g.length?g[0]:null,Ue=0<E.length?E[0]:null;for(;null!==he||null!==Ue;){const yt=B<g.length?g[B+1]:void 0,Vt=ie<E.length?E[ie+1]:void 0;let Jn,vn=null;he===Ue?(B+=2,ie+=2,yt!==Vt&&(vn=Ue,Jn=Vt)):null===Ue||null!==he&&he<Ue?(B+=2,vn=he):(ie+=2,vn=Ue,Jn=Vt),null!==vn&&mv(r,i,o,l,vn,Jn,T,N),he=B<g.length?g[B]:null,Ue=ie<E.length?E[ie]:null}}(g,N,T,T[11],T[E+1],T[E+1]=function W_(r,i,o){if(null==o||""===o)return or;const l=[],g=za(o);if(Array.isArray(g))for(let E=0;E<g.length;E++)r(l,g[E],!0);else if("object"==typeof g)for(const E in g)g.hasOwnProperty(E)&&r(l,E,g[E]);else"string"==typeof g&&i(l,g);return l}(r,i,o),l,E)}}(Vo,Cd,r,!0)}function Cd(r,i){for(let o=function uv(r){return function Zm(r){hc.key=0,hc.keyEnd=0,hc.value=0,hc.valueEnd=0,hc.textEnd=r.length}(r),Mg(r,Th(r,0,hc.textEnd))}(i);o>=0;o=Mg(i,o))Vo(r,cv(i),!0)}function Vl(r,i,o,l){const g=J(),E=Mt(),T=zs(2);E.firstUpdatePass&&fv(E,r,T,l),i!==gr&&Sc(g,T,i)&&mv(E,E.data[ys()],g,g[11],r,g[T+1]=function z_(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=Ne(za(r)))),r}(i,o),l,T)}function Pg(r,i){return i>=r.expandoStartIndex}function fv(r,i,o,l){const g=r.data;if(null===g[o+1]){const E=g[ys()],T=Pg(r,o);Z_(E,l)&&null===i&&!T&&(i=!1),i=function $_(r,i,o,l){const g=function We(r){const i=Sr.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let E=l?i.residualClasses:i.residualStyles;if(null===g)0===(l?i.classBindings:i.styleBindings)&&(o=cp(o=wa(null,r,i,o,l),i.attrs,l),E=null);else{const T=i.directiveStylingLast;if(-1===T||r[T]!==g)if(o=wa(g,r,i,o,l),null===E){let B=function qo(r,i,o){const l=o?i.classBindings:i.styleBindings;if(0!==ws(l))return r[Ga(l)]}(r,i,l);void 0!==B&&Array.isArray(B)&&(B=wa(null,r,i,B[1],l),B=cp(B,i.attrs,l),function Rb(r,i,o,l){r[Ga(o?i.classBindings:i.styleBindings)]=l}(r,i,l,B))}else E=function Mb(r,i,o){let l;const g=i.directiveEnd;for(let E=1+i.directiveStylingLast;E<g;E++)l=cp(l,r[E].hostAttrs,o);return cp(l,i.attrs,o)}(r,i,l)}return void 0!==E&&(l?i.residualClasses=E:i.residualStyles=E),o}(g,E,i,l),function av(r,i,o,l,g,E){let T=E?i.classBindings:i.styleBindings,N=Ga(T),B=ws(T);r[l]=o;let he,ie=!1;if(Array.isArray(o)){const Ue=o;he=Ue[1],(null===he||Kc(Ue,he)>0)&&(ie=!0)}else he=o;if(g)if(0!==B){const yt=Ga(r[N+1]);r[l+1]=wh(yt,N),0!==yt&&(r[yt+1]=Ka(r[yt+1],l)),r[N+1]=function kc(r,i){return 131071&r|i<<17}(r[N+1],l)}else r[l+1]=wh(N,0),0!==N&&(r[N+1]=Ka(r[N+1],l)),N=l;else r[l+1]=wh(B,0),0===N?N=l:r[B+1]=Ka(r[B+1],l),B=l;ie&&(r[l+1]=oa(r[l+1])),Wm(r,he,l,!0),Wm(r,he,l,!1),function j_(r,i,o,l,g){const E=g?r.residualClasses:r.residualStyles;null!=E&&"string"==typeof i&&Kc(E,i)>=0&&(o[l+1]=$s(o[l+1]))}(i,he,r,l,E),T=wh(N,B),E?i.classBindings=T:i.styleBindings=T}(g,E,i,o,T,l)}}function wa(r,i,o,l,g){let E=null;const T=o.directiveEnd;let N=o.directiveStylingLast;for(-1===N?N=o.directiveStart:N++;N<T&&(E=i[N],l=cp(l,E.hostAttrs,g),E!==r);)N++;return null!==r&&(o.directiveStylingLast=N),l}function cp(r,i,o){const l=o?1:2;let g=-1;if(null!==i)for(let E=0;E<i.length;E++){const T=i[E];"number"==typeof T?g=T:g===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Vo(r,T,!!o||i[++E]))}return void 0===r?null:r}function mv(r,i,o,l,g,E,T,N){if(!(3&i.type))return;const B=r.data,ie=B[N+1];Ng(function ru(r){return 1==(1&r)}(ie)?yv(B,i,o,g,ws(ie),T):void 0)||(Ng(E)||function Qs(r){return 2==(2&r)}(ie)&&(E=yv(B,null,o,g,N,T)),function vh(r,i,o,l,g){const E=bi(r);if(i)g?E?r.addClass(o,l):o.classList.add(l):E?r.removeClass(o,l):o.classList.remove(l);else{let T=-1===l.indexOf("-")?void 0:Ec.DashCase;if(null==g)E?r.removeStyle(o,l,T):o.style.removeProperty(l);else{const N="string"==typeof g&&g.endsWith("!important");N&&(g=g.slice(0,-10),T|=Ec.Important),E?r.setStyle(o,l,g,T):o.style.setProperty(l,g,N?"important":"")}}}(l,T,Gt(ys(),o),g,E))}function yv(r,i,o,l,g,E){const T=null===i;let N;for(;g>0;){const B=r[g],ie=Array.isArray(B),he=ie?B[1]:B,Ue=null===he;let yt=o[g+1];yt===gr&&(yt=Ue?or:void 0);let Vt=Ue?$u(yt,l):he===l?yt:void 0;if(ie&&!Ng(Vt)&&(Vt=$u(B,l)),Ng(Vt)&&(N=Vt,T))return N;const vn=r[g+1];g=T?Ga(vn):ws(vn)}if(null!==i){let B=E?i.residualClasses:i.residualStyles;null!=B&&(N=$u(B,l))}return N}function Ng(r){return void 0!==r}function Z_(r,i){return 0!=(r.flags&(i?16:32))}function vv(r,i=""){const o=J(),l=Mt(),g=r+20,E=l.firstCreatePass?Qe(l,g,1,i,null):l.data[g],T=o[g]=function gh(r,i){return bi(r)?r.createText(i):r.createTextNode(i)}(o[11],i);ol(l,o,T,E),Gi(E,!1)}function Gm(r){return Hp("",r,""),Gm}function Hp(r,i,o){const l=J(),g=Ed(l,r,i,o);return g!==gr&&bd(l,ys(),g),Hp}function Dd(r,i,o,l,g){const E=J(),T=Id(E,r,i,o,l,g);return T!==gr&&bd(E,ys(),T),Dd}const Uu=void 0;var Dv=["en",[["a","p"],["AM","PM"],Uu],[["AM","PM"],Uu,Uu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Uu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Uu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Uu,"{1} 'at' {0}",Uu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function J_(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Lf={};function ih(r){const i=function X_(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=Ov(i);if(o)return o;const l=i.split("-")[0];if(o=Ov(l),o)return o;if("en"===l)return Dv;throw new Error(`Missing locale data for the locale "${r}".`)}function xv(r){return ih(r)[si.PluralCase]}function Ov(r){return r in Lf||(Lf[r]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[r]),Lf[r]}var si=(()=>((si=si||{})[si.LocaleId=0]="LocaleId",si[si.DayPeriodsFormat=1]="DayPeriodsFormat",si[si.DayPeriodsStandalone=2]="DayPeriodsStandalone",si[si.DaysFormat=3]="DaysFormat",si[si.DaysStandalone=4]="DaysStandalone",si[si.MonthsFormat=5]="MonthsFormat",si[si.MonthsStandalone=6]="MonthsStandalone",si[si.Eras=7]="Eras",si[si.FirstDayOfWeek=8]="FirstDayOfWeek",si[si.WeekendRange=9]="WeekendRange",si[si.DateFormat=10]="DateFormat",si[si.TimeFormat=11]="TimeFormat",si[si.DateTimeFormat=12]="DateTimeFormat",si[si.NumberSymbols=13]="NumberSymbols",si[si.NumberFormats=14]="NumberFormats",si[si.CurrencyCode=15]="CurrencyCode",si[si.CurrencySymbol=16]="CurrencySymbol",si[si.CurrencyName=17]="CurrencyName",si[si.Currencies=18]="Currencies",si[si.Directionality=19]="Directionality",si[si.PluralCase=20]="PluralCase",si[si.ExtraData=21]="ExtraData",si))();const jg="en-US";let ty=jg;function Kv(r,i,o,l,g){if(r=Ae(r),Array.isArray(r))for(let E=0;E<r.length;E++)Kv(r[E],i,o,l,g);else{const E=Mt(),T=J();let N=sf(r)?r:Ae(r.provide),B=og(r);const ie=Fr(),he=1048575&ie.providerIndexes,Ue=ie.directiveStart,yt=ie.providerIndexes>>20;if(sf(r)||!r.multi){const Vt=new Bo(B,g,sp),vn=Jv(N,i,g?he:he+yt,Ue);-1===vn?(U(Io(ie,T),E,N),Qv(E,r,i.length),i.push(N),ie.directiveStart++,ie.directiveEnd++,g&&(ie.providerIndexes+=1048576),o.push(Vt),T.push(Vt)):(o[vn]=Vt,T[vn]=Vt)}else{const Vt=Jv(N,i,he+yt,Ue),vn=Jv(N,i,he,he+yt),Jn=Vt>=0&&o[Vt],fr=vn>=0&&o[vn];if(g&&!fr||!g&&!Jn){U(Io(ie,T),E,N);const Br=function ly(r,i,o,l,g){const E=new Bo(r,o,sp);return E.multi=[],E.index=i,E.componentProviders=0,Yv(E,g,l&&!o),E}(g?uy:C0,o.length,g,l,B);!g&&fr&&(o[vn].providerFactory=Br),Qv(E,r,i.length,0),i.push(N),ie.directiveStart++,ie.directiveEnd++,g&&(ie.providerIndexes+=1048576),o.push(Br),T.push(Br)}else Qv(E,r,Vt>-1?Vt:vn,Yv(o[g?vn:Vt],B,!g&&l));!g&&l&&fr&&o[vn].componentProviders++}}}function Qv(r,i,o,l){const g=sf(i),E=function lm(r){return!!r.useClass}(i);if(g||E){const B=(E?Ae(i.useClass):i).prototype.ngOnDestroy;if(B){const ie=r.destroyHooks||(r.destroyHooks=[]);if(!g&&i.multi){const he=ie.indexOf(o);-1===he?ie.push(o,[l,B]):ie[he+1].push(l,B)}else ie.push(o,B)}}}function Yv(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Jv(r,i,o,l){for(let g=o;g<l;g++)if(i[g]===r)return g;return-1}function C0(r,i,o,l){return Xv(this.multi,[])}function uy(r,i,o,l){const g=this.multi;let E;if(this.providerFactory){const T=this.providerFactory.componentProviders,N=sr(o,o[1],this.providerFactory.index,l);E=N.slice(0,T),Xv(g,E);for(let B=T;B<N.length;B++)E.push(N[B])}else E=[],Xv(g,E);return E}function Xv(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function T0(r,i=[]){return o=>{o.providersResolver=(l,g)=>function tw(r,i,o){const l=Mt();if(l.firstCreatePass){const g=Ir(r);Kv(o,l.data,l.blueprint,g,!0),Kv(i,l.data,l.blueprint,g,!1)}}(l,g?g(r):r,i)}}class D0{}class O0{resolveComponentFactory(i){throw function rw(r){const i=Error(`No component factory found for ${Ne(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let zg=(()=>{class r{}return r.NULL=new O0,r})();function R0(){return Xp(Fr(),J())}function Xp(r,i){return new Zg(hn(r,i))}let Zg=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=R0,r})();function M0(r){return r instanceof Zg?r.nativeElement:r}class e_{}let jf=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function k0(){const r=J(),o=Kn(Fr().index,r);return function N0(r){return r[11]}(yn(o)?o:r)}(),r})(),F0=(()=>{class r{}return r.\u0275prov=At({token:r,providedIn:"root",factory:()=>null}),r})();class L0{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const t_=new L0("13.2.7"),dy={};function gp(r,i,o,l,g=!1){for(;null!==o;){const E=i[o.index];if(null!==E&&l.push(W(E)),Cn(E))for(let N=10;N<E.length;N++){const B=E[N],ie=B[1].firstChild;null!==ie&&gp(B[1],B,ie,l)}const T=o.type;if(8&T)gp(r,i,o.child,l);else if(32&T){const N=Nu(o,i);let B;for(;B=N();)l.push(B)}else if(16&T){const N=tu(i,o);if(Array.isArray(N))l.push(...N);else{const B=to(i[16]);gp(B[1],B,N,l,!0)}}o=g?o.projectionNext:o.next}return l}class mp{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return gp(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Cn(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(Mc(i,l),Ld(o,l))}this._attachedToViewContainer=!1}cd(this._lView[1],this._lView)}onDestroy(i){ur(this._lView[1],this._lView,null,i)}markForCheck(){nf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){th(this._lView[1],this._lView,this.context)}checkNoChanges(){!function m_(r,i,o){La(!0);try{th(r,i,o)}finally{La(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ee(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Af(r,i){fd(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ee(902,"");this._appRef=i}}class n_ extends mp{constructor(i){super(i),this._view=i}detectChanges(){qf(this._view)}checkNoChanges(){!function by(r){La(!0);try{qf(r)}finally{La(!1)}}(this._view)}get context(){return null}}class yp extends zg{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=mt(i);return new Gg(o,this.ngModule)}}function qg(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class Gg extends D0{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function _u(r){return r.map(zf).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return qg(this.componentDef.inputs)}get outputs(){return qg(this.componentDef.outputs)}create(i,o,l,g){const E=(g=g||this.ngModule)?function j0(r,i){return{get:(o,l,g)=>{const E=r.get(o,dy,g);return E!==dy||l===dy?E:i.get(o,l,g)}}}(i,g.injector):i,T=E.get(e_,q),N=E.get(F0,null),B=T.createRenderer(null,this.componentDef),ie=this.componentDef.selectors[0][0]||"div",he=l?function Rn(r,i,o){if(bi(r))return r.selectRootElement(i,o===dn.ShadowDom);let l="string"==typeof i?r.querySelector(i):i;return l.textContent="",l}(B,l,this.componentDef.encapsulation):ya(T.createRenderer(null,this.componentDef),ie,function U0(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(ie)),Ue=this.componentDef.onPush?576:528,yt=function Uy(r,i){return{components:[],scheduler:r||Mu,clean:Gf,playerHandler:i||null,flags:0}}(),Vt=Zt(0,null,null,1,0,null,null,null,null,null),vn=Xe(null,Vt,yt,Ue,null,null,T,B,N,E);let Jn,fr;Ti(vn);try{const Br=function Ly(r,i,o,l,g,E){const T=o[1];o[20]=r;const B=Qe(T,20,2,"#host",null),ie=B.mergedAttrs=i.hostAttrs;null!==ie&&(sg(B,ie,!0),null!==r&&(Di(g,r,ie),null!==B.classes&&va(g,r,B.classes),null!==B.styles&&Nl(g,r,B.styles)));const he=l.createRenderer(r,i),Ue=Xe(o,sn(i),null,i.onPush?64:16,o[20],B,l,he,E||null,null);return T.firstCreatePass&&(U(Io(B,o),T,i.type),Fo(T,B),tf(B,o.length,1)),jc(o,Ue),o[20]=Ue}(he,this.componentDef,vn,T,B);if(he)if(l)Di(B,he,["ng-version",t_.full]);else{const{attrs:Tn,classes:oi}=function bh(r){const i=[],o=[];let l=1,g=2;for(;l<r.length;){let E=r[l];if("string"==typeof E)2===g?""!==E&&i.push(E,r[++l]):8===g&&o.push(E);else{if(!ci(g))break;g=E}l++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Tn&&Di(B,he,Tn),oi&&oi.length>0&&va(B,he,oi.join(" "))}if(fr=di(Vt,20),void 0!==o){const Tn=fr.projection=[];for(let oi=0;oi<this.ngContentSelectors.length;oi++){const ps=o[oi];Tn.push(null!=ps?Array.from(ps):null)}}Jn=function ug(r,i,o,l,g){const E=o[1],T=function gn(r,i,o){const l=Fr();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),m(r,l,i,ft(r,i,1,null),o));const g=sr(i,r,l.directiveStart,l);Wo(g,i);const E=hn(l,i);return E&&Wo(E,i),g}(E,o,i);if(l.components.push(T),r[8]=T,g&&g.forEach(B=>B(T,i)),i.contentQueries){const B=Fr();i.contentQueries(1,T,B.directiveStart)}const N=Fr();return!E.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Zs(N.index),Xt(o[1],N,0,N.directiveStart,N.directiveEnd,i),Fa(i,T)),T}(Br,this.componentDef,vn,yt,[mm]),ut(Vt,vn,null)}finally{Xa()}return new r_(this.componentType,Jn,Xp(fr,vn),vn,fr)}}class r_ extends class nw{}{constructor(i,o,l,g,E){super(),this.location=l,this._rootLView=g,this._tNode=E,this.instance=o,this.hostView=this.changeDetectorRef=new n_(g),this.componentType=i}get injector(){return new Ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class Hl{}class pl{}const Ja=new Map;class Yg extends Hl{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yp(this);const l=cr(i);this._bootstrapComponents=wc(l.bootstrap),this._r3Injector=Cy(i,o,[{provide:Hl,useValue:this},{provide:zg,useValue:this.componentFactoryResolver}],Ne(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=wd.THROW_IF_NOT_FOUND,l=er.Default){return i===wd||i===Hl||i===am?this:this._r3Injector.get(i,o,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class pf extends pl{constructor(i){super(),this.moduleType=i,null!==cr(i)&&function eg(r){const i=new Set;!function o(l){const g=cr(l,!0),E=g.id;null!==E&&(function hy(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${Ne(i)} vs ${Ne(i.name)}`)}(E,Ja.get(E),l),Ja.set(E,l));const T=wc(g.imports);for(const N of T)i.has(N)||(i.add(N),o(N))}(r)}(i)}create(i){return new Yg(this.moduleType,i)}}function gf(r,i,o){const l=Xs()+r,g=J();return g[l]===gr?jl(g,l,o?i.call(o):i()):ep(g,l)}function Jg(r,i,o,l){return o_(J(),Xs(),r,i,o,l)}function mf(r,i,o,l,g){return Xg(J(),Xs(),r,i,o,l,g)}function Dh(r,i,o,l,g,E,T,N,B){const ie=Xs()+r,he=J(),Ue=function Bc(r,i,o,l,g,E){const T=Ah(r,i,o,l);return Ah(r,i+2,g,E)||T}(he,ie,o,l,g,E);return Ah(he,ie+4,T,N)||Ue?jl(he,ie+6,B?i.call(B,o,l,g,E,T,N):i(o,l,g,E,T,N)):ep(he,ie+6)}function s_(r,i,o,l){return function a_(r,i,o,l,g,E){let T=i+o,N=!1;for(let B=0;B<g.length;B++)Sc(r,T++,g[B])&&(N=!0);return N?jl(r,T,l.apply(E,g)):vp(r,T)}(J(),Xs(),r,i,o,l)}function vp(r,i){const o=r[i];return o===gr?void 0:o}function o_(r,i,o,l,g,E){const T=i+o;return Sc(r,T,g)?jl(r,T+1,E?l.call(E,g):l(g)):vp(r,T+1)}function Xg(r,i,o,l,g,E,T){const N=i+o;return Ah(r,N,g,E)?jl(r,N+2,T?l.call(T,g,E):l(g,E)):vp(r,N+2)}function em(r,i){const o=Mt();let l;const g=r+20;o.firstCreatePass?(l=function Z0(r,i){if(i)for(let o=i.length-1;o>=0;o--){const l=i[o];if(r===l.name)return l}}(i,o.pipeRegistry),o.data[g]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(g,l.onDestroy)):l=o.data[g];const E=l.factory||(l.factory=hi(l.type)),T=xr(sp);try{const N=Eo(!1),B=E();return Eo(N),function Zy(r,i,o,l){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),i[o]=l}(o,J(),g,B),B}finally{xr(T)}}function py(r,i,o){const l=r+20,g=J(),E=Nr(g,l);return _p(g,l)?o_(g,Xs(),i,E.transform,o,E):E.transform(o)}function gy(r,i,o,l){const g=r+20,E=J(),T=Nr(E,g);return _p(E,g)?Xg(E,Xs(),i,T.transform,o,l,T):T.transform(o,l)}function _p(r,i){return r[1].data[i].pure}function my(r){return i=>{setTimeout(r,void 0,i)}}const Od=class G0 extends a.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){var g,E,T;let N=i,B=o||(()=>null),ie=l;if(i&&"object"==typeof i){const Ue=i;N=null===(g=Ue.next)||void 0===g?void 0:g.bind(Ue),B=null===(E=Ue.error)||void 0===E?void 0:E.bind(Ue),ie=null===(T=Ue.complete)||void 0===T?void 0:T.bind(Ue)}this.__isAsync&&(B=my(B),N&&(N=my(N)),ie&&(ie=my(ie)));const he=super.subscribe({next:N,error:B,complete:ie});return i instanceof y.w0&&i.add(he),he}};function l_(){return this._results[af()]()}class yy{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=af(),l=yy.prototype;l[o]||(l[o]=l_)}get changes(){return this._changes||(this._changes=new Od)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const g=rc(i);(this._changesDetected=!function ga(r,i,o){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let g=r[l],E=i[l];if(o&&(g=o(g),E=o(E)),E!==g)return!1}return!0}(l._results,g,o))&&(l._results=g,l.length=g.length,l.last=g[this.length-1],l.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let n=(()=>{class r{}return r.__NG_ELEMENT_ID__=s,r})();const e=n,t=class extends e{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i){const o=this._declarationTContainer.tViews,l=Xe(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(l[19]=E.createEmbeddedView(o)),ut(o,l,i),new mp(l)}};function s(){return c(Fr(),J())}function c(r,i){return 4&r.type?new t(i,r,Xp(r,i)):null}let w=(()=>{class r{}return r.__NG_ELEMENT_ID__=C,r})();function C(){return Ge(Fr(),J())}const j=w,te=class extends j{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return Xp(this._hostTNode,this._hostLView)}get injector(){return new Ei(this._hostTNode,this._hostLView)}get parentInjector(){const i=au(this._hostTNode,this._hostLView);if(Ua(i)){const o=nc(i,this._hostLView),l=da(i);return new Ei(o[1].data[l+8],o)}return new Ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=le(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){const g=i.createEmbeddedView(o||{});return this.insert(g,l),g}createComponent(i,o,l,g,E){const T=i&&!function Vu(r){return"function"==typeof r}(i);let N;if(T)N=o;else{const Ue=o||{};N=Ue.index,l=Ue.injector,g=Ue.projectableNodes,E=Ue.ngModuleRef}const B=T?i:new Gg(mt(i)),ie=l||this.parentInjector;if(!E&&null==B.ngModule){const yt=(T?ie:this.parentInjector).get(Hl,null);yt&&(E=yt)}const he=B.create(ie,g,void 0,E);return this.insert(he.hostView,N),he}insert(i,o){const l=i._lView,g=l[1];if(function wi(r){return Cn(r[3])}(l)){const he=this.indexOf(i);if(-1!==he)this.detach(he);else{const Ue=l[3],yt=new te(Ue,Ue[6],Ue[3]);yt.detach(yt.indexOf(i))}}const E=this._adjustIndex(o),T=this._lContainer;!function Zi(r,i,o,l){const g=10+l,E=o.length;l>0&&(o[g-1][4]=i),l<E-10?(i[4]=o[g],ic(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const T=i[17];null!==T&&o!==T&&function Cf(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(T,i);const N=i[19];null!==N&&N.insertView(r),i[2]|=128}(g,l,T,E);const N=dd(E,T),B=l[11],ie=ud(B,T[7]);return null!==ie&&function Vh(r,i,o,l,g,E){l[0]=g,l[6]=i,fd(r,l,o,1,g,E)}(g,T[6],B,l,ie,N),i.attachToViewContainerRef(),ic(He(T),E,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=le(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=Mc(this._lContainer,o);l&&(Ld(He(this._lContainer),o),cd(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=Mc(this._lContainer,o);return l&&null!=Ld(He(this._lContainer),o)?new mp(l):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function le(r){return r[8]}function He(r){return r[8]||(r[8]=[])}function Ge(r,i){let o;const l=i[r.index];if(Cn(l))o=l;else{let g;if(8&r.type)g=W(l);else{const E=i[11];g=E.createComment("");const T=hn(r,i);sl(E,ud(E,T),g,function Pl(r,i){return bi(r)?r.nextSibling(i):i.nextSibling}(E,T),!1)}i[r.index]=o=Bt(l,i,g,r),jc(i,o)}return new te(o,r,i)}class jr{constructor(i){this.queryList=i,this.matches=null}clone(){return new jr(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ai{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,g=[];for(let E=0;E<l;E++){const T=o.getByIndex(E);g.push(this.queries[T.indexInDeclarationView].clone())}return new Ai(g)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==pw(i,o).matches&&this.queries[o].setDirty()}}class aa{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class Cc{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const g=null!==o?o.length:0,E=this.getByIndex(l).embeddedTView(i,g);E&&(E.indexInDeclarationView=l,null!==o?o.push(E):o=[E])}return null!==o?new Cc(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Rd{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Rd(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let g=0;g<l.length;g++){const E=l[g];this.matchTNodeWithReadOption(i,o,sh(o,E)),this.matchTNodeWithReadOption(i,o,nn(o,i,E,!1,!1))}else l===n?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,nn(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const g=this.metadata.read;if(null!==g)if(g===Zg||g===w||g===n&&4&o.type)this.addMatch(o.index,-2);else{const E=nn(o,i,g,!1,!1);null!==E&&this.addMatch(o.index,E)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function sh(r,i){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function vy(r,i,o,l){return-1===o?function oh(r,i){return 11&r.type?Xp(r,i):4&r.type?c(r,i):null}(i,r):-2===o?function tm(r,i,o){return o===Zg?Xp(i,r):o===n?c(i,r):o===w?Ge(i,r):void 0}(r,i,l):sr(r,r[1],o,i)}function aw(r,i,o,l){const g=i[19].queries[l];if(null===g.matches){const E=r.data,T=o.matches,N=[];for(let B=0;B<T.length;B+=2){const ie=T[B];N.push(ie<0?null:vy(i,E[ie],T[B+1],o.metadata.read))}g.matches=N}return g.matches}function K0(r,i,o,l){const g=r.queries.getByIndex(o),E=g.matches;if(null!==E){const T=aw(r,i,g,o);for(let N=0;N<E.length;N+=2){const B=E[N];if(B>0)l.push(T[N/2]);else{const ie=E[N+1],he=i[-B];for(let Ue=10;Ue<he.length;Ue++){const yt=he[Ue];yt[17]===yt[3]&&K0(yt[1],yt,ie,l)}if(null!==he[9]){const Ue=he[9];for(let yt=0;yt<Ue.length;yt++){const Vt=Ue[yt];K0(Vt[1],Vt,ie,l)}}}}}return l}function cw(r){const i=J(),o=Mt(),l=Yt();Gn(l+1);const g=pw(o,l);if(r.dirty&&Xr(i)===(2==(2&g.metadata.flags))){if(null===g.matches)r.reset([]);else{const E=g.crossesNgTemplate?K0(o,i,l,[]):aw(o,i,g,l);r.reset(E,M0),r.notifyOnChanges()}return!0}return!1}function uw(r,i,o){const l=Mt();l.firstCreatePass&&(fw(l,new aa(r,i,o),-1),2==(2&i)&&(l.staticViewQueries=!0)),hw(l,J(),i)}function lw(r,i,o,l){const g=Mt();if(g.firstCreatePass){const E=Fr();fw(g,new aa(i,o,l),E.index),function cE(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(g,r),2==(2&o)&&(g.staticContentQueries=!0)}hw(g,J(),o)}function dw(){return function aE(r,i){return r[19].queries[i].queryList}(J(),Yt())}function hw(r,i,o){const l=new yy(4==(4&o));ur(r,i,l,l.destroy),null===i[19]&&(i[19]=new Ai),i[19].queries.push(new jr(l))}function fw(r,i,o){null===r.queries&&(r.queries=new Cc),r.queries.track(new Rd(i,o))}function pw(r,i){return r.queries.getByIndex(i)}function gw(r,i){return c(r,i)}function f_(...r){}const Mw=new Bs("Application Initializer");let tb=(()=>{class r{constructor(o){this.appInits=o,this.resolve=f_,this.reject=f_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,g)=>{this.resolve=l,this.reject=g})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const E=this.appInits[g]();if(Fp(E))o.push(E);else if(Lp(E)){const T=new Promise((N,B)=>{E.subscribe({complete:N,error:B})});o.push(T)}}Promise.all(o).then(()=>{l()}).catch(g=>{this.reject(g)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(De(Mw,8))},r.\u0275prov=At({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Pw=new Bs("AppId",{providedIn:"root",factory:function Nw(){return`${nb()}${nb()}${nb()}`}});function nb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kw=new Bs("Platform Initializer"),Fw=new Bs("Platform ID"),Lw=new Bs("appBootstrapListener");let Uw=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=At({token:r,factory:r.\u0275fac}),r})();const rb=new Bs("LocaleId",{providedIn:"root",factory:()=>wn(rb,er.Optional|er.SkipSelf)||function AE(){return"undefined"!=typeof $localize&&$localize.locale||jg}()}),CE=new Bs("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class TE{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let DE=(()=>{class r{compileModuleSync(o){return new pf(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),E=wc(cr(o).declarations).reduce((T,N)=>{const B=mt(N);return B&&T.push(new Gg(B)),T},[]);return new TE(l,E)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=At({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const OE=(()=>Promise.resolve(0))();function ib(r){"undefined"==typeof Zone?OE.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class xh{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Od(!1),this.onMicrotaskEmpty=new Od(!1),this.onStable=new Od(!1),this.onError=new Od(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!l&&o,g.shouldCoalesceRunChangeDetection=l,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function RE(){let r=St.requestAnimationFrame,i=St.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function NE(r){const i=()=>{!function PE(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(St,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,ob(r),r.isCheckStableRunning=!0,sb(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),ob(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,g,E,T,N)=>{try{return jw(r),o.invokeTask(g,E,T,N)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||r.shouldCoalesceRunChangeDetection)&&i(),Bw(r)}},onInvoke:(o,l,g,E,T,N,B)=>{try{return jw(r),o.invoke(g,E,T,N,B)}finally{r.shouldCoalesceRunChangeDetection&&i(),Bw(r)}},onHasTask:(o,l,g,E)=>{o.hasTask(g,E),l===g&&("microTask"==E.change?(r._hasPendingMicrotasks=E.microTask,ob(r),sb(r)):"macroTask"==E.change&&(r.hasPendingMacrotasks=E.macroTask))},onHandleError:(o,l,g,E)=>(o.handleError(g,E),r.runOutsideAngular(()=>r.onError.emit(E)),!1)})}(g)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xh.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xh.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,g){const E=this._inner,T=E.scheduleEventTask("NgZoneEvent: "+g,i,ME,f_,f_);try{return E.runTask(T,o,l)}finally{E.cancelTask(T)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const ME={};function sb(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function ob(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function jw(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Bw(r){r._nesting--,sb(r)}class kE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Od,this.onMicrotaskEmpty=new Od,this.onStable=new Od,this.onError=new Od}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,g){return i.apply(o,l)}}let Vw=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xh.assertNotInAngularZone(),ib(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ib(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,g){let E=-1;l&&l>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==E),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:E,updateCb:g})}whenStable(o,l,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,g){return[]}}return r.\u0275fac=function(o){return new(o||r)(De(xh))},r.\u0275prov=At({token:r,factory:r.\u0275fac}),r})(),Hw=(()=>{class r{constructor(){this._applications=new Map,ab.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return ab.findTestabilityInTree(this,o,l)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=At({token:r,factory:r.\u0275fac}),r})();class FE{addToWindow(i){}findTestabilityInTree(i,o,l){return null}}function LE(r){ab=r}let Oh,ab=new FE;const $w=new Bs("AllowMultipleToken");class BE{constructor(i,o){this.name=i,this.token=o}}function Ww(r,i,o=[]){const l=`Platform: ${i}`,g=new Bs(l);return(E=[])=>{let T=zw();if(!T||T.injector.get($w,!1))if(r)r(o.concat(E).concat({provide:g,useValue:!0}));else{const N=o.concat(E).concat({provide:g,useValue:!0},{provide:Ap,useValue:"platform"});!function VE(r){if(Oh&&!Oh.destroyed&&!Oh.injector.get($w,!1))throw new ee(400,"");Oh=r.get(Zw);const i=r.get(kw,null);i&&i.forEach(o=>o())}(wd.create({providers:N,name:l}))}return function HE(r){const i=zw();if(!i)throw new ee(401,"");return i}()}}function zw(){return Oh&&!Oh.destroyed?Oh:null}let Zw=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const N=function $E(r,i){let o;return o="noop"===r?new kE:("zone.js"===r?void 0:r)||new xh({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),B=[{provide:xh,useValue:N}];return N.run(()=>{const ie=wd.create({providers:B,parent:this.injector,name:o.moduleType.name}),he=o.create(ie),Ue=he.injector.get(eu,null);if(!Ue)throw new ee(402,"");return N.runOutsideAngular(()=>{const yt=N.onError.subscribe({next:Vt=>{Ue.handleError(Vt)}});he.onDestroy(()=>{ub(this._modules,he),yt.unsubscribe()})}),function WE(r,i,o){try{const l=o();return Fp(l)?l.catch(g=>{throw i.runOutsideAngular(()=>r.handleError(g)),g}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(Ue,N,()=>{const yt=he.injector.get(tb);return yt.runInitializers(),yt.donePromise.then(()=>(function Mv(r){zt(r,"Expected localeId to be defined"),"string"==typeof r&&(ty=r.toLowerCase().replace(/_/g,"-"))}(he.injector.get(rb,jg)||jg),this._moduleDoBootstrap(he),he))})})}bootstrapModule(o,l=[]){const g=qw({},l);return function UE(r,i,o){const l=new pf(o);return Promise.resolve(l)}(0,0,o).then(E=>this.bootstrapModuleFactory(E,g))}_moduleDoBootstrap(o){const l=o.injector.get(cb);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(g=>l.bootstrap(g));else{if(!o.instance.ngDoBootstrap)throw new ee(403,"");o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(De(wd))},r.\u0275prov=At({token:r,factory:r.\u0275fac}),r})();function qw(r,i){return Array.isArray(i)?i.reduce(qw,r):Object.assign(Object.assign({},r),i)}let cb=(()=>{class r{constructor(o,l,g,E,T){this._zone=o,this._injector=l,this._exceptionHandler=g,this._componentFactoryResolver=E,this._initStatus=T,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const N=new re.y(ie=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ie.next(this._stable),ie.complete()})}),B=new re.y(ie=>{let he;this._zone.runOutsideAngular(()=>{he=this._zone.onStable.subscribe(()=>{xh.assertNotInAngularZone(),ib(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ie.next(!0))})})});const Ue=this._zone.onUnstable.subscribe(()=>{xh.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ie.next(!1)}))});return()=>{he.unsubscribe(),Ue.unsubscribe()}});this.isStable=(0,ce.T)(N,B.pipe((0,Ie.B)()))}bootstrap(o,l){if(!this._initStatus.done)throw new ee(405,"");let g;g=o instanceof D0?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(g.componentType);const E=function jE(r){return r.isBoundToModule}(g)?void 0:this._injector.get(Hl),N=g.create(wd.NULL,[],l||g.selector,E),B=N.location.nativeElement,ie=N.injector.get(Vw,null),he=ie&&N.injector.get(Hw);return ie&&he&&he.registerApplication(B,ie),N.onDestroy(()=>{this.detachView(N.hostView),ub(this.components,N),he&&he.unregisterApplication(B)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new ee(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;ub(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Lw,[]).concat(this._bootstrapListeners).forEach(g=>g(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(De(xh),De(wd),De(eu),De(zg),De(tb))},r.\u0275prov=At({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ub(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}let Kw=!0,Qw=!1;function ZE(){return Qw=!0,Kw}function qE(){if(Qw)throw new Error("Cannot enable prod mode after platform setup.");Kw=!1}let GE=(()=>{class r{}return r.__NG_ELEMENT_ID__=KE,r})();function KE(r){return function QE(r,i,o){if(Wn(r)&&!o){const l=Kn(r.index,i);return new mp(l,l)}return 47&r.type?new mp(i[16],i):null}(Fr(),J(),16==(16&r))}class eE{constructor(){}supports(i){return Rf(i)}create(i){return new nI(i)}}const tI=(r,i)=>i;class nI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||tI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,g=0,E=null;for(;o||l;){const T=!l||o&&o.currentIndex<nE(l,g,E)?o:l,N=nE(T,g,E),B=T.currentIndex;if(T===l)g--,l=l._nextRemoved;else if(o=o._next,null==T.previousIndex)g++;else{E||(E=[]);const ie=N-g,he=B-g;if(ie!=he){for(let yt=0;yt<ie;yt++){const Vt=yt<E.length?E[yt]:E[yt]=0,vn=Vt+yt;he<=vn&&vn<ie&&(E[yt]=Vt+1)}E[T.previousIndex]=he-ie}}N!==B&&i(T,N,B)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Rf(i))throw new ee(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let g,E,T,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let N=0;N<this.length;N++)E=i[N],T=this._trackByFn(N,E),null!==o&&Object.is(o.trackById,T)?(l&&(o=this._verifyReinsertion(o,E,T,N)),Object.is(o.item,E)||this._addIdentityChange(o,E)):(o=this._mismatch(o,E,T,N),l=!0),o=o._next}else g=0,function _m(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[af()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,N=>{T=this._trackByFn(g,N),null!==o&&Object.is(o.trackById,T)?(l&&(o=this._verifyReinsertion(o,N,T,g)),Object.is(o.item,N)||this._addIdentityChange(o,N)):(o=this._mismatch(o,N,T,g),l=!0),o=o._next,g++}),this.length=g;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,g){let E;return null===i?E=this._itTail:(E=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,E,g)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,g))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,E,g)):i=this._addAfter(new rI(o,l),E,g),i}_verifyReinsertion(i,o,l,g){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==E?i=this._reinsertAfter(E,i._prev,g):i.currentIndex!=g&&(i.currentIndex=g,this._addToMoves(i,g)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const g=i._prevRemoved,E=i._nextRemoved;return null===g?this._removalsHead=E:g._nextRemoved=E,null===E?this._removalsTail=g:E._prevRemoved=g,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const g=null===o?this._itHead:o._next;return i._next=g,i._prev=o,null===g?this._itTail=i:g._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new tE),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tE),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class rI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class tE{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new iI,this.map.set(o,l)),l.add(i)}get(i,o){const g=this.map.get(i);return g?g.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nE(r,i,o){const l=r.previousIndex;if(null===l)return l;let g=0;return o&&l<o.length&&(g=o[l]),l+i+g}class rE{constructor(){}supports(i){return i instanceof Map||bm(i)}create(){return new sI}}class sI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||bm(i)))throw new ee(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,g)=>{if(o&&o.key===g)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const E=this._getOrCreateRecordForKey(g,l);o=this._insertBeforeOrAppend(o,E)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const g=this._records.get(i);this._maybeAddToChanges(g,o);const E=g._prev,T=g._next;return E&&(E._next=T),T&&(T._prev=E),g._next=null,g._prev=null,g}const l=new oI(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class oI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iE(){return new pb([new eE])}let pb=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const g=l.factories.slice();o=o.concat(g)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||iE()),deps:[[r,new $t,new Xi]]}}find(o){const l=this.factories.find(g=>g.supports(o));if(null!=l)return l;throw new ee(901,"")}}return r.\u0275prov=At({token:r,providedIn:"root",factory:iE}),r})();function sE(){return new gb([new rE])}let gb=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const g=l.factories.slice();o=o.concat(g)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||sE()),deps:[[r,new $t,new Xi]]}}find(o){const l=this.factories.find(E=>E.supports(o));if(l)return l;throw new ee(901,"")}}return r.\u0275prov=At({token:r,providedIn:"root",factory:sE}),r})();const uI=Ww(null,"core",[{provide:Fw,useValue:"unknown"},{provide:Zw,deps:[wd]},{provide:Hw,deps:[]},{provide:Uw,deps:[]}]);let lI=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(De(cb))},r.\u0275mod=Ws({type:r}),r.\u0275inj=an({}),r})()},2382:(Kt,st,F)=>{"use strict";F.d(st,{Wl:()=>ue,Fj:()=>Ze,qu:()=>Cs,NI:()=>Es,u:()=>Uo,cw:()=>$r,sg:()=>Jr,u5:()=>Sr,nD:()=>Kn,JU:()=>ee,JJ:()=>pn,JL:()=>Mn,F:()=>yn,On:()=>Is,YN:()=>as,wV:()=>$i,UX:()=>vo,EJ:()=>Rs,kI:()=>ze,_Y:()=>Oi,Kr:()=>Js});var a=F(5e3),y=F(9808),re=F(8306),ce=F(4742),Ie=F(8421),ae=F(3269),Pe=F(5403),Ne=F(3268),Le=F(1810),fe=F(8996),Ae=F(4004);let Ce=(()=>{class Y{constructor(V,J){this._renderer=V,this._elementRef=J,this.onChange=Mt=>{},this.onTouched=()=>{}}setProperty(V,J){this._renderer.setProperty(this._elementRef.nativeElement,V,J)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}}return Y.\u0275fac=function(V){return new(V||Y)(a.Y36(a.Qsj),a.Y36(a.SBq))},Y.\u0275dir=a.lG2({type:Y}),Y})(),ne=(()=>{class Y extends Ce{}return Y.\u0275fac=function(){let H;return function(J){return(H||(H=a.n5z(Y)))(J||Y)}}(),Y.\u0275dir=a.lG2({type:Y,features:[a.qOj]}),Y})();const ee=new a.OlP("NgValueAccessor"),Se={provide:ee,useExisting:(0,a.Gpc)(()=>ue),multi:!0};let ue=(()=>{class Y extends ne{writeValue(V){this.setProperty("checked",V)}}return Y.\u0275fac=function(){let H;return function(J){return(H||(H=a.n5z(Y)))(J||Y)}}(),Y.\u0275dir=a.lG2({type:Y,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(V,J){1&V&&a.NdJ("change",function(Bn){return J.onChange(Bn.target.checked)})("blur",function(){return J.onTouched()})},features:[a._Bn([Se]),a.qOj]}),Y})();const Re={provide:ee,useExisting:(0,a.Gpc)(()=>Ze),multi:!0},it=new a.OlP("CompositionEventMode");let Ze=(()=>{class Y extends Ce{constructor(V,J,Mt){super(V,J),this._compositionMode=Mt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function we(){const Y=(0,y.q)()?(0,y.q)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(V){this.setProperty("value",null==V?"":V)}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}}return Y.\u0275fac=function(V){return new(V||Y)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(it,8))},Y.\u0275dir=a.lG2({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(V,J){1&V&&a.NdJ("input",function(Bn){return J._handleInput(Bn.target.value)})("blur",function(){return J.onTouched()})("compositionstart",function(){return J._compositionStart()})("compositionend",function(Bn){return J._compositionEnd(Bn.target.value)})},features:[a._Bn([Re]),a.qOj]}),Y})();function tt(Y){return null==Y||0===Y.length}function _t(Y){return null!=Y&&"number"==typeof Y.length}const Ve=new a.OlP("NgValidators"),Tt=new a.OlP("NgAsyncValidators"),Jt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ze{static min(H){return function pt(Y){return H=>{if(tt(H.value)||tt(Y))return null;const V=parseFloat(H.value);return!isNaN(V)&&V<Y?{min:{min:Y,actual:H.value}}:null}}(H)}static max(H){return function Dt(Y){return H=>{if(tt(H.value)||tt(Y))return null;const V=parseFloat(H.value);return!isNaN(V)&&V>Y?{max:{max:Y,actual:H.value}}:null}}(H)}static required(H){return function Et(Y){return tt(Y.value)?{required:!0}:null}(H)}static requiredTrue(H){return function tn(Y){return!0===Y.value?null:{required:!0}}(H)}static email(H){return function bt(Y){return tt(Y.value)||Jt.test(Y.value)?null:{email:!0}}(H)}static minLength(H){return function Qn(Y){return H=>tt(H.value)||!_t(H.value)?null:H.value.length<Y?{minlength:{requiredLength:Y,actualLength:H.value.length}}:null}(H)}static maxLength(H){return qt(H)}static pattern(H){return function kt(Y){if(!Y)return zt;let H,V;return"string"==typeof Y?(V="","^"!==Y.charAt(0)&&(V+="^"),V+=Y,"$"!==Y.charAt(Y.length-1)&&(V+="$"),H=new RegExp(V)):(V=Y.toString(),H=Y),J=>{if(tt(J.value))return null;const Mt=J.value;return H.test(Mt)?null:{pattern:{requiredPattern:V,actualValue:Mt}}}}(H)}static nullValidator(H){return null}static compose(H){return an(H)}static composeAsync(H){return Zn(H)}}function qt(Y){return H=>_t(H.value)&&H.value.length>Y?{maxlength:{requiredLength:Y,actualLength:H.value.length}}:null}function zt(Y){return null}function Rt(Y){return null!=Y}function Dn(Y){const H=(0,a.QGY)(Y)?(0,fe.D)(Y):Y;return(0,a.CqO)(H),H}function In(Y){let H={};return Y.forEach(V=>{H=null!=V?Object.assign(Object.assign({},H),V):H}),0===Object.keys(H).length?null:H}function It(Y,H){return H.map(V=>V(Y))}function Ut(Y){return Y.map(H=>function At(Y){return!Y.validate}(H)?H:V=>H.validate(V))}function an(Y){if(!Y)return null;const H=Y.filter(Rt);return 0==H.length?null:function(V){return In(It(V,H))}}function Sn(Y){return null!=Y?an(Ut(Y)):null}function Zn(Y){if(!Y)return null;const H=Y.filter(Rt);return 0==H.length?null:function(V){return function Ee(...Y){const H=(0,ae.jO)(Y),{args:V,keys:J}=(0,ce.D)(Y),Mt=new re.y(Bn=>{const{length:Fr}=V;if(!Fr)return void Bn.complete();const cs=new Array(Fr);let Ms=Fr,Gi=Fr;for(let Go=0;Go<Fr;Go++){let Hr=!1;(0,Ie.Xf)(V[Go]).subscribe((0,Pe.x)(Bn,Eu=>{Hr||(Hr=!0,Gi--),cs[Go]=Eu},()=>Ms--,void 0,()=>{(!Ms||!Hr)&&(Gi||Bn.next(J?(0,Le.n)(J,cs):cs),Bn.complete())}))}});return H?Mt.pipe((0,Ne.Z)(H)):Mt}(It(V,H).map(Dn)).pipe((0,Ae.U)(In))}}function $n(Y){return null!=Y?Zn(Ut(Y)):null}function ar(Y,H){return null===Y?[H]:Array.isArray(Y)?[...Y,H]:[Y,H]}function Vr(Y){return Y._rawValidators}function Zr(Y){return Y._rawAsyncValidators}function Pr(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function Gr(Y,H){return Array.isArray(Y)?Y.includes(H):Y===H}function ti(Y,H){const V=Pr(H);return Pr(Y).forEach(Mt=>{Gr(V,Mt)||V.push(Mt)}),V}function er(Y,H){return Pr(H).filter(V=>!Gr(Y,V))}class wr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(H){this._rawValidators=H||[],this._composedValidatorFn=Sn(this._rawValidators)}_setAsyncValidators(H){this._rawAsyncValidators=H||[],this._composedAsyncValidatorFn=$n(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(H){this._onDestroyCallbacks.push(H)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(H=>H()),this._onDestroyCallbacks=[]}reset(H){this.control&&this.control.reset(H)}hasError(H,V){return!!this.control&&this.control.hasError(H,V)}getError(H,V){return this.control?this.control.getError(H,V):null}}class vr extends wr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xr extends wr{get formDirective(){return null}get path(){return null}}class gi{constructor(H){this._cd=H}is(H){var V,J,Mt;return"submitted"===H?!!(null===(V=this._cd)||void 0===V?void 0:V.submitted):!!(null===(Mt=null===(J=this._cd)||void 0===J?void 0:J.control)||void 0===Mt?void 0:Mt[H])}}let pn=(()=>{class Y extends gi{constructor(V){super(V)}}return Y.\u0275fac=function(V){return new(V||Y)(a.Y36(vr,2))},Y.\u0275dir=a.lG2({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(V,J){2&V&&a.ekj("ng-untouched",J.is("untouched"))("ng-touched",J.is("touched"))("ng-pristine",J.is("pristine"))("ng-dirty",J.is("dirty"))("ng-valid",J.is("valid"))("ng-invalid",J.is("invalid"))("ng-pending",J.is("pending"))},features:[a.qOj]}),Y})(),Mn=(()=>{class Y extends gi{constructor(V){super(V)}}return Y.\u0275fac=function(V){return new(V||Y)(a.Y36(xr,10))},Y.\u0275dir=a.lG2({type:Y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(V,J){2&V&&a.ekj("ng-untouched",J.is("untouched"))("ng-touched",J.is("touched"))("ng-pristine",J.is("pristine"))("ng-dirty",J.is("dirty"))("ng-valid",J.is("valid"))("ng-invalid",J.is("invalid"))("ng-pending",J.is("pending"))("ng-submitted",J.is("submitted"))},features:[a.qOj]}),Y})();function Qr(Y,H){return[...H.path,Y]}function ts(Y,H){ni(Y,H),H.valueAccessor.writeValue(Y.value),function Ws(Y,H){H.valueAccessor.registerOnChange(V=>{Y._pendingValue=V,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&Nt(Y,H)})}(Y,H),function at(Y,H){const V=(J,Mt)=>{H.valueAccessor.writeValue(J),Mt&&H.viewToModelUpdate(J)};Y.registerOnChange(V),H._registerOnDestroy(()=>{Y._unregisterOnChange(V)})}(Y,H),function qi(Y,H){H.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&Nt(Y,H),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,H),function Ys(Y,H){if(H.valueAccessor.setDisabledState){const V=J=>{H.valueAccessor.setDisabledState(J)};Y.registerOnDisabledChange(V),H._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(V)})}}(Y,H)}function tr(Y,H,V=!0){const J=()=>{};H.valueAccessor&&(H.valueAccessor.registerOnChange(J),H.valueAccessor.registerOnTouched(J)),po(Y,H),Y&&(H._invokeOnDestroyCallbacks(),Y._registerOnCollectionChange(()=>{}))}function ks(Y,H){Y.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(H)})}function ni(Y,H){const V=Vr(Y);null!==H.validator?Y.setValidators(ar(V,H.validator)):"function"==typeof V&&Y.setValidators([V]);const J=Zr(Y);null!==H.asyncValidator?Y.setAsyncValidators(ar(J,H.asyncValidator)):"function"==typeof J&&Y.setAsyncValidators([J]);const Mt=()=>Y.updateValueAndValidity();ks(H._rawValidators,Mt),ks(H._rawAsyncValidators,Mt)}function po(Y,H){let V=!1;if(null!==Y){if(null!==H.validator){const Mt=Vr(Y);if(Array.isArray(Mt)&&Mt.length>0){const Bn=Mt.filter(Fr=>Fr!==H.validator);Bn.length!==Mt.length&&(V=!0,Y.setValidators(Bn))}}if(null!==H.asyncValidator){const Mt=Zr(Y);if(Array.isArray(Mt)&&Mt.length>0){const Bn=Mt.filter(Fr=>Fr!==H.asyncValidator);Bn.length!==Mt.length&&(V=!0,Y.setAsyncValidators(Bn))}}}const J=()=>{};return ks(H._rawValidators,J),ks(H._rawAsyncValidators,J),V}function Nt(Y,H){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),H.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function xe(Y,H){ni(Y,H)}function ai(Y,H){if(!Y.hasOwnProperty("model"))return!1;const V=Y.model;return!!V.isFirstChange()||!Object.is(H,V.currentValue)}function ri(Y,H){Y._syncPendingControls(),H.forEach(V=>{const J=V.control;"submit"===J.updateOn&&J._pendingChange&&(V.viewToModelUpdate(J._pendingValue),J._pendingChange=!1)})}function ii(Y,H){if(!H)return null;let V,J,Mt;return Array.isArray(H),H.forEach(Bn=>{Bn.constructor===Ze?V=Bn:function Fs(Y){return Object.getPrototypeOf(Y.constructor)===ne}(Bn)?J=Bn:Mt=Bn}),Mt||J||V||null}function Oe(Y,H){const V=Y.indexOf(H);V>-1&&Y.splice(V,1)}const Ke="VALID",Ye="INVALID",rn="PENDING",kn="DISABLED";function Er(Y){return(On(Y)?Y.validators:Y)||null}function yr(Y){return Array.isArray(Y)?Sn(Y):Y||null}function dt(Y,H){return(On(H)?H.asyncValidators:Y)||null}function ir(Y){return Array.isArray(Y)?$n(Y):Y||null}function On(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}const qn=Y=>Y instanceof Es,kr=Y=>Y instanceof $r,os=Y=>Y instanceof rt;function ro(Y){return qn(Y)?Y.value:Y.getRawValue()}function Hi(Y,H){const V=kr(Y),J=Y.controls;if(!(V?Object.keys(J):J).length)throw new a.vHH(1e3,"");if(!J[H])throw new a.vHH(1001,"")}function Ii(Y,H){kr(Y),Y._forEachChild((J,Mt)=>{if(void 0===H[Mt])throw new a.vHH(1002,"")})}class Yr{constructor(H,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=H,this._rawAsyncValidators=V,this._composedValidatorFn=yr(this._rawValidators),this._composedAsyncValidatorFn=ir(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(H){this._rawValidators=this._composedValidatorFn=H}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(H){this._rawAsyncValidators=this._composedAsyncValidatorFn=H}get parent(){return this._parent}get valid(){return this.status===Ke}get invalid(){return this.status===Ye}get pending(){return this.status==rn}get disabled(){return this.status===kn}get enabled(){return this.status!==kn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(H){this._rawValidators=H,this._composedValidatorFn=yr(H)}setAsyncValidators(H){this._rawAsyncValidators=H,this._composedAsyncValidatorFn=ir(H)}addValidators(H){this.setValidators(ti(H,this._rawValidators))}addAsyncValidators(H){this.setAsyncValidators(ti(H,this._rawAsyncValidators))}removeValidators(H){this.setValidators(er(H,this._rawValidators))}removeAsyncValidators(H){this.setAsyncValidators(er(H,this._rawAsyncValidators))}hasValidator(H){return Gr(this._rawValidators,H)}hasAsyncValidator(H){return Gr(this._rawAsyncValidators,H)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(H={}){this.touched=!0,this._parent&&!H.onlySelf&&this._parent.markAsTouched(H)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(H=>H.markAllAsTouched())}markAsUntouched(H={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}markAsDirty(H={}){this.pristine=!1,this._parent&&!H.onlySelf&&this._parent.markAsDirty(H)}markAsPristine(H={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}markAsPending(H={}){this.status=rn,!1!==H.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!H.onlySelf&&this._parent.markAsPending(H)}disable(H={}){const V=this._parentMarkedDirty(H.onlySelf);this.status=kn,this.errors=null,this._forEachChild(J=>{J.disable(Object.assign(Object.assign({},H),{onlySelf:!0}))}),this._updateValue(),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},H),{skipPristineCheck:V})),this._onDisabledChange.forEach(J=>J(!0))}enable(H={}){const V=this._parentMarkedDirty(H.onlySelf);this.status=Ke,this._forEachChild(J=>{J.enable(Object.assign(Object.assign({},H),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},H),{skipPristineCheck:V})),this._onDisabledChange.forEach(J=>J(!1))}_updateAncestors(H){this._parent&&!H.onlySelf&&(this._parent.updateValueAndValidity(H),H.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(H){this._parent=H}updateValueAndValidity(H={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ke||this.status===rn)&&this._runAsyncValidator(H.emitEvent)),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!H.onlySelf&&this._parent.updateValueAndValidity(H)}_updateTreeValidity(H={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(H)),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kn:Ke}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(H){if(this.asyncValidator){this.status=rn,this._hasOwnPendingAsyncValidator=!0;const V=Dn(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(J=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(J,{emitEvent:H})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(H,V={}){this.errors=H,this._updateControlsErrors(!1!==V.emitEvent)}get(H){return function zr(Y,H,V){if(null==H||(Array.isArray(H)||(H=H.split(V)),Array.isArray(H)&&0===H.length))return null;let J=Y;return H.forEach(Mt=>{J=kr(J)?J.controls.hasOwnProperty(Mt)?J.controls[Mt]:null:os(J)&&J.at(Mt)||null}),J}(this,H,".")}getError(H,V){const J=V?this.get(V):this;return J&&J.errors?J.errors[H]:null}hasError(H,V){return!!this.getError(H,V)}get root(){let H=this;for(;H._parent;)H=H._parent;return H}_updateControlsErrors(H){this.status=this._calculateStatus(),H&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(H)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?kn:this.errors?Ye:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rn)?rn:this._anyControlsHaveStatus(Ye)?Ye:Ke}_anyControlsHaveStatus(H){return this._anyControls(V=>V.status===H)}_anyControlsDirty(){return this._anyControls(H=>H.dirty)}_anyControlsTouched(){return this._anyControls(H=>H.touched)}_updatePristine(H={}){this.pristine=!this._anyControlsDirty(),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}_updateTouched(H={}){this.touched=this._anyControlsTouched(),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}_isBoxedValue(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}_registerOnCollectionChange(H){this._onCollectionChange=H}_setUpdateStrategy(H){On(H)&&null!=H.updateOn&&(this._updateOn=H.updateOn)}_parentMarkedDirty(H){return!H&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Es extends Yr{constructor(H=null,V,J){super(Er(V),dt(J,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(H),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),On(V)&&V.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(H)?H.value:H)}setValue(H,V={}){this.value=this._pendingValue=H,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(J=>J(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(H,V={}){this.setValue(H,V)}reset(H=this.defaultValue,V={}){this._applyFormState(H),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(H){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(H){this._onChange.push(H)}_unregisterOnChange(H){Oe(this._onChange,H)}registerOnDisabledChange(H){this._onDisabledChange.push(H)}_unregisterOnDisabledChange(H){Oe(this._onDisabledChange,H)}_forEachChild(H){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(H){this._isBoxedValue(H)?(this.value=this._pendingValue=H.value,H.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=H}}class $r extends Yr{constructor(H,V,J){super(Er(V),dt(J,V)),this.controls=H,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(H,V){return this.controls[H]?this.controls[H]:(this.controls[H]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(H,V,J={}){this.registerControl(H,V),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}removeControl(H,V={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(H,V,J={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],V&&this.registerControl(H,V),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}contains(H){return this.controls.hasOwnProperty(H)&&this.controls[H].enabled}setValue(H,V={}){Ii(this,H),Object.keys(H).forEach(J=>{Hi(this,J),this.controls[J].setValue(H[J],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(H,V={}){null!=H&&(Object.keys(H).forEach(J=>{this.controls[J]&&this.controls[J].patchValue(H[J],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(H={},V={}){this._forEachChild((J,Mt)=>{J.reset(H[Mt],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(H,V,J)=>(H[J]=ro(V),H))}_syncPendingControls(){let H=this._reduceChildren(!1,(V,J)=>!!J._syncPendingControls()||V);return H&&this.updateValueAndValidity({onlySelf:!0}),H}_forEachChild(H){Object.keys(this.controls).forEach(V=>{const J=this.controls[V];J&&H(J,V)})}_setUpControls(){this._forEachChild(H=>{H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(H){for(const V of Object.keys(this.controls)){const J=this.controls[V];if(this.contains(V)&&H(J))return!0}return!1}_reduceValue(){return this._reduceChildren({},(H,V,J)=>((V.enabled||this.disabled)&&(H[J]=V.value),H))}_reduceChildren(H,V){let J=H;return this._forEachChild((Mt,Bn)=>{J=V(J,Mt,Bn)}),J}_allControlsDisabled(){for(const H of Object.keys(this.controls))if(this.controls[H].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class rt extends Yr{constructor(H,V,J){super(Er(V),dt(J,V)),this.controls=H,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(H){return this.controls[H]}push(H,V={}){this.controls.push(H),this._registerControl(H),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert(H,V,J={}){this.controls.splice(H,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:J.emitEvent})}removeAt(H,V={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),this.controls.splice(H,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl(H,V,J={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),this.controls.splice(H,1),V&&(this.controls.splice(H,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(H,V={}){Ii(this,H),H.forEach((J,Mt)=>{Hi(this,Mt),this.at(Mt).setValue(J,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(H,V={}){null!=H&&(H.forEach((J,Mt)=>{this.at(Mt)&&this.at(Mt).patchValue(J,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(H=[],V={}){this._forEachChild((J,Mt)=>{J.reset(H[Mt],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map(H=>ro(H))}clear(H={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:H.emitEvent}))}_syncPendingControls(){let H=this.controls.reduce((V,J)=>!!J._syncPendingControls()||V,!1);return H&&this.updateValueAndValidity({onlySelf:!0}),H}_forEachChild(H){this.controls.forEach((V,J)=>{H(V,J)})}_updateValue(){this.value=this.controls.filter(H=>H.enabled||this.disabled).map(H=>H.value)}_anyControls(H){return this.controls.some(V=>V.enabled&&H(V))}_setUpControls(){this._forEachChild(H=>this._registerControl(H))}_allControlsDisabled(){for(const H of this.controls)if(H.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(H){H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange)}}const Lt={provide:xr,useExisting:(0,a.Gpc)(()=>yn)},Ft=(()=>Promise.resolve(null))();let yn=(()=>{class Y extends xr{constructor(V,J){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new $r({},Sn(V),$n(J))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){Ft.then(()=>{const J=this._findContainer(V.path);V.control=J.registerControl(V.name,V.control),ts(V.control,V),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){Ft.then(()=>{const J=this._findContainer(V.path);J&&J.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){Ft.then(()=>{const J=this._findContainer(V.path),Mt=new $r({});xe(Mt,V),J.registerControl(V.name,Mt),Mt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){Ft.then(()=>{const J=this._findContainer(V.path);J&&J.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,J){Ft.then(()=>{this.form.get(V.path).setValue(J)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,ri(this.form,this._directives),this.ngSubmit.emit(V),!1}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}}return Y.\u0275fac=function(V){return new(V||Y)(a.Y36(Ve,10),a.Y36(Tt,10))},Y.\u0275dir=a.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(V,J){1&V&&a.NdJ("submit",function(Bn){return J.onSubmit(Bn)})("reset",function(){return J.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Lt]),a.qOj]}),Y})();const Ci={provide:vr,useExisting:(0,a.Gpc)(()=>Is)},Tr=(()=>Promise.resolve(null))();let Is=(()=>{class Y extends vr{constructor(V,J,Mt,Bn,Fr){super(),this._changeDetectorRef=Fr,this.control=new Es,this._registered=!1,this.update=new a.vpe,this._parent=V,this._setValidators(J),this._setAsyncValidators(Mt),this.valueAccessor=ii(0,Bn)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const J=V.name.previousValue;this.formDirective.removeControl({name:J,path:this._getPath(J)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),ai(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ts(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){Tr.then(()=>{var J;this.control.setValue(V,{emitViewToModelChange:!1}),null===(J=this._changeDetectorRef)||void 0===J||J.markForCheck()})}_updateDisabled(V){const J=V.isDisabled.currentValue,Mt=""===J||J&&"false"!==J;Tr.then(()=>{var Bn;Mt&&!this.control.disabled?this.control.disable():!Mt&&this.control.disabled&&this.control.enable(),null===(Bn=this._changeDetectorRef)||void 0===Bn||Bn.markForCheck()})}_getPath(V){return this._parent?Qr(V,this._parent):[V]}}return Y.\u0275fac=function(V){return new(V||Y)(a.Y36(xr,9),a.Y36(Ve,10),a.Y36(Tt,10),a.Y36(ee,10),a.Y36(a.sBO,8))},Y.\u0275dir=a.lG2({type:Y,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Ci]),a.qOj,a.TTD]}),Y})(),Oi=(()=>{class Y{}return Y.\u0275fac=function(V){return new(V||Y)},Y.\u0275dir=a.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Y})();const Mo={provide:ee,useExisting:(0,a.Gpc)(()=>$i),multi:!0};let $i=(()=>{class Y extends ne{writeValue(V){this.setProperty("value",null==V?"":V)}registerOnChange(V){this.onChange=J=>{V(""==J?null:parseFloat(J))}}}return Y.\u0275fac=function(){let H;return function(J){return(H||(H=a.n5z(Y)))(J||Y)}}(),Y.\u0275dir=a.lG2({type:Y,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(V,J){1&V&&a.NdJ("input",function(Bn){return J.onChange(Bn.target.value)})("blur",function(){return J.onTouched()})},features:[a._Bn([Mo]),a.qOj]}),Y})(),Lo=(()=>{class Y{}return Y.\u0275fac=function(V){return new(V||Y)},Y.\u0275mod=a.oAB({type:Y}),Y.\u0275inj=a.cJS({}),Y})();const vt=new a.OlP("NgModelWithFormControlWarning"),pr={provide:xr,useExisting:(0,a.Gpc)(()=>Jr)};let Jr=(()=>{class Y extends xr{constructor(V,J){super(),this.validators=V,this.asyncValidators=J,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(V),this._setAsyncValidators(J)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(po(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const J=this.form.get(V.path);return ts(J,V),J.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),J}getControl(V){return this.form.get(V.path)}removeControl(V){tr(V.control||null,V,!1),Oe(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,J){this.form.get(V.path).setValue(J)}onSubmit(V){return this.submitted=!0,ri(this.form,this.directives),this.ngSubmit.emit(V),!1}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const J=V.control,Mt=this.form.get(V.path);J!==Mt&&(tr(J||null,V),qn(Mt)&&(ts(Mt,V),V.control=Mt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const J=this.form.get(V.path);xe(J,V),J.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const J=this.form.get(V.path);J&&function mt(Y,H){return po(Y,H)}(J,V)&&J.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ni(this.form,this),this._oldForm&&po(this._oldForm,this)}_checkFormPresent(){}}return Y.\u0275fac=function(V){return new(V||Y)(a.Y36(Ve,10),a.Y36(Tt,10))},Y.\u0275dir=a.lG2({type:Y,selectors:[["","formGroup",""]],hostBindings:function(V,J){1&V&&a.NdJ("submit",function(Bn){return J.onSubmit(Bn)})("reset",function(){return J.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([pr]),a.qOj,a.TTD]}),Y})();const go={provide:vr,useExisting:(0,a.Gpc)(()=>Uo)};let Uo=(()=>{class Y extends vr{constructor(V,J,Mt,Bn,Fr){super(),this._ngModelWarningConfig=Fr,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(J),this._setAsyncValidators(Mt),this.valueAccessor=ii(0,Bn)}set isDisabled(V){}ngOnChanges(V){this._added||this._setUpControl(),ai(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return Qr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return Y._ngModelWarningSentOnce=!1,Y.\u0275fac=function(V){return new(V||Y)(a.Y36(xr,13),a.Y36(Ve,10),a.Y36(Tt,10),a.Y36(ee,10),a.Y36(vt,8))},Y.\u0275dir=a.lG2({type:Y,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([go]),a.qOj,a.TTD]}),Y})();const Co={provide:ee,useExisting:(0,a.Gpc)(()=>Rs),multi:!0};function mo(Y,H){return null==Y?`${H}`:(H&&"object"==typeof H&&(H="Object"),`${Y}: ${H}`.slice(0,50))}let Rs=(()=>{class Y extends ne{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){this.value=V;const Mt=mo(this._getOptionId(V),V);this.setProperty("value",Mt)}registerOnChange(V){this.onChange=J=>{this.value=this._getOptionValue(J),V(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(V){for(const J of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(J),V))return J;return null}_getOptionValue(V){const J=function Us(Y){return Y.split(":")[0]}(V);return this._optionMap.has(J)?this._optionMap.get(J):V}}return Y.\u0275fac=function(){let H;return function(J){return(H||(H=a.n5z(Y)))(J||Y)}}(),Y.\u0275dir=a.lG2({type:Y,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(V,J){1&V&&a.NdJ("change",function(Bn){return J.onChange(Bn.target.value)})("blur",function(){return J.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([Co]),a.qOj]}),Y})(),as=(()=>{class Y{constructor(V,J,Mt){this._element=V,this._renderer=J,this._select=Mt,this._select&&(this.id=this._select._registerOption())}set ngValue(V){null!=this._select&&(this._select._optionMap.set(this.id,V),this._setElementValue(mo(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._setElementValue(V),this._select&&this._select.writeValue(this._select.value)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Y.\u0275fac=function(V){return new(V||Y)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(Rs,9))},Y.\u0275dir=a.lG2({type:Y,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Y})();const Mi={provide:ee,useExisting:(0,a.Gpc)(()=>yo),multi:!0};function gs(Y,H){return null==Y?`${H}`:("string"==typeof H&&(H=`'${H}'`),H&&"object"==typeof H&&(H="Object"),`${Y}: ${H}`.slice(0,50))}let yo=(()=>{class Y extends ne{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){let J;if(this.value=V,Array.isArray(V)){const Mt=V.map(Bn=>this._getOptionId(Bn));J=(Bn,Fr)=>{Bn._setSelected(Mt.indexOf(Fr.toString())>-1)}}else J=(Mt,Bn)=>{Mt._setSelected(!1)};this._optionMap.forEach(J)}registerOnChange(V){this.onChange=J=>{const Mt=[],Bn=J.selectedOptions;if(void 0!==Bn){const Fr=Bn;for(let cs=0;cs<Fr.length;cs++){const Gi=this._getOptionValue(Fr[cs].value);Mt.push(Gi)}}else{const Fr=J.options;for(let cs=0;cs<Fr.length;cs++){const Ms=Fr[cs];if(Ms.selected){const Gi=this._getOptionValue(Ms.value);Mt.push(Gi)}}}this.value=Mt,V(Mt)}}_registerOption(V){const J=(this._idCounter++).toString();return this._optionMap.set(J,V),J}_getOptionId(V){for(const J of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(J)._value,V))return J;return null}_getOptionValue(V){const J=function Ui(Y){return Y.split(":")[0]}(V);return this._optionMap.has(J)?this._optionMap.get(J)._value:V}}return Y.\u0275fac=function(){let H;return function(J){return(H||(H=a.n5z(Y)))(J||Y)}}(),Y.\u0275dir=a.lG2({type:Y,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(V,J){1&V&&a.NdJ("change",function(Bn){return J.onChange(Bn.target)})("blur",function(){return J.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([Mi]),a.qOj]}),Y})(),Js=(()=>{class Y{constructor(V,J,Mt){this._element=V,this._renderer=J,this._select=Mt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(V){null!=this._select&&(this._value=V,this._setElementValue(gs(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._select?(this._value=V,this._setElementValue(gs(this.id,V)),this._select.writeValue(this._select.value)):this._setElementValue(V)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}_setSelected(V){this._renderer.setProperty(this._element.nativeElement,"selected",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Y.\u0275fac=function(V){return new(V||Y)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(yo,9))},Y.\u0275dir=a.lG2({type:Y,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Y})();let As=(()=>{class Y{constructor(){this._validator=zt}ngOnChanges(V){if(this.inputName in V){const J=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(J),this._validator=this._enabled?this.createValidator(J):zt,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}}return Y.\u0275fac=function(V){return new(V||Y)},Y.\u0275dir=a.lG2({type:Y,features:[a.TTD]}),Y})();const Nr={provide:Ve,useExisting:(0,a.Gpc)(()=>Kn),multi:!0};let Kn=(()=>{class Y extends As{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=V=>function ns(Y){return"number"==typeof Y?Y:parseInt(Y,10)}(V),this.createValidator=V=>qt(V)}}return Y.\u0275fac=function(){let H;return function(J){return(H||(H=a.n5z(Y)))(J||Y)}}(),Y.\u0275dir=a.lG2({type:Y,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(V,J){2&V&&a.uIk("maxlength",J._enabled?J.maxlength:null)},inputs:{maxlength:"maxlength"},features:[a._Bn([Nr]),a.qOj]}),Y})(),ao=(()=>{class Y{}return Y.\u0275fac=function(V){return new(V||Y)},Y.\u0275mod=a.oAB({type:Y}),Y.\u0275inj=a.cJS({imports:[[Lo]]}),Y})(),Sr=(()=>{class Y{}return Y.\u0275fac=function(V){return new(V||Y)},Y.\u0275mod=a.oAB({type:Y}),Y.\u0275inj=a.cJS({imports:[ao]}),Y})(),vo=(()=>{class Y{static withConfig(V){return{ngModule:Y,providers:[{provide:vt,useValue:V.warnOnNgModelWithFormControl}]}}}return Y.\u0275fac=function(V){return new(V||Y)},Y.\u0275mod=a.oAB({type:Y}),Y.\u0275inj=a.cJS({imports:[ao]}),Y})(),Cs=(()=>{class Y{group(V,J=null){const Mt=this._reduceControls(V);let cs,Bn=null,Fr=null;return null!=J&&(function Ia(Y){return void 0!==Y.asyncValidators||void 0!==Y.validators||void 0!==Y.updateOn}(J)?(Bn=null!=J.validators?J.validators:null,Fr=null!=J.asyncValidators?J.asyncValidators:null,cs=null!=J.updateOn?J.updateOn:void 0):(Bn=null!=J.validator?J.validator:null,Fr=null!=J.asyncValidator?J.asyncValidator:null)),new $r(Mt,{asyncValidators:Fr,updateOn:cs,validators:Bn})}control(V,J,Mt){return new Es(V,J,Mt)}array(V,J,Mt){const Bn=V.map(Fr=>this._createControl(Fr));return new rt(Bn,J,Mt)}_reduceControls(V){const J={};return Object.keys(V).forEach(Mt=>{J[Mt]=this._createControl(V[Mt])}),J}_createControl(V){return qn(V)||kr(V)||os(V)?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}}return Y.\u0275fac=function(V){return new(V||Y)},Y.\u0275prov=a.Yz7({token:Y,factory:Y.\u0275fac,providedIn:vo}),Y})()},2313:(Kt,st,F)=>{"use strict";F.d(st,{b2:()=>Gr,H7:()=>ni,q6:()=>Zr});var a=F(9808),y=F(5e3);class re extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ce extends re{static makeCurrent(){(0,a.HT)(new ce)}onAndCancel(at,xe,mt){return at.addEventListener(xe,mt,!1),()=>{at.removeEventListener(xe,mt,!1)}}dispatchEvent(at,xe){at.dispatchEvent(xe)}remove(at){at.parentNode&&at.parentNode.removeChild(at)}createElement(at,xe){return(xe=xe||this.getDefaultDocument()).createElement(at)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(at){return at.nodeType===Node.ELEMENT_NODE}isShadowRoot(at){return at instanceof DocumentFragment}getGlobalEventTarget(at,xe){return"window"===xe?window:"document"===xe?at:"body"===xe?at.body:null}getBaseHref(at){const xe=function ae(){return Ie=Ie||document.querySelector("base"),Ie?Ie.getAttribute("href"):null}();return null==xe?null:function Ne(Nt){Pe=Pe||document.createElement("a"),Pe.setAttribute("href",Nt);const at=Pe.pathname;return"/"===at.charAt(0)?at:`/${at}`}(xe)}resetBaseElement(){Ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(at){return(0,a.Mx)(document.cookie,at)}}let Pe,Ie=null;const Le=new y.OlP("TRANSITION_ID"),fe=[{provide:y.ip1,useFactory:function Ee(Nt,at,xe){return()=>{xe.get(y.CZH).donePromise.then(()=>{const mt=(0,a.q)(),Qt=at.querySelectorAll(`style[ng-transition="${Nt}"]`);for(let Yn=0;Yn<Qt.length;Yn++)mt.remove(Qt[Yn])})}},deps:[Le,a.K0,y.zs3],multi:!0}];class Ae{static init(){(0,y.VLi)(new Ae)}addToWindow(at){y.dqk.getAngularTestability=(mt,Qt=!0)=>{const Yn=at.findTestabilityInTree(mt,Qt);if(null==Yn)throw new Error("Could not find testability for element.");return Yn},y.dqk.getAllAngularTestabilities=()=>at.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>at.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(mt=>{const Qt=y.dqk.getAllAngularTestabilities();let Yn=Qt.length,cr=!1;const _i=function(ai){cr=cr||ai,Yn--,0==Yn&&mt(cr)};Qt.forEach(function(ai){ai.whenStable(_i)})})}findTestabilityInTree(at,xe,mt){if(null==xe)return null;const Qt=at.getTestability(xe);return null!=Qt?Qt:mt?(0,a.q)().isShadowRoot(xe)?this.findTestabilityInTree(at,xe.host,!0):this.findTestabilityInTree(at,xe.parentElement,!0):null}}let Ce=(()=>{class Nt{build(){return new XMLHttpRequest}}return Nt.\u0275fac=function(xe){return new(xe||Nt)},Nt.\u0275prov=y.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})();const ne=new y.OlP("EventManagerPlugins");let ee=(()=>{class Nt{constructor(xe,mt){this._zone=mt,this._eventNameToPlugin=new Map,xe.forEach(Qt=>Qt.manager=this),this._plugins=xe.slice().reverse()}addEventListener(xe,mt,Qt){return this._findPluginFor(mt).addEventListener(xe,mt,Qt)}addGlobalEventListener(xe,mt,Qt){return this._findPluginFor(mt).addGlobalEventListener(xe,mt,Qt)}getZone(){return this._zone}_findPluginFor(xe){const mt=this._eventNameToPlugin.get(xe);if(mt)return mt;const Qt=this._plugins;for(let Yn=0;Yn<Qt.length;Yn++){const cr=Qt[Yn];if(cr.supports(xe))return this._eventNameToPlugin.set(xe,cr),cr}throw new Error(`No event manager plugin found for event ${xe}`)}}return Nt.\u0275fac=function(xe){return new(xe||Nt)(y.LFG(ne),y.LFG(y.R0b))},Nt.\u0275prov=y.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})();class Se{constructor(at){this._doc=at}addGlobalEventListener(at,xe,mt){const Qt=(0,a.q)().getGlobalEventTarget(this._doc,at);if(!Qt)throw new Error(`Unsupported event target ${Qt} for event ${xe}`);return this.addEventListener(Qt,xe,mt)}}let ue=(()=>{class Nt{constructor(){this._stylesSet=new Set}addStyles(xe){const mt=new Set;xe.forEach(Qt=>{this._stylesSet.has(Qt)||(this._stylesSet.add(Qt),mt.add(Qt))}),this.onStylesAdded(mt)}onStylesAdded(xe){}getAllStyles(){return Array.from(this._stylesSet)}}return Nt.\u0275fac=function(xe){return new(xe||Nt)},Nt.\u0275prov=y.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})(),Re=(()=>{class Nt extends ue{constructor(xe){super(),this._doc=xe,this._hostNodes=new Map,this._hostNodes.set(xe.head,[])}_addStylesToHost(xe,mt,Qt){xe.forEach(Yn=>{const cr=this._doc.createElement("style");cr.textContent=Yn,Qt.push(mt.appendChild(cr))})}addHost(xe){const mt=[];this._addStylesToHost(this._stylesSet,xe,mt),this._hostNodes.set(xe,mt)}removeHost(xe){const mt=this._hostNodes.get(xe);mt&&mt.forEach(we),this._hostNodes.delete(xe)}onStylesAdded(xe){this._hostNodes.forEach((mt,Qt)=>{this._addStylesToHost(xe,Qt,mt)})}ngOnDestroy(){this._hostNodes.forEach(xe=>xe.forEach(we))}}return Nt.\u0275fac=function(xe){return new(xe||Nt)(y.LFG(a.K0))},Nt.\u0275prov=y.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})();function we(Nt){(0,a.q)().remove(Nt)}const it={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ze=/%COMP%/g;function pt(Nt,at,xe){for(let mt=0;mt<at.length;mt++){let Qt=at[mt];Array.isArray(Qt)?pt(Nt,Qt,xe):(Qt=Qt.replace(Ze,Nt),xe.push(Qt))}return xe}function Dt(Nt){return at=>{if("__ngUnwrap__"===at)return Nt;!1===Nt(at)&&(at.preventDefault(),at.returnValue=!1)}}let tn=(()=>{class Nt{constructor(xe,mt,Qt){this.eventManager=xe,this.sharedStylesHost=mt,this.appId=Qt,this.rendererByCompId=new Map,this.defaultRenderer=new bt(xe)}createRenderer(xe,mt){if(!xe||!mt)return this.defaultRenderer;switch(mt.encapsulation){case y.ifc.Emulated:{let Qt=this.rendererByCompId.get(mt.id);return Qt||(Qt=new kt(this.eventManager,this.sharedStylesHost,mt,this.appId),this.rendererByCompId.set(mt.id,Qt)),Qt.applyToHost(xe),Qt}case 1:case y.ifc.ShadowDom:return new zt(this.eventManager,this.sharedStylesHost,xe,mt);default:if(!this.rendererByCompId.has(mt.id)){const Qt=pt(mt.id,mt.styles,[]);this.sharedStylesHost.addStyles(Qt),this.rendererByCompId.set(mt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Nt.\u0275fac=function(xe){return new(xe||Nt)(y.LFG(ee),y.LFG(Re),y.LFG(y.AFp))},Nt.\u0275prov=y.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})();class bt{constructor(at){this.eventManager=at,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(at,xe){return xe?document.createElementNS(it[xe]||xe,at):document.createElement(at)}createComment(at){return document.createComment(at)}createText(at){return document.createTextNode(at)}appendChild(at,xe){at.appendChild(xe)}insertBefore(at,xe,mt){at&&at.insertBefore(xe,mt)}removeChild(at,xe){at&&at.removeChild(xe)}selectRootElement(at,xe){let mt="string"==typeof at?document.querySelector(at):at;if(!mt)throw new Error(`The selector "${at}" did not match any elements`);return xe||(mt.textContent=""),mt}parentNode(at){return at.parentNode}nextSibling(at){return at.nextSibling}setAttribute(at,xe,mt,Qt){if(Qt){xe=Qt+":"+xe;const Yn=it[Qt];Yn?at.setAttributeNS(Yn,xe,mt):at.setAttribute(xe,mt)}else at.setAttribute(xe,mt)}removeAttribute(at,xe,mt){if(mt){const Qt=it[mt];Qt?at.removeAttributeNS(Qt,xe):at.removeAttribute(`${mt}:${xe}`)}else at.removeAttribute(xe)}addClass(at,xe){at.classList.add(xe)}removeClass(at,xe){at.classList.remove(xe)}setStyle(at,xe,mt,Qt){Qt&(y.JOm.DashCase|y.JOm.Important)?at.style.setProperty(xe,mt,Qt&y.JOm.Important?"important":""):at.style[xe]=mt}removeStyle(at,xe,mt){mt&y.JOm.DashCase?at.style.removeProperty(xe):at.style[xe]=""}setProperty(at,xe,mt){at[xe]=mt}setValue(at,xe){at.nodeValue=xe}listen(at,xe,mt){return"string"==typeof at?this.eventManager.addGlobalEventListener(at,xe,Dt(mt)):this.eventManager.addEventListener(at,xe,Dt(mt))}}class kt extends bt{constructor(at,xe,mt,Qt){super(at),this.component=mt;const Yn=pt(Qt+"-"+mt.id,mt.styles,[]);xe.addStyles(Yn),this.contentAttr=function Jt(Nt){return"_ngcontent-%COMP%".replace(Ze,Nt)}(Qt+"-"+mt.id),this.hostAttr=function ze(Nt){return"_nghost-%COMP%".replace(Ze,Nt)}(Qt+"-"+mt.id)}applyToHost(at){super.setAttribute(at,this.hostAttr,"")}createElement(at,xe){const mt=super.createElement(at,xe);return super.setAttribute(mt,this.contentAttr,""),mt}}class zt extends bt{constructor(at,xe,mt,Qt){super(at),this.sharedStylesHost=xe,this.hostEl=mt,this.shadowRoot=mt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Yn=pt(Qt.id,Qt.styles,[]);for(let cr=0;cr<Yn.length;cr++){const _i=document.createElement("style");_i.textContent=Yn[cr],this.shadowRoot.appendChild(_i)}}nodeOrShadowRoot(at){return at===this.hostEl?this.shadowRoot:at}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(at,xe){return super.appendChild(this.nodeOrShadowRoot(at),xe)}insertBefore(at,xe,mt){return super.insertBefore(this.nodeOrShadowRoot(at),xe,mt)}removeChild(at,xe){return super.removeChild(this.nodeOrShadowRoot(at),xe)}parentNode(at){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(at)))}}let Rt=(()=>{class Nt extends Se{constructor(xe){super(xe)}supports(xe){return!0}addEventListener(xe,mt,Qt){return xe.addEventListener(mt,Qt,!1),()=>this.removeEventListener(xe,mt,Qt)}removeEventListener(xe,mt,Qt){return xe.removeEventListener(mt,Qt)}}return Nt.\u0275fac=function(xe){return new(xe||Nt)(y.LFG(a.K0))},Nt.\u0275prov=y.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})();const Dn=["alt","control","meta","shift"],It={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},At={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ut={alt:Nt=>Nt.altKey,control:Nt=>Nt.ctrlKey,meta:Nt=>Nt.metaKey,shift:Nt=>Nt.shiftKey};let an=(()=>{class Nt extends Se{constructor(xe){super(xe)}supports(xe){return null!=Nt.parseEventName(xe)}addEventListener(xe,mt,Qt){const Yn=Nt.parseEventName(mt),cr=Nt.eventCallback(Yn.fullKey,Qt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(xe,Yn.domEventName,cr))}static parseEventName(xe){const mt=xe.toLowerCase().split("."),Qt=mt.shift();if(0===mt.length||"keydown"!==Qt&&"keyup"!==Qt)return null;const Yn=Nt._normalizeKey(mt.pop());let cr="";if(Dn.forEach(ai=>{const Fs=mt.indexOf(ai);Fs>-1&&(mt.splice(Fs,1),cr+=ai+".")}),cr+=Yn,0!=mt.length||0===Yn.length)return null;const _i={};return _i.domEventName=Qt,_i.fullKey=cr,_i}static getEventFullKey(xe){let mt="",Qt=function Sn(Nt){let at=Nt.key;if(null==at){if(at=Nt.keyIdentifier,null==at)return"Unidentified";at.startsWith("U+")&&(at=String.fromCharCode(parseInt(at.substring(2),16)),3===Nt.location&&At.hasOwnProperty(at)&&(at=At[at]))}return It[at]||at}(xe);return Qt=Qt.toLowerCase()," "===Qt?Qt="space":"."===Qt&&(Qt="dot"),Dn.forEach(Yn=>{Yn!=Qt&&Ut[Yn](xe)&&(mt+=Yn+".")}),mt+=Qt,mt}static eventCallback(xe,mt,Qt){return Yn=>{Nt.getEventFullKey(Yn)===xe&&Qt.runGuarded(()=>mt(Yn))}}static _normalizeKey(xe){return"esc"===xe?"escape":xe}}return Nt.\u0275fac=function(xe){return new(xe||Nt)(y.LFG(a.K0))},Nt.\u0275prov=y.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})();const Zr=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:a.bD},{provide:y.g9A,useValue:function Zn(){ce.makeCurrent(),Ae.init()},multi:!0},{provide:a.K0,useFactory:function ar(){return(0,y.RDi)(document),document},deps:[]}]),Pr=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function $n(){return new y.qLn},deps:[]},{provide:ne,useClass:Rt,multi:!0,deps:[a.K0,y.R0b,y.Lbi]},{provide:ne,useClass:an,multi:!0,deps:[a.K0]},{provide:tn,useClass:tn,deps:[ee,Re,y.AFp]},{provide:y.FYo,useExisting:tn},{provide:ue,useExisting:Re},{provide:Re,useClass:Re,deps:[a.K0]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b]},{provide:ee,useClass:ee,deps:[ne,y.R0b]},{provide:a.JF,useClass:Ce,deps:[]}];let Gr=(()=>{class Nt{constructor(xe){if(xe)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(xe){return{ngModule:Nt,providers:[{provide:y.AFp,useValue:xe.appId},{provide:Le,useExisting:y.AFp},fe]}}}return Nt.\u0275fac=function(xe){return new(xe||Nt)(y.LFG(Nt,12))},Nt.\u0275mod=y.oAB({type:Nt}),Nt.\u0275inj=y.cJS({providers:Pr,imports:[a.ez,y.hGG]}),Nt})();"undefined"!=typeof window&&window;let ni=(()=>{class Nt{}return Nt.\u0275fac=function(xe){return new(xe||Nt)},Nt.\u0275prov=y.Yz7({token:Nt,factory:function(xe){let mt=null;return mt=xe?new(xe||Nt):y.LFG(Ws),mt},providedIn:"root"}),Nt})(),Ws=(()=>{class Nt extends ni{constructor(xe){super(),this._doc=xe}sanitize(xe,mt){if(null==mt)return null;switch(xe){case y.q3G.NONE:return mt;case y.q3G.HTML:return(0,y.qzn)(mt,"HTML")?(0,y.z3N)(mt):(0,y.EiD)(this._doc,String(mt)).toString();case y.q3G.STYLE:return(0,y.qzn)(mt,"Style")?(0,y.z3N)(mt):mt;case y.q3G.SCRIPT:if((0,y.qzn)(mt,"Script"))return(0,y.z3N)(mt);throw new Error("unsafe value used in a script context");case y.q3G.URL:return(0,y.yhl)(mt),(0,y.qzn)(mt,"URL")?(0,y.z3N)(mt):(0,y.mCW)(String(mt));case y.q3G.RESOURCE_URL:if((0,y.qzn)(mt,"ResourceURL"))return(0,y.z3N)(mt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${xe} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(xe){return(0,y.JVY)(xe)}bypassSecurityTrustStyle(xe){return(0,y.L6k)(xe)}bypassSecurityTrustScript(xe){return(0,y.eBb)(xe)}bypassSecurityTrustUrl(xe){return(0,y.LAX)(xe)}bypassSecurityTrustResourceUrl(xe){return(0,y.pB0)(xe)}}return Nt.\u0275fac=function(xe){return new(xe||Nt)(y.LFG(a.K0))},Nt.\u0275prov=y.Yz7({token:Nt,factory:function(xe){let mt=null;return mt=xe?new xe:function po(Nt){return new Ws(Nt.get(a.K0))}(y.LFG(y.zs3)),mt},providedIn:"root"}),Nt})()},832:(Kt,st,F)=>{"use strict";F.d(st,{gz:()=>Ft,F0:()=>vs,rH:()=>Bo,Od:()=>Dc,yS:()=>Qo,Bz:()=>da,lC:()=>so});var a=F(5e3),y=F(7579);class re extends y.x{constructor(P){super(),this._value=P}get value(){return this.getValue()}_subscribe(P){const M=super._subscribe(P);return!M.closed&&P.next(this._value),M}getValue(){const{hasError:P,thrownError:M,_value:$}=this;if(P)throw M;return this._throwIfClosed(),$}next(P){super.next(this._value=P)}}var ce=F(8306),Ie=F(4742),ae=F(8996),Pe=F(4671),Ne=F(3268),Le=F(3269),Ee=F(1810),fe=F(5403),Ae=F(9672);function ee(U,P,M){U?(0,Ae.f)(M,U,P):P()}var Se=F(576);function ue(U,P){const M=(0,Se.m)(U)?U:()=>U,$=X=>X.error(M());return new ce.y(P?X=>P.schedule($,0,X):$)}var Re=F(8421);function we(U){return new ce.y(P=>{(0,Re.Xf)(U()).subscribe(P)})}var it=F(727),Ze=F(4482);function tt(){return(0,Ze.e)((U,P)=>{let M=null;U._refCount++;const $=(0,fe.x)(P,void 0,void 0,void 0,()=>{if(!U||U._refCount<=0||0<--U._refCount)return void(M=null);const X=U._connection,me=M;M=null,X&&(!me||X===me)&&X.unsubscribe(),P.unsubscribe()});U.subscribe($),$.closed||(M=U.connect())})}class _t extends ce.y{constructor(P,M){super(),this.source=P,this.subjectFactory=M,this._subject=null,this._refCount=0,this._connection=null,(0,Ze.A)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,null==P||P.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new it.w0;const M=this.getSubject();P.add(this.source.subscribe((0,fe.x)(M,void 0,()=>{this._teardown(),M.complete()},$=>{this._teardown(),M.error($)},()=>this._teardown()))),P.closed&&(this._connection=null,P=it.w0.EMPTY)}return P}refCount(){return tt()(this)}}var Ve=F(9646),Tt=F(6805),Jt=F(7272),ze=F(515);function pt(U){return(0,Ze.e)((P,M)=>{let me,$=null,X=!1;$=P.subscribe((0,fe.x)(M,void 0,void 0,Fe=>{me=(0,Re.Xf)(U(Fe,pt(U)(P))),$?($.unsubscribe(),$=null,me.subscribe(M)):X=!0})),X&&($.unsubscribe(),$=null,me.subscribe(M))})}var Dt=F(9300);function Et(U){return U<=0?()=>ze.E:(0,Ze.e)((P,M)=>{let $=[];P.subscribe((0,fe.x)(M,X=>{$.push(X),U<$.length&&$.shift()},()=>{for(const X of $)M.next(X);M.complete()},void 0,()=>{$=null}))})}var tn=F(8068),bt=F(6590),qt=F(4004),kt=F(3900),zt=F(5698),Rt=F(8675),Dn=F(5026),In=F(4351),It=F(590),At=F(6099),Ut=F(8505),an=F(8746),Sn=F(8189),Zn=F(9808);class $n{constructor(P,M){this.id=P,this.url=M}}class ar extends $n{constructor(P,M,$="imperative",X=null){super(P,M),this.navigationTrigger=$,this.restoredState=X}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vr extends $n{constructor(P,M,$){super(P,M),this.urlAfterRedirects=$}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zr extends $n{constructor(P,M,$){super(P,M),this.reason=$}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pr extends $n{constructor(P,M,$){super(P,M),this.error=$}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gr extends $n{constructor(P,M,$,X){super(P,M),this.urlAfterRedirects=$,this.state=X}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends $n{constructor(P,M,$,X){super(P,M),this.urlAfterRedirects=$,this.state=X}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class er extends $n{constructor(P,M,$,X,me){super(P,M),this.urlAfterRedirects=$,this.state=X,this.shouldActivate=me}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wr extends $n{constructor(P,M,$,X){super(P,M),this.urlAfterRedirects=$,this.state=X}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vr extends $n{constructor(P,M,$,X){super(P,M),this.urlAfterRedirects=$,this.state=X}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr{constructor(P){this.route=P}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gi{constructor(P){this.route=P}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Je{constructor(P){this.snapshot=P}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Te{constructor(P){this.snapshot=P}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pn{constructor(P){this.snapshot=P}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mn{constructor(P){this.snapshot=P}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lr{constructor(P,M,$){this.routerEvent=P,this.position=M,this.anchor=$}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const dn="primary";class xn{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const M=this.params[P];return Array.isArray(M)?M[0]:M}return null}getAll(P){if(this.has(P)){const M=this.params[P];return Array.isArray(M)?M:[M]}return[]}get keys(){return Object.keys(this.params)}}function Vn(U){return new xn(U)}const Yi="ngNavigationCancelingError";function vi(U){const P=Error("NavigationCancelingError: "+U);return P[Yi]=!0,P}function Ar(U,P,M){const $=M.path.split("/");if($.length>U.length||"full"===M.pathMatch&&(P.hasChildren()||$.length<U.length))return null;const X={};for(let me=0;me<$.length;me++){const Fe=$[me],ot=U[me];if(Fe.startsWith(":"))X[Fe.substring(1)]=ot;else if(Fe!==ot.path)return null}return{consumed:U.slice(0,$.length),posParams:X}}function En(U,P){const M=U?Object.keys(U):void 0,$=P?Object.keys(P):void 0;if(!M||!$||M.length!=$.length)return!1;let X;for(let me=0;me<M.length;me++)if(X=M[me],!or(U[X],P[X]))return!1;return!0}function or(U,P){if(Array.isArray(U)&&Array.isArray(P)){if(U.length!==P.length)return!1;const M=[...U].sort(),$=[...P].sort();return M.every((X,me)=>$[me]===X)}return U===P}function nr(U){return Array.prototype.concat.apply([],U)}function _r(U){return U.length>0?U[U.length-1]:null}function Kr(U,P){for(const M in U)U.hasOwnProperty(M)&&P(U[M],M)}function mr(U){return(0,a.CqO)(U)?U:(0,a.QGY)(U)?(0,ae.D)(Promise.resolve(U)):(0,Ve.of)(U)}const ts={exact:function ni(U,P,M){if(!Yn(U.segments,P.segments)||!Nt(U.segments,P.segments,M)||U.numberOfChildren!==P.numberOfChildren)return!1;for(const $ in P.children)if(!U.children[$]||!ni(U.children[$],P.children[$],M))return!1;return!0},subset:Ws},tr={exact:function Ys(U,P){return En(U,P)},subset:function po(U,P){return Object.keys(P).length<=Object.keys(U).length&&Object.keys(P).every(M=>or(U[M],P[M]))},ignored:()=>!0};function ks(U,P,M){return ts[M.paths](U.root,P.root,M.matrixParams)&&tr[M.queryParams](U.queryParams,P.queryParams)&&!("exact"===M.fragment&&U.fragment!==P.fragment)}function Ws(U,P,M){return qi(U,P,P.segments,M)}function qi(U,P,M,$){if(U.segments.length>M.length){const X=U.segments.slice(0,M.length);return!(!Yn(X,M)||P.hasChildren()||!Nt(X,M,$))}if(U.segments.length===M.length){if(!Yn(U.segments,M)||!Nt(U.segments,M,$))return!1;for(const X in P.children)if(!U.children[X]||!Ws(U.children[X],P.children[X],$))return!1;return!0}{const X=M.slice(0,U.segments.length),me=M.slice(U.segments.length);return!!(Yn(U.segments,X)&&Nt(U.segments,X,$)&&U.children[dn])&&qi(U.children[dn],P,me,$)}}function Nt(U,P,M){return P.every(($,X)=>tr[M](U[X].parameters,$.parameters))}class at{constructor(P,M,$){this.root=P,this.queryParams=M,this.fragment=$}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return Fs.serialize(this)}}class xe{constructor(P,M){this.segments=P,this.children=M,this.parent=null,Kr(M,($,X)=>$.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ri(this)}}class mt{constructor(P,M){this.path=P,this.parameters=M}get parameterMap(){return this._parameterMap||(this._parameterMap=Vn(this.parameters)),this._parameterMap}toString(){return kn(this)}}function Yn(U,P){return U.length===P.length&&U.every((M,$)=>M.path===P[$].path)}class _i{}class ai{parse(P){const M=new os(P);return new at(M.parseRootSegment(),M.parseQueryParams(),M.parseFragment())}serialize(P){const M=`/${ii(P.root,!0)}`,$=function Er(U){const P=Object.keys(U).map(M=>{const $=U[M];return Array.isArray($)?$.map(X=>`${ye(M)}=${ye(X)}`).join("&"):`${ye(M)}=${ye($)}`}).filter(M=>!!M);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${M}${$}${"string"==typeof P.fragment?`#${function ke(U){return encodeURI(U)}(P.fragment)}`:""}`}}const Fs=new ai;function ri(U){return U.segments.map(P=>kn(P)).join("/")}function ii(U,P){if(!U.hasChildren())return ri(U);if(P){const M=U.children[dn]?ii(U.children[dn],!1):"",$=[];return Kr(U.children,(X,me)=>{me!==dn&&$.push(`${me}:${ii(X,!1)}`)}),$.length>0?`${M}(${$.join("//")})`:M}{const M=function cr(U,P){let M=[];return Kr(U.children,($,X)=>{X===dn&&(M=M.concat(P($,X)))}),Kr(U.children,($,X)=>{X!==dn&&(M=M.concat(P($,X)))}),M}(U,($,X)=>X===dn?[ii(U.children[dn],!1)]:[`${X}:${ii($,!1)}`]);return 1===Object.keys(U.children).length&&null!=U.children[dn]?`${ri(U)}/${M[0]}`:`${ri(U)}/(${M.join("//")})`}}function Oe(U){return encodeURIComponent(U).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ye(U){return Oe(U).replace(/%3B/gi,";")}function Ke(U){return Oe(U).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ye(U){return decodeURIComponent(U)}function rn(U){return Ye(U.replace(/\+/g,"%20"))}function kn(U){return`${Ke(U.path)}${function zr(U){return Object.keys(U).map(P=>`;${Ke(P)}=${Ke(U[P])}`).join("")}(U.parameters)}`}const yr=/^[^\/()?;=#]+/;function dt(U){const P=U.match(yr);return P?P[0]:""}const ir=/^[^=?&#]+/,qn=/^[^&#]+/;class os{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let M={};this.peekStartsWith("/(")&&(this.capture("/"),M=this.parseParens(!0));let $={};return this.peekStartsWith("(")&&($=this.parseParens(!1)),(P.length>0||Object.keys(M).length>0)&&($[dn]=new xe(P,M)),$}parseSegment(){const P=dt(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(P),new mt(Ye(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const M=dt(this.remaining);if(!M)return;this.capture(M);let $="";if(this.consumeOptional("=")){const X=dt(this.remaining);X&&($=X,this.capture($))}P[Ye(M)]=Ye($)}parseQueryParam(P){const M=function On(U){const P=U.match(ir);return P?P[0]:""}(this.remaining);if(!M)return;this.capture(M);let $="";if(this.consumeOptional("=")){const Fe=function kr(U){const P=U.match(qn);return P?P[0]:""}(this.remaining);Fe&&($=Fe,this.capture($))}const X=rn(M),me=rn($);if(P.hasOwnProperty(X)){let Fe=P[X];Array.isArray(Fe)||(Fe=[Fe],P[X]=Fe),Fe.push(me)}else P[X]=me}parseParens(P){const M={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const $=dt(this.remaining),X=this.remaining[$.length];if("/"!==X&&")"!==X&&";"!==X)throw new Error(`Cannot parse url '${this.url}'`);let me;$.indexOf(":")>-1?(me=$.substr(0,$.indexOf(":")),this.capture(me),this.capture(":")):P&&(me=dn);const Fe=this.parseChildren();M[me]=1===Object.keys(Fe).length?Fe[dn]:new xe([],Fe),this.consumeOptional("//")}return M}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new Error(`Expected "${P}".`)}}class ro{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const M=this.pathFromRoot(P);return M.length>1?M[M.length-2]:null}children(P){const M=Hi(P,this._root);return M?M.children.map($=>$.value):[]}firstChild(P){const M=Hi(P,this._root);return M&&M.children.length>0?M.children[0].value:null}siblings(P){const M=Ii(P,this._root);return M.length<2?[]:M[M.length-2].children.map(X=>X.value).filter(X=>X!==P)}pathFromRoot(P){return Ii(P,this._root).map(M=>M.value)}}function Hi(U,P){if(U===P.value)return P;for(const M of P.children){const $=Hi(U,M);if($)return $}return null}function Ii(U,P){if(U===P.value)return[P];for(const M of P.children){const $=Ii(U,M);if($.length)return $.unshift(P),$}return[]}class Yr{constructor(P,M){this.value=P,this.children=M}toString(){return`TreeNode(${this.value})`}}function Es(U){const P={};return U&&U.children.forEach(M=>P[M.value.outlet]=M),P}class $r extends ro{constructor(P,M){super(P),this.snapshot=M,ui(this,P)}toString(){return this.snapshot.toString()}}function rt(U,P){const M=function Lt(U,P){const Fe=new Un([],{},{},"",{},dn,P,null,U.root,-1,{});return new Wn("",new Yr(Fe,[]))}(U,P),$=new re([new mt("",{})]),X=new re({}),me=new re({}),Fe=new re({}),ot=new re(""),nn=new Ft($,X,Fe,ot,me,dn,P,M.root);return nn.snapshot=M.root,new $r(new Yr(nn,[]),M)}class Ft{constructor(P,M,$,X,me,Fe,ot,nn){this.url=P,this.params=M,this.queryParams=$,this.fragment=X,this.data=me,this.outlet=Fe,this.component=ot,this._futureSnapshot=nn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qt.U)(P=>Vn(P)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qt.U)(P=>Vn(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yn(U,P="emptyOnly"){const M=U.pathFromRoot;let $=0;if("always"!==P)for($=M.length-1;$>=1;){const X=M[$],me=M[$-1];if(X.routeConfig&&""===X.routeConfig.path)$--;else{if(me.component)break;$--}}return function Cn(U){return U.reduce((P,M)=>({params:Object.assign(Object.assign({},P.params),M.params),data:Object.assign(Object.assign({},P.data),M.data),resolve:Object.assign(Object.assign({},P.resolve),M._resolvedData)}),{params:{},data:{},resolve:{}})}(M.slice($))}class Un{constructor(P,M,$,X,me,Fe,ot,nn,sr,pi,br){this.url=P,this.params=M,this.queryParams=$,this.fragment=X,this.data=me,this.outlet=Fe,this.component=ot,this.routeConfig=nn,this._urlSegment=sr,this._lastPathIndex=pi,this._resolve=br}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map($=>$.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wn extends ro{constructor(P,M){super(M),this.url=P,ui(this,M)}toString(){return Ir(this._root)}}function ui(U,P){P.value._routerState=U,P.children.forEach(M=>ui(U,M))}function Ir(U){const P=U.children.length>0?` { ${U.children.map(Ir).join(", ")} } `:"";return`${U.value}${P}`}function Si(U){if(U.snapshot){const P=U.snapshot,M=U._futureSnapshot;U.snapshot=M,En(P.queryParams,M.queryParams)||U.queryParams.next(M.queryParams),P.fragment!==M.fragment&&U.fragment.next(M.fragment),En(P.params,M.params)||U.params.next(M.params),function Ht(U,P){if(U.length!==P.length)return!1;for(let M=0;M<U.length;++M)if(!En(U[M],P[M]))return!1;return!0}(P.url,M.url)||U.url.next(M.url),En(P.data,M.data)||U.data.next(M.data)}else U.snapshot=U._futureSnapshot,U.data.next(U._futureSnapshot.data)}function Rr(U,P){const M=En(U.params,P.params)&&function Qt(U,P){return Yn(U,P)&&U.every((M,$)=>En(M.parameters,P[$].parameters))}(U.url,P.url);return M&&!(!U.parent!=!P.parent)&&(!U.parent||Rr(U.parent,P.parent))}function Tr(U,P,M){if(M&&U.shouldReuseRoute(P.value,M.value.snapshot)){const $=M.value;$._futureSnapshot=P.value;const X=function Is(U,P,M){return P.children.map($=>{for(const X of M.children)if(U.shouldReuseRoute($.value,X.value.snapshot))return Tr(U,$,X);return Tr(U,$)})}(U,P,M);return new Yr($,X)}{if(U.shouldAttach(P.value)){const me=U.retrieve(P.value);if(null!==me){const Fe=me.route;return Fe.value._futureSnapshot=P.value,Fe.children=P.children.map(ot=>Tr(U,ot)),Fe}}const $=function Oi(U){return new Ft(new re(U.url),new re(U.params),new re(U.queryParams),new re(U.fragment),new re(U.data),U.outlet,U.component,U)}(P.value),X=P.children.map(me=>Tr(U,me));return new Yr($,X)}}function $i(U){return"object"==typeof U&&null!=U&&!U.outlets&&!U.segmentPath}function Os(U){return"object"==typeof U&&null!=U&&U.outlets}function io(U,P,M,$,X){let me={};if($&&Kr($,(ot,nn)=>{me[nn]=Array.isArray(ot)?ot.map(sr=>`${sr}`):`${ot}`}),U===P)return new at(M,me,X);const Fe=Lo(U,P,M);return new at(Fe,me,X)}function Lo(U,P,M){const $={};return Kr(U.children,(X,me)=>{$[me]=X===P?M:Lo(X,P,M)}),new xe(U.segments,$)}class $e{constructor(P,M,$){if(this.isAbsolute=P,this.numberOfDoubleDots=M,this.commands=$,P&&$.length>0&&$i($[0]))throw new Error("Root segment cannot have matrix parameters");const X=$.find(Os);if(X&&X!==_r($))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qe{constructor(P,M,$){this.segmentGroup=P,this.processChildren=M,this.index=$}}function rr(U,P,M){if(U||(U=new xe([],{})),0===U.segments.length&&U.hasChildren())return pr(U,P,M);const $=function Jr(U,P,M){let $=0,X=P;const me={match:!1,pathIndex:0,commandIndex:0};for(;X<U.segments.length;){if($>=M.length)return me;const Fe=U.segments[X],ot=M[$];if(Os(ot))break;const nn=`${ot}`,sr=$<M.length-1?M[$+1]:null;if(X>0&&void 0===nn)break;if(nn&&sr&&"object"==typeof sr&&void 0===sr.outlets){if(!hi(nn,sr,Fe))return me;$+=2}else{if(!hi(nn,{},Fe))return me;$++}X++}return{match:!0,pathIndex:X,commandIndex:$}}(U,P,M),X=M.slice($.commandIndex);if($.match&&$.pathIndex<U.segments.length){const me=new xe(U.segments.slice(0,$.pathIndex),{});return me.children[dn]=new xe(U.segments.slice($.pathIndex),U.children),pr(me,0,X)}return $.match&&0===X.length?new xe(U.segments,{}):$.match&&!U.hasChildren()?Ri(U,P,M):$.match?pr(U,0,X):Ri(U,P,M)}function pr(U,P,M){if(0===M.length)return new xe(U.segments,{});{const $=function Nn(U){return Os(U[0])?U[0].outlets:{[dn]:U}}(M),X={};return Kr($,(me,Fe)=>{"string"==typeof me&&(me=[me]),null!==me&&(X[Fe]=rr(U.children[Fe],P,me))}),Kr(U.children,(me,Fe)=>{void 0===$[Fe]&&(X[Fe]=me)}),new xe(U.segments,X)}}function Ri(U,P,M){const $=U.segments.slice(0,P);let X=0;for(;X<M.length;){const me=M[X];if(Os(me)){const nn=Ls(me.outlets);return new xe($,nn)}if(0===X&&$i(M[0])){$.push(new mt(U.segments[P].path,li(M[0]))),X++;continue}const Fe=Os(me)?me.outlets[dn]:`${me}`,ot=X<M.length-1?M[X+1]:null;Fe&&ot&&$i(ot)?($.push(new mt(Fe,li(ot))),X+=2):($.push(new mt(Fe,{})),X++)}return new xe($,{})}function Ls(U){const P={};return Kr(U,(M,$)=>{"string"==typeof M&&(M=[M]),null!==M&&(P[$]=Ri(new xe([],{}),0,M))}),P}function li(U){const P={};return Kr(U,(M,$)=>P[$]=`${M}`),P}function hi(U,P,M){return U==M.path&&En(P,M.parameters)}class go{constructor(P,M,$,X){this.routeReuseStrategy=P,this.futureState=M,this.currState=$,this.forwardEvent=X}activate(P){const M=this.futureState._root,$=this.currState?this.currState._root:null;this.deactivateChildRoutes(M,$,P),Si(this.futureState.root),this.activateChildRoutes(M,$,P)}deactivateChildRoutes(P,M,$){const X=Es(M);P.children.forEach(me=>{const Fe=me.value.outlet;this.deactivateRoutes(me,X[Fe],$),delete X[Fe]}),Kr(X,(me,Fe)=>{this.deactivateRouteAndItsChildren(me,$)})}deactivateRoutes(P,M,$){const X=P.value,me=M?M.value:null;if(X===me)if(X.component){const Fe=$.getContext(X.outlet);Fe&&this.deactivateChildRoutes(P,M,Fe.children)}else this.deactivateChildRoutes(P,M,$);else me&&this.deactivateRouteAndItsChildren(M,$)}deactivateRouteAndItsChildren(P,M){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,M):this.deactivateRouteAndOutlet(P,M)}detachAndStoreRouteSubtree(P,M){const $=M.getContext(P.value.outlet),X=$&&P.value.component?$.children:M,me=Es(P);for(const Fe of Object.keys(me))this.deactivateRouteAndItsChildren(me[Fe],X);if($&&$.outlet){const Fe=$.outlet.detach(),ot=$.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:Fe,route:P,contexts:ot})}}deactivateRouteAndOutlet(P,M){const $=M.getContext(P.value.outlet),X=$&&P.value.component?$.children:M,me=Es(P);for(const Fe of Object.keys(me))this.deactivateRouteAndItsChildren(me[Fe],X);$&&$.outlet&&($.outlet.deactivate(),$.children.onOutletDeactivated(),$.attachRef=null,$.resolver=null,$.route=null)}activateChildRoutes(P,M,$){const X=Es(M);P.children.forEach(me=>{this.activateRoutes(me,X[me.value.outlet],$),this.forwardEvent(new Mn(me.value.snapshot))}),P.children.length&&this.forwardEvent(new Te(P.value.snapshot))}activateRoutes(P,M,$){const X=P.value,me=M?M.value:null;if(Si(X),X===me)if(X.component){const Fe=$.getOrCreateContext(X.outlet);this.activateChildRoutes(P,M,Fe.children)}else this.activateChildRoutes(P,M,$);else if(X.component){const Fe=$.getOrCreateContext(X.outlet);if(this.routeReuseStrategy.shouldAttach(X.snapshot)){const ot=this.routeReuseStrategy.retrieve(X.snapshot);this.routeReuseStrategy.store(X.snapshot,null),Fe.children.onOutletReAttached(ot.contexts),Fe.attachRef=ot.componentRef,Fe.route=ot.route.value,Fe.outlet&&Fe.outlet.attach(ot.componentRef,ot.route.value),Si(ot.route.value),this.activateChildRoutes(P,null,Fe.children)}else{const ot=function Uo(U){for(let P=U.parent;P;P=P.parent){const M=P.routeConfig;if(M&&M._loadedConfig)return M._loadedConfig;if(M&&M.component)return null}return null}(X.snapshot),nn=ot?ot.module.componentFactoryResolver:null;Fe.attachRef=null,Fe.route=X,Fe.resolver=nn,Fe.outlet&&Fe.outlet.activateWith(X,nn),this.activateChildRoutes(P,null,Fe.children)}}else this.activateChildRoutes(P,null,$)}}class Co{constructor(P,M){this.routes=P,this.module=M}}function mo(U){return"function"==typeof U}function Rs(U){return U instanceof at}const jo=Symbol("INITIAL_VALUE");function yo(){return(0,kt.w)(U=>function Ce(...U){const P=(0,Le.yG)(U),M=(0,Le.jO)(U),{args:$,keys:X}=(0,Ie.D)(U);if(0===$.length)return(0,ae.D)([],P);const me=new ce.y(function ne(U,P,M=Pe.y){return $=>{ee(P,()=>{const{length:X}=U,me=new Array(X);let Fe=X,ot=X;for(let nn=0;nn<X;nn++)ee(P,()=>{const sr=(0,ae.D)(U[nn],P);let pi=!1;sr.subscribe((0,fe.x)($,br=>{me[nn]=br,pi||(pi=!0,ot--),ot||$.next(M(me.slice()))},()=>{--Fe||$.complete()}))},$)},$)}}($,P,X?Fe=>(0,Ee.n)(X,Fe):Pe.y));return M?me.pipe((0,Ne.Z)(M)):me}(U.map(P=>P.pipe((0,zt.q)(1),(0,Rt.O)(jo)))).pipe((0,Dn.R)((P,M)=>{let $=!1;return M.reduce((X,me,Fe)=>X!==jo?X:(me===jo&&($=!0),$||!1!==me&&Fe!==M.length-1&&!Rs(me)?X:me),P)},jo),(0,Dt.h)(P=>P!==jo),(0,qt.U)(P=>Rs(P)?P:!0===P),(0,zt.q)(1)))}class Js{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ns,this.attachRef=null}}class ns{constructor(){this.contexts=new Map}onChildOutletCreated(P,M){const $=this.getOrCreateContext(P);$.outlet=M,this.contexts.set(P,$)}onChildOutletDestroyed(P){const M=this.getContext(P);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const P=this.contexts;return this.contexts=new Map,P}onOutletReAttached(P){this.contexts=P}getOrCreateContext(P){let M=this.getContext(P);return M||(M=new Js,this.contexts.set(P,M)),M}getContext(P){return this.contexts.get(P)||null}}let so=(()=>{class U{constructor(M,$,X,me,Fe){this.parentContexts=M,this.location=$,this.resolver=X,this.changeDetector=Fe,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=me||dn,M.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const M=this.parentContexts.getContext(this.name);M&&M.route&&(M.attachRef?this.attach(M.attachRef,M.route):this.activateWith(M.route,M.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const M=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(M.instance),M}attach(M,$){this.activated=M,this._activatedRoute=$,this.location.insert(M.hostView),this.attachEvents.emit(M.instance)}deactivate(){if(this.activated){const M=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(M)}}activateWith(M,$){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=M;const Fe=($=$||this.resolver).resolveComponentFactory(M._futureSnapshot.routeConfig.component),ot=this.parentContexts.getOrCreateContext(this.name).children,nn=new To(M,ot,this.location.injector);this.activated=this.location.createComponent(Fe,this.location.length,nn),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return U.\u0275fac=function(M){return new(M||U)(a.Y36(ns),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},U.\u0275dir=a.lG2({type:U,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),U})();class To{constructor(P,M,$){this.route=P,this.childContexts=M,this.parent=$}get(P,M){return P===Ft?this.route:P===ns?this.childContexts:this.parent.get(P,M)}}let As=(()=>{class U{}return U.\u0275fac=function(M){return new(M||U)},U.\u0275cmp=a.Xpm({type:U,selectors:[["ng-component"]],decls:1,vars:0,template:function(M,$){1&M&&a._UZ(0,"router-outlet")},directives:[so],encapsulation:2}),U})();function ms(U,P=""){for(let M=0;M<U.length;M++){const $=U[M];Wi($,bi(P,$))}}function Wi(U,P){U.children&&ms(U.children,P)}function bi(U,P){return P?U||P.path?U&&!P.path?`${U}/`:!U&&P.path?P.path:`${U}/${P.path}`:"":U}function q(U){const P=U.children&&U.children.map(q),M=P?Object.assign(Object.assign({},U),{children:P}):Object.assign({},U);return!M.component&&(P||M.loadChildren)&&M.outlet&&M.outlet!==dn&&(M.component=As),M}function de(U){return U.outlet||dn}function W(U,P){const M=U.filter($=>de($)===P);return M.push(...U.filter($=>de($)!==P)),M}const ve={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nt(U,P,M){var $;if(""===P.path)return"full"===P.pathMatch&&(U.hasChildren()||M.length>0)?Object.assign({},ve):{matched:!0,consumedSegments:[],remainingSegments:M,parameters:{},positionalParamSegments:{}};const me=(P.matcher||Ar)(M,U,P);if(!me)return Object.assign({},ve);const Fe={};Kr(me.posParams,(nn,sr)=>{Fe[sr]=nn.path});const ot=me.consumed.length>0?Object.assign(Object.assign({},Fe),me.consumed[me.consumed.length-1].parameters):Fe;return{matched:!0,consumedSegments:me.consumed,remainingSegments:M.slice(me.consumed.length),parameters:ot,positionalParamSegments:null!==($=me.posParams)&&void 0!==$?$:{}}}function Gt(U,P,M,$,X="corrected"){if(M.length>0&&function di(U,P,M){return M.some($=>Kn(U,P,$)&&de($)!==dn)}(U,M,$)){const Fe=new xe(P,function dr(U,P,M,$){const X={};X[dn]=$,$._sourceSegment=U,$._segmentIndexShift=P.length;for(const me of M)if(""===me.path&&de(me)!==dn){const Fe=new xe([],{});Fe._sourceSegment=U,Fe._segmentIndexShift=P.length,X[de(me)]=Fe}return X}(U,P,$,new xe(M,U.children)));return Fe._sourceSegment=U,Fe._segmentIndexShift=P.length,{segmentGroup:Fe,slicedSegments:[]}}if(0===M.length&&function Nr(U,P,M){return M.some($=>Kn(U,P,$))}(U,M,$)){const Fe=new xe(U.segments,function hn(U,P,M,$,X,me){const Fe={};for(const ot of $)if(Kn(U,M,ot)&&!X[de(ot)]){const nn=new xe([],{});nn._sourceSegment=U,nn._segmentIndexShift="legacy"===me?U.segments.length:P.length,Fe[de(ot)]=nn}return Object.assign(Object.assign({},X),Fe)}(U,P,M,$,U.children,X));return Fe._sourceSegment=U,Fe._segmentIndexShift=P.length,{segmentGroup:Fe,slicedSegments:M}}const me=new xe(U.segments,U.children);return me._sourceSegment=U,me._segmentIndexShift=P.length,{segmentGroup:me,slicedSegments:M}}function Kn(U,P,M){return(!(U.hasChildren()||P.length>0)||"full"!==M.pathMatch)&&""===M.path}function Xr(U,P,M,$){return!!(de(U)===$||$!==dn&&Kn(P,M,U))&&("**"===U.path||nt(P,U,M).matched)}function Pi(U,P,M){return 0===P.length&&!U.children[M]}class wi{constructor(P){this.segmentGroup=P||null}}class Fi{constructor(P){this.urlTree=P}}function oo(U){return ue(new wi(U))}function ao(U){return ue(new Fi(U))}class Cs{constructor(P,M,$,X,me){this.configLoader=M,this.urlSerializer=$,this.urlTree=X,this.config=me,this.allowRedirects=!0,this.ngModule=P.get(a.h0i)}apply(){const P=Gt(this.urlTree.root,[],[],this.config).segmentGroup,M=new xe(P.segments,P.children);return this.expandSegmentGroup(this.ngModule,this.config,M,dn).pipe((0,qt.U)(me=>this.createUrlTree(Y(me),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pt(me=>{if(me instanceof Fi)return this.allowRedirects=!1,this.match(me.urlTree);throw me instanceof wi?this.noMatchError(me):me}))}match(P){return this.expandSegmentGroup(this.ngModule,this.config,P.root,dn).pipe((0,qt.U)(X=>this.createUrlTree(Y(X),P.queryParams,P.fragment))).pipe(pt(X=>{throw X instanceof wi?this.noMatchError(X):X}))}noMatchError(P){return new Error(`Cannot match any routes. URL Segment: '${P.segmentGroup}'`)}createUrlTree(P,M,$){const X=P.segments.length>0?new xe([],{[dn]:P}):P;return new at(X,M,$)}expandSegmentGroup(P,M,$,X){return 0===$.segments.length&&$.hasChildren()?this.expandChildren(P,M,$).pipe((0,qt.U)(me=>new xe([],me))):this.expandSegment(P,$,M,$.segments,X,!0)}expandChildren(P,M,$){const X=[];for(const me of Object.keys($.children))"primary"===me?X.unshift(me):X.push(me);return(0,ae.D)(X).pipe((0,In.b)(me=>{const Fe=$.children[me],ot=W(M,me);return this.expandSegmentGroup(P,ot,Fe,me).pipe((0,qt.U)(nn=>({segment:nn,outlet:me})))}),(0,Dn.R)((me,Fe)=>(me[Fe.outlet]=Fe.segment,me),{}),function Qn(U,P){const M=arguments.length>=2;return $=>$.pipe(U?(0,Dt.h)((X,me)=>U(X,me,$)):Pe.y,Et(1),M?(0,bt.d)(P):(0,tn.T)(()=>new Tt.K))}())}expandSegment(P,M,$,X,me,Fe){return(0,ae.D)($).pipe((0,In.b)(ot=>this.expandSegmentAgainstRoute(P,M,$,ot,X,me,Fe).pipe(pt(sr=>{if(sr instanceof wi)return(0,Ve.of)(null);throw sr}))),(0,It.P)(ot=>!!ot),pt((ot,nn)=>{if(ot instanceof Tt.K||"EmptyError"===ot.name)return Pi(M,X,me)?(0,Ve.of)(new xe([],{})):oo(M);throw ot}))}expandSegmentAgainstRoute(P,M,$,X,me,Fe,ot){return Xr(X,M,me,Fe)?void 0===X.redirectTo?this.matchSegmentAgainstRoute(P,M,X,me,Fe):ot&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(P,M,$,X,me,Fe):oo(M):oo(M)}expandSegmentAgainstRouteUsingRedirect(P,M,$,X,me,Fe){return"**"===X.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(P,$,X,Fe):this.expandRegularSegmentAgainstRouteUsingRedirect(P,M,$,X,me,Fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(P,M,$,X){const me=this.applyRedirectCommands([],$.redirectTo,{});return $.redirectTo.startsWith("/")?ao(me):this.lineralizeSegments($,me).pipe((0,At.z)(Fe=>{const ot=new xe(Fe,{});return this.expandSegment(P,ot,M,Fe,X,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(P,M,$,X,me,Fe){const{matched:ot,consumedSegments:nn,remainingSegments:sr,positionalParamSegments:pi}=nt(M,X,me);if(!ot)return oo(M);const br=this.applyRedirectCommands(nn,X.redirectTo,pi);return X.redirectTo.startsWith("/")?ao(br):this.lineralizeSegments(X,br).pipe((0,At.z)(zi=>this.expandSegment(P,M,$,zi.concat(sr),Fe,!1)))}matchSegmentAgainstRoute(P,M,$,X,me){if("**"===$.path)return $.loadChildren?($._loadedConfig?(0,Ve.of)($._loadedConfig):this.configLoader.load(P.injector,$)).pipe((0,qt.U)(br=>($._loadedConfig=br,new xe(X,{})))):(0,Ve.of)(new xe(X,{}));const{matched:Fe,consumedSegments:ot,remainingSegments:nn}=nt(M,$,X);return Fe?this.getChildConfig(P,$,X).pipe((0,At.z)(pi=>{const br=pi.module,zi=pi.routes,{segmentGroup:Ei,slicedSegments:So}=Gt(M,ot,nn,zi),Xo=new xe(Ei.segments,Ei.children);if(0===So.length&&Xo.hasChildren())return this.expandChildren(br,zi,Xo).pipe((0,qt.U)(fa=>new xe(ot,fa)));if(0===zi.length&&0===So.length)return(0,Ve.of)(new xe(ot,{}));const ha=de($)===me;return this.expandSegment(br,Xo,zi,So,ha?dn:me,!0).pipe((0,qt.U)(No=>new xe(ot.concat(No.segments),No.children)))})):oo(M)}getChildConfig(P,M,$){return M.children?(0,Ve.of)(new Co(M.children,P)):M.loadChildren?void 0!==M._loadedConfig?(0,Ve.of)(M._loadedConfig):this.runCanLoadGuards(P.injector,M,$).pipe((0,At.z)(X=>X?this.configLoader.load(P.injector,M).pipe((0,qt.U)(me=>(M._loadedConfig=me,me))):function vo(U){return ue(vi(`Cannot load children because the guard of the route "path: '${U.path}'" returned false`))}(M))):(0,Ve.of)(new Co([],P))}runCanLoadGuards(P,M,$){const X=M.canLoad;if(!X||0===X.length)return(0,Ve.of)(!0);const me=X.map(Fe=>{const ot=P.get(Fe);let nn;if(function as(U){return U&&mo(U.canLoad)}(ot))nn=ot.canLoad(M,$);else{if(!mo(ot))throw new Error("Invalid CanLoad guard");nn=ot(M,$)}return mr(nn)});return(0,Ve.of)(me).pipe(yo(),(0,Ut.b)(Fe=>{if(!Rs(Fe))return;const ot=vi(`Redirecting to "${this.urlSerializer.serialize(Fe)}"`);throw ot.url=Fe,ot}),(0,qt.U)(Fe=>!0===Fe))}lineralizeSegments(P,M){let $=[],X=M.root;for(;;){if($=$.concat(X.segments),0===X.numberOfChildren)return(0,Ve.of)($);if(X.numberOfChildren>1||!X.children[dn])return ue(new Error(`Only absolute redirects can have named outlets. redirectTo: '${P.redirectTo}'`));X=X.children[dn]}}applyRedirectCommands(P,M,$){return this.applyRedirectCreatreUrlTree(M,this.urlSerializer.parse(M),P,$)}applyRedirectCreatreUrlTree(P,M,$,X){const me=this.createSegmentGroup(P,M.root,$,X);return new at(me,this.createQueryParams(M.queryParams,this.urlTree.queryParams),M.fragment)}createQueryParams(P,M){const $={};return Kr(P,(X,me)=>{if("string"==typeof X&&X.startsWith(":")){const ot=X.substring(1);$[me]=M[ot]}else $[me]=X}),$}createSegmentGroup(P,M,$,X){const me=this.createSegments(P,M.segments,$,X);let Fe={};return Kr(M.children,(ot,nn)=>{Fe[nn]=this.createSegmentGroup(P,ot,$,X)}),new xe(me,Fe)}createSegments(P,M,$,X){return M.map(me=>me.path.startsWith(":")?this.findPosParam(P,me,X):this.findOrReturn(me,$))}findPosParam(P,M,$){const X=$[M.path.substring(1)];if(!X)throw new Error(`Cannot redirect to '${P}'. Cannot find '${M.path}'.`);return X}findOrReturn(P,M){let $=0;for(const X of M){if(X.path===P.path)return M.splice($),X;$++}return P}}function Y(U){const P={};for(const $ of Object.keys(U.children)){const me=Y(U.children[$]);(me.segments.length>0||me.hasChildren())&&(P[$]=me)}return function co(U){if(1===U.numberOfChildren&&U.children[dn]){const P=U.children[dn];return new xe(U.segments.concat(P.segments),P.children)}return U}(new xe(U.segments,P))}class V{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class J{constructor(P,M){this.component=P,this.route=M}}function Mt(U,P,M){const $=U._root;return Ms($,P?P._root:null,M,[$.value])}function Fr(U,P,M){const $=function cs(U){if(!U)return null;for(let P=U.parent;P;P=P.parent){const M=P.routeConfig;if(M&&M._loadedConfig)return M._loadedConfig}return null}(P);return($?$.module.injector:M).get(U)}function Ms(U,P,M,$,X={canDeactivateChecks:[],canActivateChecks:[]}){const me=Es(P);return U.children.forEach(Fe=>{(function Gi(U,P,M,$,X={canDeactivateChecks:[],canActivateChecks:[]}){const me=U.value,Fe=P?P.value:null,ot=M?M.getContext(U.value.outlet):null;if(Fe&&me.routeConfig===Fe.routeConfig){const nn=function Go(U,P,M){if("function"==typeof M)return M(U,P);switch(M){case"pathParamsChange":return!Yn(U.url,P.url);case"pathParamsOrQueryParamsChange":return!Yn(U.url,P.url)||!En(U.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rr(U,P)||!En(U.queryParams,P.queryParams);default:return!Rr(U,P)}}(Fe,me,me.routeConfig.runGuardsAndResolvers);nn?X.canActivateChecks.push(new V($)):(me.data=Fe.data,me._resolvedData=Fe._resolvedData),Ms(U,P,me.component?ot?ot.children:null:M,$,X),nn&&ot&&ot.outlet&&ot.outlet.isActivated&&X.canDeactivateChecks.push(new J(ot.outlet.component,Fe))}else Fe&&Hr(P,ot,X),X.canActivateChecks.push(new V($)),Ms(U,null,me.component?ot?ot.children:null:M,$,X)})(Fe,me[Fe.value.outlet],M,$.concat([Fe.value]),X),delete me[Fe.value.outlet]}),Kr(me,(Fe,ot)=>Hr(Fe,M.getContext(ot),X)),X}function Hr(U,P,M){const $=Es(U),X=U.value;Kr($,(me,Fe)=>{Hr(me,X.component?P?P.children.getContext(Fe):null:P,M)}),M.canDeactivateChecks.push(new J(X.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,X))}class zs{}function Ko(U){return new ce.y(P=>P.error(U))}class Q{constructor(P,M,$,X,me,Fe){this.rootComponentType=P,this.config=M,this.urlTree=$,this.url=X,this.paramsInheritanceStrategy=me,this.relativeLinkResolution=Fe}recognize(){const P=Gt(this.urlTree.root,[],[],this.config.filter(Fe=>void 0===Fe.redirectTo),this.relativeLinkResolution).segmentGroup,M=this.processSegmentGroup(this.config,P,dn);if(null===M)return null;const $=new Un([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},dn,this.rootComponentType,null,this.urlTree.root,-1,{}),X=new Yr($,M),me=new Wn(this.url,X);return this.inheritParamsAndData(me._root),me}inheritParamsAndData(P){const M=P.value,$=yn(M,this.paramsInheritanceStrategy);M.params=Object.freeze($.params),M.data=Object.freeze($.data),P.children.forEach(X=>this.inheritParamsAndData(X))}processSegmentGroup(P,M,$){return 0===M.segments.length&&M.hasChildren()?this.processChildren(P,M):this.processSegment(P,M,M.segments,$)}processChildren(P,M){const $=[];for(const me of Object.keys(M.children)){const Fe=M.children[me],ot=W(P,me),nn=this.processSegmentGroup(ot,Fe,me);if(null===nn)return null;$.push(...nn)}const X=Yt($);return function ge(U){U.sort((P,M)=>P.value.outlet===dn?-1:M.value.outlet===dn?1:P.value.outlet.localeCompare(M.value.outlet))}(X),X}processSegment(P,M,$,X){for(const me of P){const Fe=this.processSegmentAgainstRoute(me,M,$,X);if(null!==Fe)return Fe}return Pi(M,$,X)?[]:null}processSegmentAgainstRoute(P,M,$,X){if(P.redirectTo||!Xr(P,M,$,X))return null;let me,Fe=[],ot=[];if("**"===P.path){const Ei=$.length>0?_r($).parameters:{};me=new Un($,Ei,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ti(P),de(P),P.component,P,qr(M),Cr(M)+$.length,rs(P))}else{const Ei=nt(M,P,$);if(!Ei.matched)return null;Fe=Ei.consumedSegments,ot=Ei.remainingSegments,me=new Un(Fe,Ei.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ti(P),de(P),P.component,P,qr(M),Cr(M)+Fe.length,rs(P))}const nn=function Be(U){return U.children?U.children:U.loadChildren?U._loadedConfig.routes:[]}(P),{segmentGroup:sr,slicedSegments:pi}=Gt(M,Fe,ot,nn.filter(Ei=>void 0===Ei.redirectTo),this.relativeLinkResolution);if(0===pi.length&&sr.hasChildren()){const Ei=this.processChildren(nn,sr);return null===Ei?null:[new Yr(me,Ei)]}if(0===nn.length&&0===pi.length)return[new Yr(me,[])];const br=de(P)===X,zi=this.processSegment(nn,sr,pi,br?dn:X);return null===zi?null:[new Yr(me,zi)]}}function We(U){const P=U.value.routeConfig;return P&&""===P.path&&void 0===P.redirectTo}function Yt(U){const P=[],M=new Set;for(const $ of U){if(!We($)){P.push($);continue}const X=P.find(me=>$.value.routeConfig===me.value.routeConfig);void 0!==X?(X.children.push(...$.children),M.add(X)):P.push($)}for(const $ of M){const X=Yt($.children);P.push(new Yr($.value,X))}return P.filter($=>!M.has($))}function qr(U){let P=U;for(;P._sourceSegment;)P=P._sourceSegment;return P}function Cr(U){let P=U,M=P._segmentIndexShift?P._segmentIndexShift:0;for(;P._sourceSegment;)P=P._sourceSegment,M+=P._segmentIndexShift?P._segmentIndexShift:0;return M-1}function Ti(U){return U.data||{}}function rs(U){return U.resolve||{}}function Vc(U){return[...Object.keys(U),...Object.getOwnPropertySymbols(U)]}function ys(U){return(0,kt.w)(P=>{const M=U(P);return M?(0,ae.D)(M).pipe((0,qt.U)(()=>P)):(0,Ve.of)(P)})}class Iu extends class is{shouldDetach(P){return!1}store(P,M){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,M){return P.routeConfig===M.routeConfig}}{}const fc=new a.OlP("ROUTES");class ua{constructor(P,M,$,X){this.injector=P,this.compiler=M,this.onLoadStartListener=$,this.onLoadEndListener=X}load(P,M){if(M._loader$)return M._loader$;this.onLoadStartListener&&this.onLoadStartListener(M);const X=this.loadModuleFactory(M.loadChildren).pipe((0,qt.U)(me=>{this.onLoadEndListener&&this.onLoadEndListener(M);const Fe=me.create(P);return new Co(nr(Fe.injector.get(fc,void 0,a.XFs.Self|a.XFs.Optional)).map(q),Fe)}),pt(me=>{throw M._loader$=void 0,me}));return M._loader$=new _t(X,()=>new y.x).pipe(tt()),M._loader$}loadModuleFactory(P){return mr(P()).pipe((0,At.z)(M=>M instanceof a.YKP?(0,Ve.of)(M):(0,ae.D)(this.compiler.compileModuleAsync(M))))}}class $c{shouldProcessUrl(P){return!0}extract(P){return P}merge(P,M){return P}}function ou(U){throw U}function Tc(U,P,M){return P.parse("/")}function Aa(U,P){return(0,Ve.of)(null)}const Ki={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vs=(()=>{class U{constructor(M,$,X,me,Fe,ot,nn){this.rootComponentType=M,this.urlSerializer=$,this.rootContexts=X,this.location=me,this.config=nn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new y.x,this.errorHandler=ou,this.malformedUriErrorHandler=Tc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Aa,afterPreactivation:Aa},this.urlHandlingStrategy=new $c,this.routeReuseStrategy=new Iu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Fe.get(a.h0i),this.console=Fe.get(a.c2e);const br=Fe.get(a.R0b);this.isNgZoneEnabled=br instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(nn),this.currentUrlTree=function Qr(){return new at(new xe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ua(Fe,ot,zi=>this.triggerEvent(new xr(zi)),zi=>this.triggerEvent(new gi(zi))),this.routerState=rt(this.currentUrlTree,this.rootComponentType),this.transitions=new re({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var M;return null===(M=this.location.getState())||void 0===M?void 0:M.\u0275routerPageId}setupNavigations(M){const $=this.events;return M.pipe((0,Dt.h)(X=>0!==X.id),(0,qt.U)(X=>Object.assign(Object.assign({},X),{extractedUrl:this.urlHandlingStrategy.extract(X.rawUrl)})),(0,kt.w)(X=>{let me=!1,Fe=!1;return(0,Ve.of)(X).pipe((0,Ut.b)(ot=>{this.currentNavigation={id:ot.id,initialUrl:ot.currentRawUrl,extractedUrl:ot.extractedUrl,trigger:ot.source,extras:ot.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,kt.w)(ot=>{const nn=this.browserUrlTree.toString(),sr=!this.navigated||ot.extractedUrl.toString()!==nn||nn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||sr)&&this.urlHandlingStrategy.shouldProcessUrl(ot.rawUrl))return qs(ot.source)&&(this.browserUrlTree=ot.extractedUrl),(0,Ve.of)(ot).pipe((0,kt.w)(br=>{const zi=this.transitions.getValue();return $.next(new ar(br.id,this.serializeUrl(br.extractedUrl),br.source,br.restoredState)),zi!==this.transitions.getValue()?ze.E:Promise.resolve(br)}),function H(U,P,M,$){return(0,kt.w)(X=>function Ia(U,P,M,$,X){return new Cs(U,P,M,$,X).apply()}(U,P,M,X.extractedUrl,$).pipe((0,qt.U)(me=>Object.assign(Object.assign({},X),{urlAfterRedirects:me}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ut.b)(br=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:br.urlAfterRedirects})}),function mi(U,P,M,$,X){return(0,At.z)(me=>function oe(U,P,M,$,X="emptyOnly",me="legacy"){try{const Fe=new Q(U,P,M,$,X,me).recognize();return null===Fe?Ko(new zs):(0,Ve.of)(Fe)}catch(Fe){return Ko(Fe)}}(U,P,me.urlAfterRedirects,M(me.urlAfterRedirects),$,X).pipe((0,qt.U)(Fe=>Object.assign(Object.assign({},me),{targetSnapshot:Fe}))))}(this.rootComponentType,this.config,br=>this.serializeUrl(br),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ut.b)(br=>{if("eager"===this.urlUpdateStrategy){if(!br.extras.skipLocationChange){const Ei=this.urlHandlingStrategy.merge(br.urlAfterRedirects,br.rawUrl);this.setBrowserUrl(Ei,br)}this.browserUrlTree=br.urlAfterRedirects}const zi=new Gr(br.id,this.serializeUrl(br.extractedUrl),this.serializeUrl(br.urlAfterRedirects),br.targetSnapshot);$.next(zi)}));if(sr&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:zi,extractedUrl:Ei,source:So,restoredState:Xo,extras:ha}=ot,Ba=new ar(zi,this.serializeUrl(Ei),So,Xo);$.next(Ba);const No=rt(Ei,this.rootComponentType).snapshot;return(0,Ve.of)(Object.assign(Object.assign({},ot),{targetSnapshot:No,urlAfterRedirects:Ei,extras:Object.assign(Object.assign({},ha),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ot.rawUrl,ot.resolve(null),ze.E}),ys(ot=>{const{targetSnapshot:nn,id:sr,extractedUrl:pi,rawUrl:br,extras:{skipLocationChange:zi,replaceUrl:Ei}}=ot;return this.hooks.beforePreactivation(nn,{navigationId:sr,appliedUrlTree:pi,rawUrlTree:br,skipLocationChange:!!zi,replaceUrl:!!Ei})}),(0,Ut.b)(ot=>{const nn=new ti(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot);this.triggerEvent(nn)}),(0,qt.U)(ot=>Object.assign(Object.assign({},ot),{guards:Mt(ot.targetSnapshot,ot.currentSnapshot,this.rootContexts)})),function Eu(U,P){return(0,At.z)(M=>{const{targetSnapshot:$,currentSnapshot:X,guards:{canActivateChecks:me,canDeactivateChecks:Fe}}=M;return 0===Fe.length&&0===me.length?(0,Ve.of)(Object.assign(Object.assign({},M),{guardsResult:!0})):function su(U,P,M,$){return(0,ae.D)(U).pipe((0,At.z)(X=>function fi(U,P,M,$,X){const me=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!me||0===me.length)return(0,Ve.of)(!0);const Fe=me.map(ot=>{const nn=Fr(ot,P,X);let sr;if(function Ui(U){return U&&mo(U.canDeactivate)}(nn))sr=mr(nn.canDeactivate(U,P,M,$));else{if(!mo(nn))throw new Error("Invalid CanDeactivate guard");sr=mr(nn(U,P,M,$))}return sr.pipe((0,It.P)())});return(0,Ve.of)(Fe).pipe(yo())}(X.component,X.route,M,P,$)),(0,It.P)(X=>!0!==X,!0))}(Fe,$,X,U).pipe((0,At.z)(ot=>ot&&function Us(U){return"boolean"==typeof U}(ot)?function _o(U,P,M,$){return(0,ae.D)(P).pipe((0,In.b)(X=>(0,Jt.z)(function Xs(U,P){return null!==U&&P&&P(new Je(U)),(0,Ve.of)(!0)}(X.route.parent,$),function La(U,P){return null!==U&&P&&P(new pn(U)),(0,Ve.of)(!0)}(X.route,$),function ca(U,P,M){const $=P[P.length-1],me=P.slice(0,P.length-1).reverse().map(Fe=>function Bn(U){const P=U.routeConfig?U.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:U,guards:P}:null}(Fe)).filter(Fe=>null!==Fe).map(Fe=>we(()=>{const ot=Fe.guards.map(nn=>{const sr=Fr(nn,Fe.node,M);let pi;if(function gs(U){return U&&mo(U.canActivateChild)}(sr))pi=mr(sr.canActivateChild($,U));else{if(!mo(sr))throw new Error("Invalid CanActivateChild guard");pi=mr(sr($,U))}return pi.pipe((0,It.P)())});return(0,Ve.of)(ot).pipe(yo())}));return(0,Ve.of)(me).pipe(yo())}(U,X.path,M),function js(U,P,M){const $=P.routeConfig?P.routeConfig.canActivate:null;if(!$||0===$.length)return(0,Ve.of)(!0);const X=$.map(me=>we(()=>{const Fe=Fr(me,P,M);let ot;if(function Mi(U){return U&&mo(U.canActivate)}(Fe))ot=mr(Fe.canActivate(P,U));else{if(!mo(Fe))throw new Error("Invalid CanActivate guard");ot=mr(Fe(P,U))}return ot.pipe((0,It.P)())}));return(0,Ve.of)(X).pipe(yo())}(U,X.route,M))),(0,It.P)(X=>!0!==X,!0))}($,me,U,P):(0,Ve.of)(ot)),(0,qt.U)(ot=>Object.assign(Object.assign({},M),{guardsResult:ot})))})}(this.ngModule.injector,ot=>this.triggerEvent(ot)),(0,Ut.b)(ot=>{if(Rs(ot.guardsResult)){const sr=vi(`Redirecting to "${this.serializeUrl(ot.guardsResult)}"`);throw sr.url=ot.guardsResult,sr}const nn=new er(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot,!!ot.guardsResult);this.triggerEvent(nn)}),(0,Dt.h)(ot=>!!ot.guardsResult||(this.restoreHistory(ot),this.cancelNavigationTransition(ot,""),!1)),ys(ot=>{if(ot.guards.canActivateChecks.length)return(0,Ve.of)(ot).pipe((0,Ut.b)(nn=>{const sr=new wr(nn.id,this.serializeUrl(nn.extractedUrl),this.serializeUrl(nn.urlAfterRedirects),nn.targetSnapshot);this.triggerEvent(sr)}),(0,kt.w)(nn=>{let sr=!1;return(0,Ve.of)(nn).pipe(function bo(U,P){return(0,At.z)(M=>{const{targetSnapshot:$,guards:{canActivateChecks:X}}=M;if(!X.length)return(0,Ve.of)(M);let me=0;return(0,ae.D)(X).pipe((0,In.b)(Fe=>function wo(U,P,M,$){return function Xa(U,P,M,$){const X=Vc(U);if(0===X.length)return(0,Ve.of)({});const me={};return(0,ae.D)(X).pipe((0,At.z)(Fe=>function Sa(U,P,M,$){const X=Fr(U,P,$);return mr(X.resolve?X.resolve(P,M):X(P,M))}(U[Fe],P,M,$).pipe((0,Ut.b)(ot=>{me[Fe]=ot}))),Et(1),(0,At.z)(()=>Vc(me).length===X.length?(0,Ve.of)(me):ze.E))}(U._resolve,U,P,$).pipe((0,qt.U)(me=>(U._resolvedData=me,U.data=Object.assign(Object.assign({},U.data),yn(U,M).resolve),null)))}(Fe.route,$,U,P)),(0,Ut.b)(()=>me++),Et(1),(0,At.z)(Fe=>me===X.length?(0,Ve.of)(M):ze.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ut.b)({next:()=>sr=!0,complete:()=>{sr||(this.restoreHistory(nn),this.cancelNavigationTransition(nn,"At least one route resolver didn't emit any value."))}}))}),(0,Ut.b)(nn=>{const sr=new vr(nn.id,this.serializeUrl(nn.extractedUrl),this.serializeUrl(nn.urlAfterRedirects),nn.targetSnapshot);this.triggerEvent(sr)}))}),ys(ot=>{const{targetSnapshot:nn,id:sr,extractedUrl:pi,rawUrl:br,extras:{skipLocationChange:zi,replaceUrl:Ei}}=ot;return this.hooks.afterPreactivation(nn,{navigationId:sr,appliedUrlTree:pi,rawUrlTree:br,skipLocationChange:!!zi,replaceUrl:!!Ei})}),(0,qt.U)(ot=>{const nn=function Ci(U,P,M){const $=Tr(U,P._root,M?M._root:void 0);return new $r($,P)}(this.routeReuseStrategy,ot.targetSnapshot,ot.currentRouterState);return Object.assign(Object.assign({},ot),{targetRouterState:nn})}),(0,Ut.b)(ot=>{this.currentUrlTree=ot.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ot.urlAfterRedirects,ot.rawUrl),this.routerState=ot.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ot.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ot),this.browserUrlTree=ot.urlAfterRedirects)}),((U,P,M)=>(0,qt.U)($=>(new go(P,$.targetRouterState,$.currentRouterState,M).activate(U),$)))(this.rootContexts,this.routeReuseStrategy,ot=>this.triggerEvent(ot)),(0,Ut.b)({next(){me=!0},complete(){me=!0}}),(0,an.x)(()=>{var ot;me||Fe||this.cancelNavigationTransition(X,`Navigation ID ${X.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ot=this.currentNavigation)||void 0===ot?void 0:ot.id)===X.id&&(this.currentNavigation=null)}),pt(ot=>{if(Fe=!0,function St(U){return U&&U[Yi]}(ot)){const nn=Rs(ot.url);nn||(this.navigated=!0,this.restoreHistory(X,!0));const sr=new Zr(X.id,this.serializeUrl(X.extractedUrl),ot.message);$.next(sr),nn?setTimeout(()=>{const pi=this.urlHandlingStrategy.merge(ot.url,this.rawUrlTree),br={skipLocationChange:X.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qs(X.source)};this.scheduleNavigation(pi,"imperative",null,br,{resolve:X.resolve,reject:X.reject,promise:X.promise})},0):X.resolve(!1)}else{this.restoreHistory(X,!0);const nn=new Pr(X.id,this.serializeUrl(X.extractedUrl),ot);$.next(nn);try{X.resolve(this.errorHandler(ot))}catch(sr){X.reject(sr)}}return ze.E}))}))}resetRootComponentType(M){this.rootComponentType=M,this.routerState.root.component=this.rootComponentType}setTransition(M){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),M))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(M=>{const $="popstate"===M.type?"popstate":"hashchange";"popstate"===$&&setTimeout(()=>{var X;const me={replaceUrl:!0},Fe=(null===(X=M.state)||void 0===X?void 0:X.navigationId)?M.state:null;if(Fe){const nn=Object.assign({},Fe);delete nn.navigationId,delete nn.\u0275routerPageId,0!==Object.keys(nn).length&&(me.state=nn)}const ot=this.parseUrl(M.url);this.scheduleNavigation(ot,$,Fe,me)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(M){this.events.next(M)}resetConfig(M){ms(M),this.config=M.map(q),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(M,$={}){const{relativeTo:X,queryParams:me,fragment:Fe,queryParamsHandling:ot,preserveFragment:nn}=$,sr=X||this.routerState.root,pi=nn?this.currentUrlTree.fragment:Fe;let br=null;switch(ot){case"merge":br=Object.assign(Object.assign({},this.currentUrlTree.queryParams),me);break;case"preserve":br=this.currentUrlTree.queryParams;break;default:br=me||null}return null!==br&&(br=this.removeEmptyProps(br)),function Mo(U,P,M,$,X){if(0===M.length)return io(P.root,P.root,P.root,$,X);const me=function pe(U){if("string"==typeof U[0]&&1===U.length&&"/"===U[0])return new $e(!0,0,U);let P=0,M=!1;const $=U.reduce((X,me,Fe)=>{if("object"==typeof me&&null!=me){if(me.outlets){const ot={};return Kr(me.outlets,(nn,sr)=>{ot[sr]="string"==typeof nn?nn.split("/"):nn}),[...X,{outlets:ot}]}if(me.segmentPath)return[...X,me.segmentPath]}return"string"!=typeof me?[...X,me]:0===Fe?(me.split("/").forEach((ot,nn)=>{0==nn&&"."===ot||(0==nn&&""===ot?M=!0:".."===ot?P++:""!=ot&&X.push(ot))}),X):[...X,me]},[]);return new $e(M,P,$)}(M);if(me.toRoot())return io(P.root,P.root,new xe([],{}),$,X);const Fe=function Ot(U,P,M){if(U.isAbsolute)return new qe(P.root,!0,0);if(-1===M.snapshot._lastPathIndex){const me=M.snapshot._urlSegment;return new qe(me,me===P.root,0)}const $=$i(U.commands[0])?0:1;return function vt(U,P,M){let $=U,X=P,me=M;for(;me>X;){if(me-=X,$=$.parent,!$)throw new Error("Invalid number of '../'");X=$.segments.length}return new qe($,!1,X-me)}(M.snapshot._urlSegment,M.snapshot._lastPathIndex+$,U.numberOfDoubleDots)}(me,P,U),ot=Fe.processChildren?pr(Fe.segmentGroup,Fe.index,me.commands):rr(Fe.segmentGroup,Fe.index,me.commands);return io(P.root,Fe.segmentGroup,ot,$,X)}(sr,this.currentUrlTree,M,br,null!=pi?pi:null)}navigateByUrl(M,$={skipLocationChange:!1}){const X=Rs(M)?M:this.parseUrl(M),me=this.urlHandlingStrategy.merge(X,this.rawUrlTree);return this.scheduleNavigation(me,"imperative",null,$)}navigate(M,$={skipLocationChange:!1}){return function ju(U){for(let P=0;P<U.length;P++){const M=U[P];if(null==M)throw new Error(`The requested path contains ${M} segment at index ${P}`)}}(M),this.navigateByUrl(this.createUrlTree(M,$),$)}serializeUrl(M){return this.urlSerializer.serialize(M)}parseUrl(M){let $;try{$=this.urlSerializer.parse(M)}catch(X){$=this.malformedUriErrorHandler(X,this.urlSerializer,M)}return $}isActive(M,$){let X;if(X=!0===$?Object.assign({},Ki):!1===$?Object.assign({},uo):$,Rs(M))return ks(this.currentUrlTree,M,X);const me=this.parseUrl(M);return ks(this.currentUrlTree,me,X)}removeEmptyProps(M){return Object.keys(M).reduce(($,X)=>{const me=M[X];return null!=me&&($[X]=me),$},{})}processNavigations(){this.navigations.subscribe(M=>{this.navigated=!0,this.lastSuccessfulId=M.id,this.currentPageId=M.targetPageId,this.events.next(new Vr(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,M.resolve(!0)},M=>{this.console.warn(`Unhandled Navigation Error: ${M}`)})}scheduleNavigation(M,$,X,me,Fe){var ot,nn;if(this.disposed)return Promise.resolve(!1);let sr,pi,br;Fe?(sr=Fe.resolve,pi=Fe.reject,br=Fe.promise):br=new Promise((So,Xo)=>{sr=So,pi=Xo});const zi=++this.navigationId;let Ei;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(X=this.location.getState()),Ei=X&&X.\u0275routerPageId?X.\u0275routerPageId:me.replaceUrl||me.skipLocationChange?null!==(ot=this.browserPageId)&&void 0!==ot?ot:0:(null!==(nn=this.browserPageId)&&void 0!==nn?nn:0)+1):Ei=0,this.setTransition({id:zi,targetPageId:Ei,source:$,restoredState:X,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:M,extras:me,resolve:sr,reject:pi,promise:br,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),br.catch(So=>Promise.reject(So))}setBrowserUrl(M,$){const X=this.urlSerializer.serialize(M),me=Object.assign(Object.assign({},$.extras.state),this.generateNgRouterState($.id,$.targetPageId));this.location.isCurrentPathEqualTo(X)||$.extras.replaceUrl?this.location.replaceState(X,"",me):this.location.go(X,"",me)}restoreHistory(M,$=!1){var X,me;if("computed"===this.canceledNavigationResolution){const Fe=this.currentPageId-M.targetPageId;"popstate"!==M.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(X=this.currentNavigation)||void 0===X?void 0:X.finalUrl)||0===Fe?this.currentUrlTree===(null===(me=this.currentNavigation)||void 0===me?void 0:me.finalUrl)&&0===Fe&&(this.resetState(M),this.browserUrlTree=M.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Fe)}else"replace"===this.canceledNavigationResolution&&($&&this.resetState(M),this.resetUrlToCurrentUrlTree())}resetState(M){this.routerState=M.currentRouterState,this.currentUrlTree=M.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,M.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(M,$){const X=new Zr(M.id,this.serializeUrl(M.extractedUrl),$);this.triggerEvent(X),M.resolve(!1)}generateNgRouterState(M,$){return"computed"===this.canceledNavigationResolution?{navigationId:M,\u0275routerPageId:$}:{navigationId:M}}}return U.\u0275fac=function(M){a.$Z()},U.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac}),U})();function qs(U){return"imperative"!==U}let Bo=(()=>{class U{constructor(M,$,X,me,Fe){this.router=M,this.route=$,this.tabIndexAttribute=X,this.renderer=me,this.el=Fe,this.commands=null,this.onChanges=new y.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(M){if(null!=this.tabIndexAttribute)return;const $=this.renderer,X=this.el.nativeElement;null!==M?$.setAttribute(X,"tabindex",M):$.removeAttribute(X,"tabindex")}ngOnChanges(M){this.onChanges.next(this)}set routerLink(M){null!=M?(this.commands=Array.isArray(M)?M:[M],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const M={skipLocationChange:ec(this.skipLocationChange),replaceUrl:ec(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,M),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ec(this.preserveFragment)})}}return U.\u0275fac=function(M){return new(M||U)(a.Y36(vs),a.Y36(Ft),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},U.\u0275dir=a.lG2({type:U,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(M,$){1&M&&a.NdJ("click",function(){return $.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),U})(),Qo=(()=>{class U{constructor(M,$,X){this.router=M,this.route=$,this.locationStrategy=X,this.commands=null,this.href=null,this.onChanges=new y.x,this.subscription=M.events.subscribe(me=>{me instanceof Vr&&this.updateTargetUrlAndHref()})}set routerLink(M){this.commands=null!=M?Array.isArray(M)?M:[M]:null}ngOnChanges(M){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(M,$,X,me,Fe){if(0!==M||$||X||me||Fe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ot={skipLocationChange:ec(this.skipLocationChange),replaceUrl:ec(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ot),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ec(this.preserveFragment)})}}return U.\u0275fac=function(M){return new(M||U)(a.Y36(vs),a.Y36(Ft),a.Y36(Zn.S$))},U.\u0275dir=a.lG2({type:U,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(M,$){1&M&&a.NdJ("click",function(me){return $.onClick(me.button,me.ctrlKey,me.shiftKey,me.altKey,me.metaKey)}),2&M&&a.uIk("target",$.target)("href",$.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),U})();function ec(U){return""===U||!!U}let Dc=(()=>{class U{constructor(M,$,X,me,Fe,ot){this.router=M,this.element=$,this.renderer=X,this.cdr=me,this.link=Fe,this.linkWithHref=ot,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=M.events.subscribe(nn=>{nn instanceof Vr&&this.update()})}ngAfterContentInit(){(0,Ve.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ve.of)(null)).pipe((0,Sn.J)()).subscribe(M=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var M;null===(M=this.linkInputChangesSubscription)||void 0===M||M.unsubscribe();const $=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(X=>!!X).map(X=>X.onChanges);this.linkInputChangesSubscription=(0,ae.D)($).pipe((0,Sn.J)()).subscribe(X=>{this.isActive!==this.isLinkActive(this.router)(X)&&this.update()})}set routerLinkActive(M){const $=Array.isArray(M)?M:M.split(" ");this.classes=$.filter(X=>!!X)}ngOnChanges(M){this.update()}ngOnDestroy(){var M;this.routerEventsSubscription.unsubscribe(),null===(M=this.linkInputChangesSubscription)||void 0===M||M.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const M=this.hasActiveLinks();this.isActive!==M&&(this.isActive=M,this.cdr.markForCheck(),this.classes.forEach($=>{M?this.renderer.addClass(this.element.nativeElement,$):this.renderer.removeClass(this.element.nativeElement,$)}),this.isActiveChange.emit(M))})}isLinkActive(M){const $=function Po(U){return!!U.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return X=>!!X.urlTree&&M.isActive(X.urlTree,$)}hasActiveLinks(){const M=this.isLinkActive(this.router);return this.link&&M(this.link)||this.linkWithHref&&M(this.linkWithHref)||this.links.some(M)||this.linksWithHrefs.some(M)}}return U.\u0275fac=function(M){return new(M||U)(a.Y36(vs),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(Bo,8),a.Y36(Qo,8))},U.\u0275dir=a.lG2({type:U,selectors:[["","routerLinkActive",""]],contentQueries:function(M,$,X){if(1&M&&(a.Suo(X,Bo,5),a.Suo(X,Qo,5)),2&M){let me;a.iGM(me=a.CRH())&&($.links=me),a.iGM(me=a.CRH())&&($.linksWithHrefs=me)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[a.TTD]}),U})();class la{}class tc{preload(P,M){return(0,Ve.of)(null)}}let pc=(()=>{class U{constructor(M,$,X,me){this.router=M,this.injector=X,this.preloadingStrategy=me,this.loader=new ua(X,$,nn=>M.triggerEvent(new xr(nn)),nn=>M.triggerEvent(new gi(nn)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Dt.h)(M=>M instanceof Vr),(0,In.b)(()=>this.preload())).subscribe(()=>{})}preload(){const M=this.injector.get(a.h0i);return this.processRoutes(M,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(M,$){const X=[];for(const me of $)if(me.loadChildren&&!me.canLoad&&me._loadedConfig){const Fe=me._loadedConfig;X.push(this.processRoutes(Fe.module,Fe.routes))}else me.loadChildren&&!me.canLoad?X.push(this.preloadConfig(M,me)):me.children&&X.push(this.processRoutes(M,me.children));return(0,ae.D)(X).pipe((0,Sn.J)(),(0,qt.U)(me=>{}))}preloadConfig(M,$){return this.preloadingStrategy.preload($,()=>($._loadedConfig?(0,Ve.of)($._loadedConfig):this.loader.load(M.injector,$)).pipe((0,At.z)(me=>($._loadedConfig=me,this.processRoutes(me.module,me.routes)))))}}return U.\u0275fac=function(M){return new(M||U)(a.LFG(vs),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(la))},U.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac}),U})(),Di=(()=>{class U{constructor(M,$,X={}){this.router=M,this.viewportScroller=$,this.options=X,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},X.scrollPositionRestoration=X.scrollPositionRestoration||"disabled",X.anchorScrolling=X.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(M=>{M instanceof ar?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=M.navigationTrigger,this.restoredId=M.restoredState?M.restoredState.navigationId:0):M instanceof Vr&&(this.lastId=M.id,this.scheduleScrollEvent(M,this.router.parseUrl(M.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(M=>{M instanceof lr&&(M.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(M.position):M.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(M.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(M,$){this.router.triggerEvent(new lr(M,"popstate"===this.lastSource?this.store[this.restoredId]:null,$))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return U.\u0275fac=function(M){a.$Z()},U.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac}),U})();const Yo=new a.OlP("ROUTER_CONFIGURATION"),zc=new a.OlP("ROUTER_FORROOT_GUARD"),Ca=[Zn.Ye,{provide:_i,useClass:ai},{provide:vs,useFactory:function $l(U,P,M,$,X,me,Fe={},ot,nn){const sr=new vs(null,U,P,M,$,X,nr(me));return ot&&(sr.urlHandlingStrategy=ot),nn&&(sr.routeReuseStrategy=nn),function Wl(U,P){U.errorHandler&&(P.errorHandler=U.errorHandler),U.malformedUriErrorHandler&&(P.malformedUriErrorHandler=U.malformedUriErrorHandler),U.onSameUrlNavigation&&(P.onSameUrlNavigation=U.onSameUrlNavigation),U.paramsInheritanceStrategy&&(P.paramsInheritanceStrategy=U.paramsInheritanceStrategy),U.relativeLinkResolution&&(P.relativeLinkResolution=U.relativeLinkResolution),U.urlUpdateStrategy&&(P.urlUpdateStrategy=U.urlUpdateStrategy),U.canceledNavigationResolution&&(P.canceledNavigationResolution=U.canceledNavigationResolution)}(Fe,sr),Fe.enableTracing&&sr.events.subscribe(pi=>{var br,zi;null===(br=console.group)||void 0===br||br.call(console,`Router Event: ${pi.constructor.name}`),console.log(pi.toString()),console.log(pi),null===(zi=console.groupEnd)||void 0===zi||zi.call(console)}),sr},deps:[_i,ns,Zn.Ye,a.zs3,a.Sil,fc,Yo,[class Hc{},new a.FiY],[class Zs{},new a.FiY]]},ns,{provide:Ft,useFactory:function xc(U){return U.routerState.root},deps:[vs]},pc,tc,class Wc{preload(P,M){return M().pipe(pt(()=>(0,Ve.of)(null)))}},{provide:Yo,useValue:{enableTracing:!1}}];function Ua(){return new a.PXZ("Router",vs)}let da=(()=>{class U{constructor(M,$){}static forRoot(M,$){return{ngModule:U,providers:[Ca,Eo(M),{provide:zc,useFactory:Ta,deps:[[vs,new a.FiY,new a.tp0]]},{provide:Yo,useValue:$||{}},{provide:Zn.S$,useFactory:nc,deps:[Zn.lw,[new a.tBr(Zn.mr),new a.FiY],Yo]},{provide:Di,useFactory:ml,deps:[vs,Zn.EM,Yo]},{provide:la,useExisting:$&&$.preloadingStrategy?$.preloadingStrategy:tc},{provide:a.PXZ,multi:!0,useFactory:Ua},[Jo,{provide:a.ip1,multi:!0,useFactory:Su,deps:[Jo]},{provide:Bu,useFactory:Io,deps:[Jo]},{provide:a.tb,multi:!0,useExisting:Bu}]]}}static forChild(M){return{ngModule:U,providers:[Eo(M)]}}}return U.\u0275fac=function(M){return new(M||U)(a.LFG(zc,8),a.LFG(vs,8))},U.\u0275mod=a.oAB({type:U}),U.\u0275inj=a.cJS({}),U})();function ml(U,P,M){return M.scrollOffset&&P.setOffset(M.scrollOffset),new Di(U,P,M)}function nc(U,P,M={}){return M.useHash?new Zn.Do(U,P):new Zn.b0(U,P)}function Ta(U){return"guarded"}function Eo(U){return[{provide:a.deG,multi:!0,useValue:U},{provide:fc,multi:!0,useValue:U}]}let Jo=(()=>{class U{constructor(M){this.injector=M,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new y.x}appInitializer(){return this.injector.get(Zn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let $=null;const X=new Promise(ot=>$=ot),me=this.injector.get(vs),Fe=this.injector.get(Yo);return"disabled"===Fe.initialNavigation?(me.setUpLocationChangeListener(),$(!0)):"enabled"===Fe.initialNavigation||"enabledBlocking"===Fe.initialNavigation?(me.hooks.afterPreactivation=()=>this.initNavigation?(0,Ve.of)(null):(this.initNavigation=!0,$(!0),this.resultOfPreactivationDone),me.initialNavigation()):$(!0),X})}bootstrapListener(M){const $=this.injector.get(Yo),X=this.injector.get(pc),me=this.injector.get(Di),Fe=this.injector.get(vs),ot=this.injector.get(a.z2F);M===ot.components[0]&&(("enabledNonBlocking"===$.initialNavigation||void 0===$.initialNavigation)&&Fe.initialNavigation(),X.setUpPreloading(),me.init(),Fe.resetRootComponentType(ot.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return U.\u0275fac=function(M){return new(M||U)(a.LFG(a.zs3))},U.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac}),U})();function Su(U){return U.appInitializer.bind(U)}function Io(U){return U.bootstrapListener.bind(U)}const Bu=new a.OlP("Router Initializer")},8001:(Kt,st,F)=>{"use strict";F.d(st,{Z:()=>ii});function fe(Oe,ye){if(!(ye instanceof Object))return ye;switch(ye.constructor){case Date:return new Date(ye.getTime());case Object:void 0===Oe&&(Oe={});break;case Array:Oe=[];break;default:return ye}for(const ke in ye)!ye.hasOwnProperty(ke)||!Ae(ke)||(Oe[ke]=fe(Oe[ke],ye[ke]));return Oe}function Ae(Oe){return"__proto__"!==Oe}class tn extends Error{constructor(ye,ke,Ke){super(ke),this.code=ye,this.customData=Ke,this.name="FirebaseError",Object.setPrototypeOf(this,tn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(ye,ke,Ke){this.service=ye,this.serviceName=ke,this.errors=Ke}create(ye,...ke){const Ke=ke[0]||{},Ye=`${this.service}/${ye}`,rn=this.errors[ye],kn=rn?function Qn(Oe,ye){return Oe.replace(qt,(ke,Ke)=>{const Ye=ye[Ke];return null!=Ye?String(Ye):`<${Ke}?>`})}(rn,Ke):"Error";return new tn(Ye,`${this.serviceName}: ${kn} (${Ye}).`,Ke)}}const qt=/\{\$([^}]+)}/g;function Ut(Oe,ye){return Object.prototype.hasOwnProperty.call(Oe,ye)}function ti(Oe,ye){const ke=new er(Oe,ye);return ke.subscribe.bind(ke)}class er{constructor(ye,ke){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ke,this.task.then(()=>{ye(this)}).catch(Ke=>{this.error(Ke)})}next(ye){this.forEachObserver(ke=>{ke.next(ye)})}error(ye){this.forEachObserver(ke=>{ke.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,ke,Ke){let Ye;if(void 0===ye&&void 0===ke&&void 0===Ke)throw new Error("Missing Observer.");Ye=function vr(Oe,ye){if("object"!=typeof Oe||null===Oe)return!1;for(const ke of ye)if(ke in Oe&&"function"==typeof Oe[ke])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:ke,complete:Ke},void 0===Ye.next&&(Ye.next=xr),void 0===Ye.error&&(Ye.error=xr),void 0===Ye.complete&&(Ye.complete=xr);const rn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ye.error(this.finalError):Ye.complete()}catch(kn){}}),this.observers.push(Ye),rn}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let ke=0;ke<this.observers.length;ke++)this.sendOne(ke,ye)}sendOne(ye,ke){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{ke(this.observers[ye])}catch(Ke){"undefined"!=typeof console&&console.error&&console.error(Ke)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xr(){}class or{constructor(ye,ke,Ke){this.name=ye,this.instanceFactory=ke,this.type=Ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ye){return this.instantiationMode=ye,this}setMultipleInstances(ye){return this.multipleInstances=ye,this}setServiceProps(ye){return this.serviceProps=ye,this}setInstanceCreatedCallback(ye){return this.onInstanceCreated=ye,this}}var Qr=F(9206);const ts=[];var tr=(()=>{return(Oe=tr||(tr={}))[Oe.DEBUG=0]="DEBUG",Oe[Oe.VERBOSE=1]="VERBOSE",Oe[Oe.INFO=2]="INFO",Oe[Oe.WARN=3]="WARN",Oe[Oe.ERROR=4]="ERROR",Oe[Oe.SILENT=5]="SILENT",tr;var Oe})();const ks={debug:tr.DEBUG,verbose:tr.VERBOSE,info:tr.INFO,warn:tr.WARN,error:tr.ERROR,silent:tr.SILENT},Ys=tr.INFO,ni={[tr.DEBUG]:"log",[tr.VERBOSE]:"log",[tr.INFO]:"info",[tr.WARN]:"warn",[tr.ERROR]:"error"},po=(Oe,ye,...ke)=>{if(ye<Oe.logLevel)return;const Ke=(new Date).toISOString(),Ye=ni[ye];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[Ye](`[${Ke}]  ${Oe.name}:`,...ke)};class at{constructor(ye,ke){this._delegate=ye,this.firebase=ke,(0,Qr._addComponent)(ye,new or("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Qr.deleteApp)(this._delegate)))}_getService(ye,ke=Qr._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(ye);return!Ye.isInitialized()&&"EXPLICIT"===(null===(Ke=Ye.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:ke})}_removeServiceInstance(ye,ke=Qr._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(ke)}_addComponent(ye){(0,Qr._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,Qr._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const mt=new bt("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),cr=function Yn(){const Oe=function Qt(Oe){const ye={},ke={__esModule:!0,initializeApp:function rn(yr,dt={}){const ir=Qr.initializeApp(yr,dt);if(Ut(ye,ir.name))return ye[ir.name];const On=new Oe(ir,ke);return ye[ir.name]=On,On},app:Ye,registerVersion:Qr.registerVersion,setLogLevel:Qr.setLogLevel,onLog:Qr.onLog,apps:null,SDK_VERSION:Qr.SDK_VERSION,INTERNAL:{registerComponent:function zr(yr){const dt=yr.name,ir=dt.replace("-compat","");if(Qr._registerComponent(yr)&&"PUBLIC"===yr.type){const On=(qn=Ye())=>{if("function"!=typeof qn[ir])throw mt.create("invalid-app-argument",{appName:dt});return qn[ir]()};void 0!==yr.serviceProps&&fe(On,yr.serviceProps),ke[ir]=On,Oe.prototype[ir]=function(...qn){return this._getService.bind(this,dt).apply(this,yr.multipleInstances?qn:[])}}return"PUBLIC"===yr.type?ke[ir]:null},removeApp:function Ke(yr){delete ye[yr]},useAsService:function Er(yr,dt){return"serverAuth"===dt?null:dt},modularAPIs:Qr}};function Ye(yr){if(!Ut(ye,yr=yr||Qr._DEFAULT_ENTRY_NAME))throw mt.create("no-app",{appName:yr});return ye[yr]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function kn(){return Object.keys(ye).map(yr=>ye[yr])}}),Ye.App=Oe,ke}(at);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:Yn,extendNamespace:function ye(ke){fe(Oe,ke)},createSubscribe:ti,ErrorFactory:bt,deepExtend:fe}),Oe}(),_i=new class Ws{constructor(ye){this.name=ye,this._logLevel=Ys,this._logHandler=po,this._userLogHandler=null,ts.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in tr))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?ks[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,tr.DEBUG,...ye),this._logHandler(this,tr.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,tr.VERBOSE,...ye),this._logHandler(this,tr.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,tr.INFO,...ye),this._logHandler(this,tr.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,tr.WARN,...ye),this._logHandler(this,tr.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,tr.ERROR,...ye),this._logHandler(this,tr.ERROR,...ye)}}("@firebase/app-compat");if(function Re(){return"object"==typeof self&&self.self===self}()&&void 0!==self.firebase){_i.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&_i.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ii=cr;!function ri(Oe){(0,Qr.registerVersion)("@firebase/app-compat","0.1.18",Oe)}()},9206:(Kt,st,F)=>{"use strict";F.r(st),F.d(st,{FirebaseError:()=>bt,SDK_VERSION:()=>Rr,_DEFAULT_ENTRY_NAME:()=>Yr,_addComponent:()=>Lt,_addOrOverwriteComponent:()=>Ft,_apps:()=>$r,_clearComponents:()=>Wn,_components:()=>rt,_getProvider:()=>Cn,_registerComponent:()=>yn,_removeServiceInstance:()=>Un,deleteApp:()=>Oi,getApp:()=>Tr,getApps:()=>Is,initializeApp:()=>Ci,onLog:()=>Os,registerVersion:()=>$i,setLogLevel:()=>io});var a=F(5861);class ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((pe,qe)=>{this.resolve=pe,this.reject=qe})}wrapCallback(pe){return(qe,Ot)=>{qe?this.reject(qe):this.resolve(Ot),"function"==typeof pe&&(this.promise.catch(()=>{}),1===pe.length?pe(qe):pe(qe,Ot))}}}class bt extends Error{constructor(pe,qe,Ot){super(qe),this.code=pe,this.customData=Ot,this.name="FirebaseError",Object.setPrototypeOf(this,bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qn.prototype.create)}}class Qn{constructor(pe,qe,Ot){this.service=pe,this.serviceName=qe,this.errors=Ot}create(pe,...qe){const Ot=qe[0]||{},vt=`${this.service}/${pe}`,Nn=this.errors[pe],rr=Nn?function qt($e,pe){return $e.replace(kt,(qe,Ot)=>{const vt=pe[Ot];return null!=vt?String(vt):`<${Ot}?>`})}(Nn,Ot):"Error";return new bt(vt,`${this.serviceName}: ${rr} (${vt}).`,Ot)}}const kt=/\{\$([^}]+)}/g;function ar($e,pe){if($e===pe)return!0;const qe=Object.keys($e),Ot=Object.keys(pe);for(const vt of qe){if(!Ot.includes(vt))return!1;const Nn=$e[vt],rr=pe[vt];if(Vr(Nn)&&Vr(rr)){if(!ar(Nn,rr))return!1}else if(Nn!==rr)return!1}for(const vt of Ot)if(!qe.includes(vt))return!1;return!0}function Vr($e){return null!==$e&&"object"==typeof $e}class nr{constructor(pe,qe,Ot){this.name=pe,this.instanceFactory=qe,this.type=Ot,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(pe){return this.instantiationMode=pe,this}setMultipleInstances(pe){return this.multipleInstances=pe,this}setServiceProps(pe){return this.serviceProps=pe,this}setInstanceCreatedCallback(pe){return this.onInstanceCreated=pe,this}}const _r="[DEFAULT]";class Ns{constructor(pe,qe){this.name=pe,this.container=qe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(pe){const qe=this.normalizeInstanceIdentifier(pe);if(!this.instancesDeferred.has(qe)){const Ot=new ne;if(this.instancesDeferred.set(qe,Ot),this.isInitialized(qe)||this.shouldAutoInitialize())try{const vt=this.getOrInitializeService({instanceIdentifier:qe});vt&&Ot.resolve(vt)}catch(vt){}}return this.instancesDeferred.get(qe).promise}getImmediate(pe){var qe;const Ot=this.normalizeInstanceIdentifier(null==pe?void 0:pe.identifier),vt=null!==(qe=null==pe?void 0:pe.optional)&&void 0!==qe&&qe;if(!this.isInitialized(Ot)&&!this.shouldAutoInitialize()){if(vt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ot})}catch(Nn){if(vt)return null;throw Nn}}getComponent(){return this.component}setComponent(pe){if(pe.name!==this.name)throw Error(`Mismatching Component ${pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=pe,this.shouldAutoInitialize()){if(function mr($e){return"EAGER"===$e.instantiationMode}(pe))try{this.getOrInitializeService({instanceIdentifier:_r})}catch(qe){}for(const[qe,Ot]of this.instancesDeferred.entries()){const vt=this.normalizeInstanceIdentifier(qe);try{const Nn=this.getOrInitializeService({instanceIdentifier:vt});Ot.resolve(Nn)}catch(Nn){}}}}clearInstance(pe=_r){this.instancesDeferred.delete(pe),this.instancesOptions.delete(pe),this.instances.delete(pe)}delete(){var pe=this;return(0,a.Z)(function*(){const qe=Array.from(pe.instances.values());yield Promise.all([...qe.filter(Ot=>"INTERNAL"in Ot).map(Ot=>Ot.INTERNAL.delete()),...qe.filter(Ot=>"_delete"in Ot).map(Ot=>Ot._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(pe=_r){return this.instances.has(pe)}getOptions(pe=_r){return this.instancesOptions.get(pe)||{}}initialize(pe={}){const{options:qe={}}=pe,Ot=this.normalizeInstanceIdentifier(pe.instanceIdentifier);if(this.isInitialized(Ot))throw Error(`${this.name}(${Ot}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const vt=this.getOrInitializeService({instanceIdentifier:Ot,options:qe});for(const[Nn,rr]of this.instancesDeferred.entries())Ot===this.normalizeInstanceIdentifier(Nn)&&rr.resolve(vt);return vt}onInit(pe,qe){var Ot;const vt=this.normalizeInstanceIdentifier(qe),Nn=null!==(Ot=this.onInitCallbacks.get(vt))&&void 0!==Ot?Ot:new Set;Nn.add(pe),this.onInitCallbacks.set(vt,Nn);const rr=this.instances.get(vt);return rr&&pe(rr,vt),()=>{Nn.delete(pe)}}invokeOnInitCallbacks(pe,qe){const Ot=this.onInitCallbacks.get(qe);if(Ot)for(const vt of Ot)try{vt(pe,qe)}catch(Nn){}}getOrInitializeService({instanceIdentifier:pe,options:qe={}}){let Ot=this.instances.get(pe);if(!Ot&&this.component&&(Ot=this.component.instanceFactory(this.container,{instanceIdentifier:($e=pe,$e===_r?void 0:$e),options:qe}),this.instances.set(pe,Ot),this.instancesOptions.set(pe,qe),this.invokeOnInitCallbacks(Ot,pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,pe,Ot)}catch(vt){}var $e;return Ot||null}normalizeInstanceIdentifier(pe=_r){return this.component?this.component.multipleInstances?pe:_r:pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Qr{constructor(pe){this.name=pe,this.providers=new Map}addComponent(pe){const qe=this.getProvider(pe.name);if(qe.isComponentSet())throw new Error(`Component ${pe.name} has already been registered with ${this.name}`);qe.setComponent(pe)}addOrOverwriteComponent(pe){this.getProvider(pe.name).isComponentSet()&&this.providers.delete(pe.name),this.addComponent(pe)}getProvider(pe){if(this.providers.has(pe))return this.providers.get(pe);const qe=new Ns(pe,this);return this.providers.set(pe,qe),qe}getProviders(){return Array.from(this.providers.values())}}const ts=[];var tr=(()=>{return($e=tr||(tr={}))[$e.DEBUG=0]="DEBUG",$e[$e.VERBOSE=1]="VERBOSE",$e[$e.INFO=2]="INFO",$e[$e.WARN=3]="WARN",$e[$e.ERROR=4]="ERROR",$e[$e.SILENT=5]="SILENT",tr;var $e})();const ks={debug:tr.DEBUG,verbose:tr.VERBOSE,info:tr.INFO,warn:tr.WARN,error:tr.ERROR,silent:tr.SILENT},Ys=tr.INFO,ni={[tr.DEBUG]:"log",[tr.VERBOSE]:"log",[tr.INFO]:"info",[tr.WARN]:"warn",[tr.ERROR]:"error"},po=($e,pe,...qe)=>{if(pe<$e.logLevel)return;const Ot=(new Date).toISOString(),vt=ni[pe];if(!vt)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[vt](`[${Ot}]  ${$e.name}:`,...qe)};class at{constructor(pe){this.container=pe}getPlatformInfoString(){return this.container.getProviders().map(qe=>{if(function xe($e){const pe=$e.getComponent();return"VERSION"===(null==pe?void 0:pe.type)}(qe)){const Ot=qe.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(qe=>qe).join(" ")}}const mt="@firebase/app",Yn=new class Ws{constructor(pe){this.name=pe,this._logLevel=Ys,this._logHandler=po,this._userLogHandler=null,ts.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in tr))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?ks[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,tr.DEBUG,...pe),this._logHandler(this,tr.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,tr.VERBOSE,...pe),this._logHandler(this,tr.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,tr.INFO,...pe),this._logHandler(this,tr.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,tr.WARN,...pe),this._logHandler(this,tr.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,tr.ERROR,...pe),this._logHandler(this,tr.ERROR,...pe)}}("@firebase/app"),Yr="[DEFAULT]",Es={[mt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$r=new Map,rt=new Map;function Lt($e,pe){try{$e.container.addComponent(pe)}catch(qe){Yn.debug(`Component ${pe.name} failed to register with FirebaseApp ${$e.name}`,qe)}}function Ft($e,pe){$e.container.addOrOverwriteComponent(pe)}function yn($e){const pe=$e.name;if(rt.has(pe))return Yn.debug(`There were multiple attempts to register component ${pe}.`),!1;rt.set(pe,$e);for(const qe of $r.values())Lt(qe,$e);return!0}function Cn($e,pe){return $e.container.getProvider(pe)}function Un($e,pe,qe=Yr){Cn($e,pe).clearInstance(qe)}function Wn(){rt.clear()}const Ir=new Qn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Si{constructor(pe,qe,Ot){this._isDeleted=!1,this._options=Object.assign({},pe),this._config=Object.assign({},qe),this._name=qe.name,this._automaticDataCollectionEnabled=qe.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pe){this._isDeleted=pe}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}const Rr="9.6.7";function Ci($e,pe={}){"object"!=typeof pe&&(pe={name:pe});const qe=Object.assign({name:Yr,automaticDataCollectionEnabled:!1},pe),Ot=qe.name;if("string"!=typeof Ot||!Ot)throw Ir.create("bad-app-name",{appName:String(Ot)});const vt=$r.get(Ot);if(vt){if(ar($e,vt.options)&&ar(qe,vt.config))return vt;throw Ir.create("duplicate-app",{appName:Ot})}const Nn=new Qr(Ot);for(const pr of rt.values())Nn.addComponent(pr);const rr=new Si($e,qe,Nn);return $r.set(Ot,rr),rr}function Tr($e=Yr){const pe=$r.get($e);if(!pe)throw Ir.create("no-app",{appName:$e});return pe}function Is(){return Array.from($r.values())}function Oi($e){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,a.Z)(function*($e){const pe=$e.name;$r.has(pe)&&($r.delete(pe),yield Promise.all($e.container.getProviders().map(qe=>qe.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function $i($e,pe,qe){var Ot;let vt=null!==(Ot=Es[$e])&&void 0!==Ot?Ot:$e;qe&&(vt+=`-${qe}`);const Nn=vt.match(/\s|\//),rr=pe.match(/\s|\//);if(Nn||rr){const pr=[`Unable to register library "${vt}" with version "${pe}":`];return Nn&&pr.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),Nn&&rr&&pr.push("and"),rr&&pr.push(`version name "${pe}" contains illegal characters (whitespace or "/")`),void Yn.warn(pr.join(" "))}yn(new nr(`${vt}-version`,()=>({library:vt,version:pe}),"VERSION"))}function Os($e,pe){if(null!==$e&&"function"!=typeof $e)throw Ir.create("invalid-log-argument");!function Nt($e,pe){for(const qe of ts){let Ot=null;pe&&pe.level&&(Ot=ks[pe.level]),qe.userLogHandler=null===$e?null:(vt,Nn,...rr)=>{const pr=rr.map(Jr=>{if(null==Jr)return null;if("string"==typeof Jr)return Jr;if("number"==typeof Jr||"boolean"==typeof Jr)return Jr.toString();if(Jr instanceof Error)return Jr.message;try{return JSON.stringify(Jr)}catch(Ri){return null}}).filter(Jr=>Jr).join(" ");Nn>=(null!=Ot?Ot:vt.logLevel)&&$e({level:tr[Nn].toLowerCase(),message:pr,args:rr,type:vt.name})}}}($e,pe)}function io($e){!function qi($e){ts.forEach(pe=>{pe.setLogLevel($e)})}($e)}!function Lo($e){yn(new nr("platform-logger",pe=>new at(pe),"PRIVATE")),$i(mt,"0.7.17",$e),$i(mt,"0.7.17","esm2017"),$i("fire-js","")}("")},5861:(Kt,st,F)=>{"use strict";function a(re,ce,Ie,ae,Pe,Ne,Le){try{var Ee=re[Ne](Le),fe=Ee.value}catch(Ae){return void Ie(Ae)}Ee.done?ce(fe):Promise.resolve(fe).then(ae,Pe)}function y(re){return function(){var ce=this,Ie=arguments;return new Promise(function(ae,Pe){var Ne=re.apply(ce,Ie);function Le(fe){a(Ne,ae,Pe,Le,Ee,"next",fe)}function Ee(fe){a(Ne,ae,Pe,Le,Ee,"throw",fe)}Le(void 0)})}}F.d(st,{Z:()=>y})}},Kt=>{Kt(Kt.s=2535)}]);